{"version":3,"sources":["webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/account-activation/account-activation.component.css","webpack:///./src/app/account-activation/account-activation.component.html","webpack:///./src/app/account-activation/account-activation.component.ts","webpack:///./src/app/administrator/administrator.component.css","webpack:///./src/app/administrator/administrator.component.html","webpack:///./src/app/administrator/administrator.component.ts","webpack:///./src/app/alert/alert.component.css","webpack:///./src/app/alert/alert.component.html","webpack:///./src/app/alert/alert.component.ts","webpack:///./src/app/already-in.guard.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/authentication.guard.ts","webpack:///./src/app/authorization.guard.ts","webpack:///./src/app/autofocus.directive.ts","webpack:///./src/app/breadcrumb/breadcrumb.component.css","webpack:///./src/app/breadcrumb/breadcrumb.component.html","webpack:///./src/app/breadcrumb/breadcrumb.component.ts","webpack:///./src/app/cancel-confirmation-modal/cancel-confirmation-modal.component.css","webpack:///./src/app/cancel-confirmation-modal/cancel-confirmation-modal.component.html","webpack:///./src/app/cancel-confirmation-modal/cancel-confirmation-modal.component.ts","webpack:///./src/app/client/client.component.css","webpack:///./src/app/client/client.component.html","webpack:///./src/app/client/client.component.ts","webpack:///./src/app/config-management/config-management.component.css","webpack:///./src/app/config-management/config-management.component.html","webpack:///./src/app/config-management/config-management.component.ts","webpack:///./src/app/config.service.ts","webpack:///./src/app/confirm-action-modal/confirm-action-modal.component.css","webpack:///./src/app/confirm-action-modal/confirm-action-modal.component.html","webpack:///./src/app/confirm-action-modal/confirm-action-modal.component.ts","webpack:///./src/app/confirm-modal/confirm-modal.component.css","webpack:///./src/app/confirm-modal/confirm-modal.component.html","webpack:///./src/app/confirm-modal/confirm-modal.component.ts","webpack:///./src/app/create-institution/create-institution.component.css","webpack:///./src/app/create-institution/create-institution.component.html","webpack:///./src/app/create-institution/create-institution.component.ts","webpack:///./src/app/create-order/create-order.component.css","webpack:///./src/app/create-order/create-order.component.html","webpack:///./src/app/create-order/create-order.component.ts","webpack:///./src/app/create-user/create-user.component.css","webpack:///./src/app/create-user/create-user.component.html","webpack:///./src/app/create-user/create-user.component.ts","webpack:///./src/app/cuit.pipe.ts","webpack:///./src/app/daily-report/daily-report.component.css","webpack:///./src/app/daily-report/daily-report.component.html","webpack:///./src/app/daily-report/daily-report.component.ts","webpack:///./src/app/edit-config-modal/edit-config-modal.component.css","webpack:///./src/app/edit-config-modal/edit-config-modal.component.html","webpack:///./src/app/edit-config-modal/edit-config-modal.component.ts","webpack:///./src/app/edit-hemocomponent-modal/edit-hemocomponent-modal.component.css","webpack:///./src/app/edit-hemocomponent-modal/edit-hemocomponent-modal.component.html","webpack:///./src/app/edit-hemocomponent-modal/edit-hemocomponent-modal.component.ts","webpack:///./src/app/edit-order/edit-order.component.css","webpack:///./src/app/edit-order/edit-order.component.html","webpack:///./src/app/edit-order/edit-order.component.ts","webpack:///./src/app/error-interceptor.ts","webpack:///./src/app/expiring-alert/expiring-alert.component.css","webpack:///./src/app/expiring-alert/expiring-alert.component.html","webpack:///./src/app/expiring-alert/expiring-alert.component.ts","webpack:///./src/app/hemocomponents/hemocomponents.component.css","webpack:///./src/app/hemocomponents/hemocomponents.component.html","webpack:///./src/app/hemocomponents/hemocomponents.component.ts","webpack:///./src/app/institution-details/institution-details.component.css","webpack:///./src/app/institution-details/institution-details.component.html","webpack:///./src/app/institution-details/institution-details.component.ts","webpack:///./src/app/institutions.service.ts","webpack:///./src/app/institutions/institutions.component.css","webpack:///./src/app/institutions/institutions.component.html","webpack:///./src/app/institutions/institutions.component.ts","webpack:///./src/app/leftzeroes.pipe.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/message.service.ts","webpack:///./src/app/message/message.component.css","webpack:///./src/app/message/message.component.html","webpack:///./src/app/message/message.component.ts","webpack:///./src/app/modal-login/modal-login.component.css","webpack:///./src/app/modal-login/modal-login.component.html","webpack:///./src/app/modal-login/modal-login.component.ts","webpack:///./src/app/modal-relogin/modal-relogin.component.css","webpack:///./src/app/modal-relogin/modal-relogin.component.html","webpack:///./src/app/modal-relogin/modal-relogin.component.ts","webpack:///./src/app/monthly-report/monthly-report.component.css","webpack:///./src/app/monthly-report/monthly-report.component.html","webpack:///./src/app/monthly-report/monthly-report.component.ts","webpack:///./src/app/nav/nav.component.css","webpack:///./src/app/nav/nav.component.html","webpack:///./src/app/nav/nav.component.ts","webpack:///./src/app/navigation.service.ts","webpack:///./src/app/not-found/not-found.component.css","webpack:///./src/app/not-found/not-found.component.html","webpack:///./src/app/not-found/not-found.component.ts","webpack:///./src/app/operator/operator.component.css","webpack:///./src/app/operator/operator.component.html","webpack:///./src/app/operator/operator.component.ts","webpack:///./src/app/order-conciliation/order-conciliation.component.css","webpack:///./src/app/order-conciliation/order-conciliation.component.html","webpack:///./src/app/order-conciliation/order-conciliation.component.ts","webpack:///./src/app/order-irradiation/order-irradiation.component.css","webpack:///./src/app/order-irradiation/order-irradiation.component.html","webpack:///./src/app/order-irradiation/order-irradiation.component.ts","webpack:///./src/app/order.service.ts","webpack:///./src/app/pagination/pagination.component.css","webpack:///./src/app/pagination/pagination.component.html","webpack:///./src/app/pagination/pagination.component.ts","webpack:///./src/app/password-change/password-change.component.css","webpack:///./src/app/password-change/password-change.component.html","webpack:///./src/app/password-change/password-change.component.ts","webpack:///./src/app/password-reset/password-reset.component.css","webpack:///./src/app/password-reset/password-reset.component.html","webpack:///./src/app/password-reset/password-reset.component.ts","webpack:///./src/app/pending-changes.guard.ts","webpack:///./src/app/prevent-default.directive.ts","webpack:///./src/app/progress-bar/progress-bar.component.css","webpack:///./src/app/progress-bar/progress-bar.component.html","webpack:///./src/app/progress-bar/progress-bar.component.ts","webpack:///./src/app/select-unit-modal/select-unit-modal.component.css","webpack:///./src/app/select-unit-modal/select-unit-modal.component.html","webpack:///./src/app/select-unit-modal/select-unit-modal.component.ts","webpack:///./src/app/session.service.ts","webpack:///./src/app/token-interceptor.ts","webpack:///./src/app/unit-edit-modal/unit-edit-modal.component.css","webpack:///./src/app/unit-edit-modal/unit-edit-modal.component.html","webpack:///./src/app/unit-edit-modal/unit-edit-modal.component.ts","webpack:///./src/app/unit-type.service.ts","webpack:///./src/app/unittype-edit-modal/unittype-edit-modal.component.css","webpack:///./src/app/unittype-edit-modal/unittype-edit-modal.component.html","webpack:///./src/app/unittype-edit-modal/unittype-edit-modal.component.ts","webpack:///./src/app/user.service.ts","webpack:///./src/app/users/users.component.css","webpack:///./src/app/users/users.component.html","webpack:///./src/app/users/users.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main.js","sourcesContent":["var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tvar module = __webpack_require__(id);\n\treturn module;\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-md-6  mx-auto\\\">\\r\\n\\r\\n            <div class=\\\"card p-5 shadow-sm mt-3\\\">\\r\\n\\r\\n                <div class=\\\"d-block mx-auto w-50\\\">\\r\\n                    <img src=\\\"assets/logo.png\\\" class=\\\"img-fluid\\\">\\r\\n                </div>\\r\\n\\r\\n                <hr class=\\\"d-block w-100 mx-auto mt-5\\\">\\r\\n\\r\\n                <form [formGroup]=\\\"loginForm\\\" class=\\\"mt-3\\\" (submit)=\\\"confirm()\\\">\\r\\n\\r\\n                    <div class=\\\"form-group mb-4\\\">\\r\\n                        <label>Usuario</label>\\r\\n                        <h6 class=\\\"text-primary font-weight-normal\\\">{{username}}</h6>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label>Contraseña</label>\\r\\n                        <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"password\\\">\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                        <p *ngIf=\\\"loginForm.controls.password.errors?.required\\\">Ingrese contraseña</p>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label>Confirme contraseña</label>\\r\\n                        <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"passwordConfirm\\\">\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                        <p *ngIf=\\\"loginForm.controls.passwordConfirm.errors?.required\\\">Confirme contraseña</p>\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                        <p *ngIf=\\\"loginForm.errors?.passwordMatch\\\">Las contraseñas no coinciden</p>\\r\\n                    </div>\\r\\n\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block mb-2\\\">Confirmar cuenta</button>\\r\\n\\r\\n                </form>\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, Validators, FormControl, ValidatorFn, ValidationErrors } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { UserService } from '../user.service';\r\nimport { MessageService, MessageType } from '../message.service';\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\n@Component({\r\n    selector: 'app-account-activation',\r\n    templateUrl: './account-activation.component.html',\r\n    styleUrls: ['./account-activation.component.css']\r\n})\r\nexport class AccountActivationComponent implements OnInit {\r\n\r\n    token: string;\r\n\r\n    loginForm: FormGroup = new FormGroup({\r\n        password: new FormControl(\"\", Validators.required),\r\n        passwordConfirm: new FormControl(\"\", Validators.required),\r\n    }, { validators: passwordMatch })\r\n\r\n    submitted = false;\r\n\r\n    username\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private messageService: MessageService,\r\n        private userService: UserService,\r\n        private activatedRoute: ActivatedRoute) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.token = this.activatedRoute.snapshot.queryParams.token\r\n        this.username = jwt_decode(this.token).username\r\n\r\n    }\r\n\r\n    confirm() {\r\n\r\n        if (this.loginForm.invalid) {\r\n            this.submitted = true\r\n            return\r\n        }\r\n\r\n        this.userService.activate({ ...this.loginForm.value, token: this.token })\r\n            .subscribe(() => this.onAccountConfirmed(), err => this.onError(err))\r\n\r\n    }\r\n\r\n    onAccountConfirmed() {\r\n\r\n        this.messageService.sendMessage({\r\n            text: \"La cuenta se activó correctamente. Inicie sesión con sus credenciales\",\r\n            ttlInSeconds: 10,\r\n            type: MessageType.SUCCESS,\r\n            persist: true\r\n        })\r\n\r\n        this.router.navigateByUrl(\"/login\")\r\n\r\n    }\r\n\r\n    onError(err) {\r\n\r\n        this.messageService.error(err.message)\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nconst passwordMatch: ValidatorFn = (control: FormGroup): ValidationErrors | null => {\r\n\r\n    const password = control.controls.password.value\r\n    const passwordConfirm = control.controls.passwordConfirm.value\r\n\r\n    const compare = password && passwordConfirm\r\n\r\n    if (compare)\r\n        return password === passwordConfirm ? null : { 'passwordMatch': true }\r\n\r\n    return null\r\n\r\n};\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-8 mx-auto\\\">\\r\\n\\r\\n            <div class=\\\"card shadow-sm mb-3 p-2\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <h5 class=\\\"card-title\\\">Instituciones</h5>\\r\\n                    <h6 class=\\\"card-subtitle mb-2 text-muted\\\">Administración de instituciones clientes del Banco</h6>\\r\\n                    <a routerLink=\\\"/administradores/instituciones\\\" class=\\\"card-link\\\">Acceder</a>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <div class=\\\"card shadow-sm mb-3 p-2\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <h5 class=\\\"card-title\\\">Usuarios</h5>\\r\\n                    <h6 class=\\\"card-subtitle mb-2 text-muted\\\">Administración de usuarios del sistema</h6>\\r\\n                    <a routerLink=\\\"/administradores/usuarios\\\" class=\\\"card-link\\\">Acceder</a>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"card shadow-sm mb-3 p-2\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <h5 class=\\\"card-title\\\">Tipos de unidades</h5>\\r\\n                    <h6 class=\\\"card-subtitle mb-2 text-muted\\\">Administración de hemocomponentes</h6>\\r\\n                    <a class=\\\"card-link\\\" routerLink=\\\"/administradores/hemocomponentes\\\">Acceder</a>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"card shadow-sm mb-3 p-2\\\">\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <h5 class=\\\"card-title\\\">Configuración del sistema</h5>\\r\\n                    <h6 class=\\\"card-subtitle mb-2 text-muted\\\">Administración de los principales parámetros del sistema</h6>\\r\\n                    <a class=\\\"card-link\\\" routerLink=\\\"/administradores/configuración\\\">Acceder</a>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-administrator',\r\n  templateUrl: './administrator.component.html',\r\n  styleUrls: ['./administrator.component.css']\r\n})\r\nexport class AdministratorComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"message-stack\\\">\\r\\n    <app-message *ngFor=\\\"let message of messages\\\" [message]=\\\"message\\\" (close)=\\\"closeAlert(message)\\\">\\r\\n        <div class=\\\"flex-grow-1 m-0 p-0\\\">\\r\\n            {{message.text}}\\r\\n        </div>\\r\\n        <div class=\\\"m-0 p-0 ml-3\\\">\\r\\n            <button class=\\\"btn btn-link p-0 m-0 text-white\\\" (click)=\\\"closeAlert(message)\\\">&times;</button>\\r\\n        </div>\\r\\n    </app-message>\\r\\n</div>\\r\\n\"","import { Component, OnDestroy, OnInit } from '@angular/core';\r\n\r\nimport { NavigationEnd, Router } from \"@angular/router\";\r\n\r\nimport { timer } from \"rxjs\";\r\n\r\nimport { filter } from \"rxjs/operators\";\r\n\r\nimport { MessageService } from \"./../message.service\";\r\n\r\n\r\n@Component({\r\n    selector: 'app-alert',\r\n    templateUrl: './alert.component.html',\r\n    styleUrls: ['./alert.component.css']\r\n})\r\nexport class MessageStackComponent implements OnInit, OnDestroy {\r\n\r\n    private messages: any[] = [];\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private messagesService: MessageService) { }\r\n\r\n\r\n    ngOnInit() {\r\n\r\n        this.router.events\r\n            .pipe(filter(e => e instanceof NavigationEnd))\r\n            .subscribe((e) => {\r\n\r\n                this.messages\r\n                    .filter(a => !a.persist)\r\n                    .forEach(a => this.closeAlert(a))\r\n\r\n            })\r\n\r\n        this.messagesService.messages\r\n            .subscribe(message => {\r\n\r\n                this.push(message);\r\n\r\n            })\r\n\r\n    }\r\n\r\n    private push(message) {\r\n        this.messages.unshift(message);\r\n    }\r\n\r\n    ngOnDestroy() { }\r\n\r\n    closeAlert(alert) {\r\n\r\n        this.messages.splice(this.messages.indexOf(alert), 1)\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\nimport { MessageService, MessageType } from './message.service';\r\nimport { SessionService } from './session.service';\r\nimport { tap } from 'rxjs/operators';\r\nimport { NavigationService } from './navigation.service';\r\n\r\n@Injectable()\r\nexport class AlreadyInGuard implements CanActivate {\r\n\r\n    private isAuthenticated: boolean = false;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private navigationService: NavigationService,\r\n        private messageService: MessageService,\r\n        private sessionService: SessionService) {\r\n\r\n        this.sessionService.events.subscribe((d) => {\r\n            this.isAuthenticated = !!d.user;\r\n        })\r\n\r\n    }\r\n\r\n    canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot):\r\n        Observable<boolean> | Promise<boolean> | boolean {\r\n\r\n        return of(!this.isAuthenticated).pipe(tap((canActivate) => {\r\n\r\n            if (!canActivate) {\r\n\r\n                if (!this.router.navigated)\r\n                    this.navigationService.navigateToHome();\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n        }))\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthenticationGuard } from \"./authentication.guard\";\r\nimport { AuthorizationGuard } from \"./authorization.guard\";\r\nimport { LoginComponent } from \"./login/login.component\";\r\nimport { NotFoundComponent } from \"./not-found/not-found.component\";\r\nimport { OperatorComponent } from \"./operator/operator.component\";\r\nimport { OrderConciliationComponent } from './order-conciliation/order-conciliation.component';\r\nimport { OrderIrradiationComponent } from './order-irradiation/order-irradiation.component';\r\nimport { DailyReportComponent } from './daily-report/daily-report.component';\r\nimport { MonthlyReportComponent } from './monthly-report/monthly-report.component';\r\nimport { AdministratorComponent } from './administrator/administrator.component';\r\nimport { CreateOrderComponent } from './create-order/create-order.component';\r\nimport { EditOrderComponent } from './edit-order/edit-order.component';\r\nimport { CreateUserComponent } from './create-user/create-user.component';\r\nimport { ClientComponent } from './client/client.component';\r\nimport { AlreadyInGuard } from './already-in.guard';\r\nimport { InstitutionsComponent } from './institutions/institutions.component';\r\nimport { UsersComponent } from './users/users.component';\r\nimport { CreateInstitutionComponent } from './create-institution/create-institution.component';\r\nimport { InstitutionDetailsComponent } from './institution-details/institution-details.component';\r\nimport { AccountActivationComponent } from './account-activation/account-activation.component';\r\nimport { PasswordResetComponent } from './password-reset/password-reset.component';\r\nimport { PasswordChangeComponent } from './password-change/password-change.component';\r\nimport { HemocomponentsComponent } from './hemocomponents/hemocomponents.component';\r\nimport { ConfigManagementComponent } from './config-management/config-management.component';\r\n\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: \"\",\r\n        redirectTo: \"login\",\r\n        pathMatch: \"full\"\r\n    },\r\n    {\r\n        path: \"login\",\r\n        component: LoginComponent,\r\n        data: {\r\n            breadcrumb: \"Inicio de Sesión\"\r\n        },\r\n        canActivate: [\r\n            AlreadyInGuard\r\n        ]\r\n    },\r\n    {\r\n        path: \"password-reset\",\r\n        component: PasswordResetComponent,\r\n        data: {\r\n            breadcrumb: \"Blanqueo de contraseña\"\r\n        }\r\n    },\r\n    {\r\n        path: \"password-change\",\r\n        component: PasswordChangeComponent,\r\n        data: {\r\n            breadcrumb: \"Cambiar contraseña\"\r\n        }\r\n    },\r\n    {\r\n        path: \"confirmar-cuenta\",\r\n        component: AccountActivationComponent,\r\n        data: {\r\n            breadcrumb: \"Confirmar cuenta\"\r\n        }\r\n    },\r\n    {\r\n        path: \"operadores\",\r\n        data: {\r\n            breadcrumb: \"Operadores\",\r\n            requiredRoles: [\"operator\"]\r\n        },\r\n        canActivate: [\r\n            AuthenticationGuard,\r\n            AuthorizationGuard\r\n        ],\r\n        children: [\r\n            {\r\n                path: \"\",\r\n                component: OperatorComponent,\r\n                data: {\r\n                    breadcrumb: \"Home\"\r\n                }\r\n            },\r\n            {\r\n                path: \"ordenes/:id/revisión\",\r\n                component: OrderConciliationComponent,\r\n                data: {\r\n                    breadcrumb: \"Revisión de órdenes\"\r\n                }\r\n            },\r\n            {\r\n                path: \"ordenes/:id/irradiación\",\r\n                component: OrderIrradiationComponent,\r\n                data: {\r\n                    breadcrumb: \"Irradiación de órdenes\"\r\n                }\r\n            },\r\n            {\r\n                path: \"informes/diario\",\r\n                component: DailyReportComponent,\r\n                data: {\r\n                    breadcrumb: \"Informe diario de órdenes finalizadas\"\r\n                }\r\n            },\r\n            {\r\n                path: \"informes/mensual\",\r\n                component: MonthlyReportComponent,\r\n                data: {\r\n                    breadcrumb: \"Informe mensual de unidades irradiadas\"\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        path: \"clientes\",\r\n        data: {\r\n            breadcrumb: \"Clientes\",\r\n            requiredRoles: [\"client\"]\r\n        },\r\n        canActivate: [\r\n            AuthenticationGuard,\r\n            AuthorizationGuard\r\n        ],\r\n        children: [\r\n            {\r\n                path: \"\",\r\n                component: ClientComponent,\r\n                data: {\r\n                    breadcrumb: \"Home\"\r\n                }\r\n            },\r\n            {\r\n                path: \"ordenes/alta\",\r\n                component: CreateOrderComponent,\r\n                data: {\r\n                    breadcrumb: \"Alta de órdenes\"\r\n                }\r\n            },\r\n            {\r\n                path: \"ordenes/:id\",\r\n                component: EditOrderComponent,\r\n                data: {\r\n                    breadcrumb: \"Detalles de órdenes\"\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        path: \"administradores\",\r\n        data: {\r\n            breadcrumb: \"Administradores\",\r\n            requiredRoles: [\"admin\"]\r\n        },\r\n        canActivate: [\r\n            AuthenticationGuard,\r\n            AuthorizationGuard\r\n        ],\r\n        children: [\r\n            {\r\n                path: \"\",\r\n                component: AdministratorComponent,\r\n                data: {\r\n                    breadcrumb: \"Home\"\r\n                }\r\n            },\r\n            {\r\n                path: \"configuración\",\r\n                component: ConfigManagementComponent,\r\n                data: {\r\n                    breadcrumb: \"Configuración del sistema\"\r\n                }\r\n            },\r\n            {\r\n                path: \"hemocomponentes\",\r\n                component: HemocomponentsComponent,\r\n                data: {\r\n                    breadcrumb: \"Hemocomponentes\"\r\n                }\r\n            },\r\n\r\n            {\r\n                path: \"instituciones\",\r\n                component: InstitutionsComponent,\r\n                data: {\r\n                    breadcrumb: \"Listado de instituciones clientes\"\r\n                }\r\n            },\r\n            {\r\n                path: \"instituciones/alta\",\r\n                component: CreateInstitutionComponent,\r\n                data: {\r\n                    breadcrumb: \"Alta de instituciones\"\r\n                }\r\n            },\r\n            {\r\n                path: \"instituciones/:id\",\r\n                component: InstitutionDetailsComponent,\r\n                data: {\r\n                    breadcrumb: \"Información\"\r\n                }\r\n            },\r\n            {\r\n                path: \"usuarios\",\r\n                component: UsersComponent,\r\n                data: {\r\n                    breadcrumb: \"Administracion de usuarios\"\r\n                }\r\n            },\r\n            {\r\n                path: \"usuarios/alta\",\r\n                component: CreateUserComponent,\r\n                data: {\r\n                    breadcrumb: \"Alta de usuarios\"\r\n                }\r\n            }\r\n\r\n        ]\r\n\r\n    },\r\n    {\r\n        path: \"**\",\r\n        component: NotFoundComponent,\r\n        data: {\r\n            breadcrumb: \"Error\"\r\n        }\r\n    }\r\n\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \"\"","module.exports = \"<!-- expiring alert -->\\r\\n<app-expiring-alert></app-expiring-alert>\\r\\n\\r\\n<!-- nav -->\\r\\n<app-nav></app-nav>\\r\\n\\r\\n<!-- breadcrumb -->\\r\\n<app-breadcrumbs></app-breadcrumbs>\\r\\n\\r\\n<!-- component -->\\r\\n<router-outlet></router-outlet>\\r\\n\\r\\n<app-alert></app-alert>\\r\\n\\r\\n\"","import { Component, HostListener, OnInit, OnDestroy } from '@angular/core';\r\n\r\nimport { Router, ActivatedRouteSnapshot, NavigationEnd } from \"@angular/router\"\r\n\r\nimport { SessionService, SessionStatus } from \"./session.service\"\r\n\r\nimport { Subscription } from \"rxjs\"\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n\r\n@Component({\r\n    selector: 'app-root',\r\n    templateUrl: './app.component.html',\r\n    styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n\r\n    private s: Subscription;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private sessionService: SessionService) {\r\n\r\n        this.s = this.sessionService.events\r\n            .subscribe(sessionEvent => this.handleSessionEvent(sessionEvent))\r\n\r\n    }\r\n\r\n\r\n    handleSessionEvent(sessionEvent) {\r\n\r\n        switch (sessionEvent.status) {\r\n\r\n            case SessionStatus.EXPIRED: {\r\n\r\n                break;\r\n            }\r\n\r\n            default:\r\n                break;\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    ngOnInit() { }\r\n\r\n    ngOnDestroy() {\r\n\r\n        this.s.unsubscribe();\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n","\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AdministratorComponent } from \"./administrator/administrator.component\";\r\nimport { MessageStackComponent } from './alert/alert.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { AuthenticationGuard } from \"./authentication.guard\";\r\nimport { AuthorizationGuard } from \"./authorization.guard\";\r\nimport { AutofocusDirective } from './autofocus.directive';\r\nimport { BreadcrumbComponent } from './breadcrumb/breadcrumb.component';\r\nimport { ConfirmModalComponent } from './confirm-modal/confirm-modal.component';\r\nimport { CreateOrderComponent } from './create-order/create-order.component';\r\nimport { CreateUserComponent } from './create-user/create-user.component';\r\nimport { DailyReportComponent } from './daily-report/daily-report.component';\r\nimport { EditOrderComponent } from './edit-order/edit-order.component';\r\nimport { ErrorInterceptor } from \"./error-interceptor\";\r\nimport { ExpiringAlertComponent } from './expiring-alert/expiring-alert.component';\r\nimport { InstitutionsService } from \"./institutions.service\";\r\nimport { LoginComponent } from './login/login.component';\r\nimport { MessageService } from \"./message.service\";\r\nimport { ModalLoginComponent } from './modal-login/modal-login.component';\r\nimport { MonthlyReportComponent } from './monthly-report/monthly-report.component';\r\nimport { NavComponent } from './nav/nav.component';\r\nimport { NavigationService } from \"./navigation.service\";\r\nimport { NotFoundComponent } from './not-found/not-found.component';\r\nimport { OperatorComponent } from \"./operator/operator.component\";\r\nimport { OrderConciliationComponent } from './order-conciliation/order-conciliation.component';\r\nimport { OrderIrradiationComponent } from './order-irradiation/order-irradiation.component';\r\nimport { OrderService } from './order.service';\r\nimport { PaginationComponent } from './pagination/pagination.component';\r\nimport { PendingChangesGuard } from \"./pending-changes.guard\";\r\nimport { SessionService } from \"./session.service\";\r\nimport { TokenInterceptor } from \"./token-interceptor\";\r\nimport { UserService } from './user.service';\r\nimport { HTTP_INTERCEPTORS, HttpClientModule } from \"@angular/common/http\";\r\nimport { ClientComponent } from './client/client.component';\r\nimport { PreventDefaultDirective } from './prevent-default.directive';\r\nimport { MessageComponent } from './message/message.component';\r\nimport { ProgressBarComponent } from './progress-bar/progress-bar.component';\r\nimport { AlreadyInGuard } from './already-in.guard';\r\nimport { CancelConfirmationModalComponent } from './cancel-confirmation-modal/cancel-confirmation-modal.component';\r\nimport { UnitEditModalComponent } from './unit-edit-modal/unit-edit-modal.component';\r\nimport { InstitutionsComponent } from './institutions/institutions.component';\r\nimport { LeftzeroesPipe } from './leftzeroes.pipe';\r\nimport { UsersComponent } from './users/users.component';\r\n\r\nimport { CreateInstitutionComponent } from \"./create-institution/create-institution.component\";\r\nimport { InstitutionDetailsComponent } from './institution-details/institution-details.component';\r\nimport { AccountActivationComponent } from './account-activation/account-activation.component';\r\nimport { PasswordResetComponent } from './password-reset/password-reset.component';\r\nimport { PasswordChangeComponent } from './password-change/password-change.component';\r\nimport { CuitPipe } from './cuit.pipe';\r\nimport { ModalReloginComponent } from './modal-relogin/modal-relogin.component';\r\nimport { ConfirmActionModalComponent } from './confirm-action-modal/confirm-action-modal.component';\r\nimport { HemocomponentsComponent } from './hemocomponents/hemocomponents.component';\r\nimport { EditHemocomponentModalComponent } from './edit-hemocomponent-modal/edit-hemocomponent-modal.component';\r\nimport { ConfigManagementComponent } from './config-management/config-management.component'\r\nimport { ConfigService } from './config.service';\r\nimport { SelectUnitModalComponent } from './select-unit-modal/select-unit-modal.component';\r\nimport { EditConfigModalComponent } from './edit-config-modal/edit-config-modal.component';\r\nimport { UnittypeEditModalComponent } from './unittype-edit-modal/unittype-edit-modal.component';\r\nimport { UnitTypeService } from './unit-type.service';\r\n\r\n\r\nconst httpInterceptorProviders = [\r\n    { provide: HTTP_INTERCEPTORS, useClass: TokenInterceptor, multi: true },\r\n    { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true }\r\n];\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        NotFoundComponent,\r\n        LoginComponent,\r\n        OrderConciliationComponent,\r\n        AdministratorComponent,\r\n        ClientComponent,\r\n        MessageStackComponent,\r\n        AutofocusDirective,\r\n        BreadcrumbComponent,\r\n        OperatorComponent,\r\n        NavComponent,\r\n        ConfirmModalComponent,\r\n        ExpiringAlertComponent,\r\n        ModalLoginComponent,\r\n        PaginationComponent,\r\n        OrderIrradiationComponent,\r\n        DailyReportComponent,\r\n        MonthlyReportComponent,\r\n        CreateOrderComponent,\r\n        EditOrderComponent,\r\n        CreateUserComponent,\r\n        PreventDefaultDirective,\r\n        MessageComponent,\r\n        ProgressBarComponent,\r\n        CancelConfirmationModalComponent,\r\n        UnitEditModalComponent,\r\n        InstitutionsComponent,\r\n        LeftzeroesPipe,\r\n        UsersComponent,\r\n        CreateInstitutionComponent,\r\n        InstitutionDetailsComponent,\r\n        AccountActivationComponent,\r\n        PasswordResetComponent,\r\n        PasswordChangeComponent,\r\n        CuitPipe,\r\n        ModalReloginComponent,\r\n        ConfirmActionModalComponent,\r\n        HemocomponentsComponent,\r\n        EditHemocomponentModalComponent,\r\n        ConfigManagementComponent,\r\n        SelectUnitModalComponent,\r\n        EditConfigModalComponent,\r\n        UnittypeEditModalComponent\r\n    ],\r\n    imports: [\r\n        NgbModule.forRoot(),\r\n        BrowserModule,\r\n        AppRoutingModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        HttpClientModule\r\n    ],\r\n    providers: [\r\n        OrderService,\r\n        UnitTypeService,\r\n        UserService,\r\n        SessionService,\r\n        MessageService,\r\n        ConfigService,\r\n        PendingChangesGuard,\r\n        AuthenticationGuard,\r\n        AuthorizationGuard,\r\n        InstitutionsService,\r\n        NavigationService,\r\n        AlreadyInGuard,\r\n        httpInterceptorProviders\r\n    ],\r\n    entryComponents: [\r\n        SelectUnitModalComponent,\r\n        ConfirmModalComponent,\r\n        ModalLoginComponent,\r\n        EditHemocomponentModalComponent,\r\n        CancelConfirmationModalComponent,\r\n        UnitEditModalComponent,\r\n        ModalReloginComponent,\r\n        ConfirmActionModalComponent,\r\n        EditConfigModalComponent,\r\n        UnittypeEditModalComponent\r\n    ],\r\n    bootstrap: [\r\n        AppComponent\r\n    ]\r\n})\r\nexport class AppModule { }\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\nimport { MessageService, MessageType } from \"./message.service\";\r\nimport { SessionService } from \"./session.service\";\r\nimport { tap } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class AuthenticationGuard implements CanActivate {\r\n\r\n    private isAuthenticated: boolean = false;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private messageService: MessageService,\r\n        private sessionService: SessionService) {\r\n\r\n        this.sessionService.events.subscribe((d) => {\r\n            this.isAuthenticated = !!d.user;\r\n        })\r\n\r\n    }\r\n\r\n    canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot):\r\n        Observable<boolean> | Promise<boolean> | boolean {\r\n\r\n        return of(this.isAuthenticated).pipe(tap((canActivate) => {\r\n\r\n            if (!canActivate) {\r\n\r\n                this.messageService.sendMessage({\r\n                    type: MessageType.DANGER,\r\n                    persist: true,\r\n                    text: \"No se puede acceder a la página. Inicie sesión.\"\r\n                })\r\n\r\n                this.router.navigateByUrl(\"login\"); \r\n\r\n            }\r\n\r\n\r\n        }))\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from \"@angular/router\";\r\nimport { Observable, of } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { MessageService, MessageType } from './message.service';\r\nimport { NavigationService } from './navigation.service';\r\nimport { SessionService } from \"./session.service\";\r\n\r\n\r\n\r\n@Injectable()\r\nexport class AuthorizationGuard implements CanActivate {\r\n\r\n    private currentUser;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private navigationService: NavigationService,\r\n        private messageService: MessageService,\r\n        private sessionService: SessionService) {\r\n\r\n        this.sessionService.events.subscribe(d => {\r\n            this.currentUser = d.user\r\n        })\r\n\r\n    }\r\n\r\n    canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot)\r\n        : Observable<boolean> | Promise<boolean> | boolean {\r\n\r\n        let requiredRoles = next.data.requiredRoles;\r\n        let userRoles = this.currentUser.roles.map(d => d.name);\r\n\r\n        let canActivate = requiredRoles.every(r => userRoles.includes(r));\r\n\r\n        return of(canActivate).pipe(tap((canActivate) => {\r\n\r\n            if (!canActivate) {\r\n\r\n                this.messageService.sendMessage({\r\n                    type: MessageType.DANGER,\r\n                    persist: true,\r\n                    text: `No se puede acceder a la página ${next.url}. No tiene los permisos necesarios.`\r\n                })\r\n\r\n                if (!this.router.navigated)\r\n                    this.navigationService.navigateToHome();\r\n\r\n            }\r\n\r\n        }))\r\n\r\n    }\r\n\r\n}\r\n","import { Directive, ElementRef, Input, OnChanges, Renderer, SimpleChanges } from '@angular/core';\r\n\r\n@Directive({\r\n\tselector: '[focused]'\r\n})\r\nexport class AutofocusDirective implements OnChanges {\r\n\r\n\t@Input()\r\n\tfocused: any; \r\n\r\n\tconstructor(private element: ElementRef) { }\r\n\r\n\tngOnChanges(data: SimpleChanges) {\r\n\r\n\t\tconsole.log(data)\r\n\r\n\t\tif (this.focused.should)\r\n\t\t\tthis.element.nativeElement.focus()\r\n\r\n\t}\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"\\r\\n<nav>\\r\\n\\r\\n\\t<ol class=\\\"pl-4 breadcrumb border-bottom bg-light bg-faded\\\">\\r\\n\\t\\t<!-- <li class=\\\"breadcrumb-item\\\">\\r\\n\\t\\t\\t<a [routerLink]=\\\"['/']\\\">Home</a>\\r\\n\\t\\t</li> -->\\r\\n\\t\\t<li class=\\\"breadcrumb-item\\\" *ngFor=\\\"let breadcrumb of breadcrumbs\\\">\\r\\n\\t\\t\\t<a [routerLink]=\\\"breadcrumb.url\\\">{{breadcrumb.title}}</a>\\r\\n\\t\\t</li>\\r\\n\\t</ol>\\r\\n\\t\\r\\n</nav>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { NavigationEnd, Router } from \"@angular/router\";\r\nimport { filter, map } from \"rxjs/operators\";\r\n\r\n\r\n\r\n@Component({\r\n    selector: 'app-breadcrumbs',\r\n    templateUrl: './breadcrumb.component.html',\r\n    styleUrls: ['./breadcrumb.component.css']\r\n})\r\nexport class BreadcrumbComponent implements OnInit {\r\n\r\n    public breadcrumbs = [];\r\n\r\n    private navigationEndStream;\r\n\r\n    constructor(private router: Router) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.navigationEndStream =\r\n            this.router.events.pipe(filter(event => event instanceof NavigationEnd))\r\n\r\n        this.navigationEndStream\r\n            .pipe(map(() => this.build()))\r\n            .subscribe(breadcrumbs => {\r\n                this.breadcrumbs = breadcrumbs;\r\n            });\r\n\r\n    }\r\n\r\n    private build() {\r\n\r\n        var breadcrumbs = [];\r\n        for (var r = this.router.routerState.snapshot.root.firstChild; r; r = r.firstChild) {\r\n\r\n            let segments = r.pathFromRoot\r\n                .filter(d => d.url.length)\r\n                .map(d => d.url.map(segment => segment.path).join(\"/\"))\r\n\r\n            breadcrumbs.push({\r\n                title: r.data.breadcrumb,\r\n                url: segments.join(\"/\")\r\n            });\r\n\r\n        }\r\n\r\n        return breadcrumbs;\r\n\r\n\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"modal-content p-2\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <h5 class=\\\"modal-title\\\">Irradiación de Hemocomponentes</h5>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <label>Comentarios sobre el proceso: </label>\\r\\n        <textarea class=\\\"form-control\\\" rows=\\\"5\\\" [formControl]=\\\"comments\\\" [focused]=\\\"{should: true}\\\"></textarea>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"submitted\\\">\\r\\n        <p class=\\\"text-danger\\\" *ngIf=\\\"comments.errors?.required\\\">Ingrese comentarios sobre el proceso</p>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary rounded-0 px-5\\\" (click)=\\\"close()\\\">Guardar</button>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormControl, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-cancel-confirmation-modal',\r\n    templateUrl: './cancel-confirmation-modal.component.html',\r\n    styleUrls: ['./cancel-confirmation-modal.component.css']\r\n})\r\nexport class CancelConfirmationModalComponent implements OnInit {\r\n\r\n    submitted = false;\r\n\r\n    comments: FormControl = new FormControl(\"Todo ok\", Validators.required);\r\n\r\n    constructor(private activeModal: NgbActiveModal) { }\r\n\r\n    ngOnInit() { }\r\n\r\n    close() {\r\n\r\n        if (!this.comments.valid) {\r\n\r\n            this.submitted = true;\r\n            return;\r\n\r\n        }\r\n\r\n        this.activeModal.close(this.comments.value);\r\n\r\n    }\r\n\r\n    dismiss() {\r\n\r\n        this.activeModal.dismiss()\r\n\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container mb-3\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-12\\\">\\r\\n\\r\\n            <div class=\\\"d-flex justify-content-start align-items-center flex-wrap border-bottom pb-1 mb-3\\\">\\r\\n                <h5 class=\\\"m-0 p-0 mr-3  text-primary flex-grow-1 font-weight-normal\\\">Órdenes</h5>\\r\\n                <a routerLink=\\\"ordenes/alta\\\">Nueva orden</a>\\r\\n            </div>\\r\\n\\r\\n            <form [formGroup]=\\\"searchForm\\\" (submit)=\\\"search()\\\">\\r\\n\\r\\n                <div class=\\\"form-row\\\">\\r\\n\\r\\n                    <div class=\\\"col-lg-4\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text text-primary\\\">ID</span>\\r\\n                            </div>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"id\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-lg-4\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Código</span>\\r\\n                            </div>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"code\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-lg-4\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Estado</span>\\r\\n                            </div>\\r\\n                            <select type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"statusId\\\">\\r\\n                                <option [ngValue]=\\\"null\\\">-</option>\\r\\n                                <option *ngFor=\\\"let status of orderStatuses\\\" [ngValue]=\\\"status.name\\\">{{status.name}}</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-row\\\">\\r\\n\\r\\n                    <div class=\\\"col-lg-4\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Prioridad</span>\\r\\n                            </div>\\r\\n                            <select type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"priorityId\\\">\\r\\n                                <option [ngValue]=\\\"null\\\">-</option>\\r\\n                                <option *ngFor=\\\"let priority of orderPriorities\\\" [ngValue]=\\\"priority.id\\\">{{priority.name}}</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-lg-4\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Desde</span>\\r\\n                            </div>\\r\\n                            <input type=\\\"date\\\" class=\\\"form-control\\\" formControlName=\\\"startDate\\\" />\\r\\n                        </div>\\r\\n\\r\\n\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-lg-4\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Hasta</span>\\r\\n                            </div>\\r\\n                            <input type=\\\"date\\\" class=\\\"form-control\\\" formControlName=\\\"endDate\\\" />\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"col-lg-2 mx-auto mt-2\\\">\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block mb-2 rounded-0\\\">Buscar</button>\\r\\n                </div>\\r\\n\\r\\n\\r\\n            </form>\\r\\n\\r\\n            <hr />\\r\\n            <div class=\\\"text-center\\\" *ngIf=\\\"isLoading\\\">\\r\\n                <div class=\\\"loader\\\"></div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <div class=\\\"table-responsive\\\">\\r\\n                <table class=\\\"table table-hover table-bordered\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th *ngFor=\\\"let column of columns\\\">\\r\\n                                <div class=\\\"d-flex align-items-center\\\">\\r\\n                                    <span class=\\\"flex-grow-1\\\">{{column.displayName}}</span>\\r\\n                                    <div class=\\\"ml-3\\\" *ngIf=\\\"column.sortable\\\">\\r\\n                                        <span ngbTooltip=\\\"Ordenar ascendententemente por {{column.displayName}}\\\"\\r\\n                                              class=\\\"sorting-enabled\\\"\\r\\n                                              [class.sorting-disabled]=\\\"sorting?.name === column.name && sorting?.direction === 'ASC'\\\"\\r\\n                                              (click)=\\\"changeSorting({name: column.name, direction: 'ASC'})\\\">&uarr;</span>\\r\\n                                        <span ngbTooltip=\\\"Ordenar descendentemente por {{column.displayName}}\\\"\\r\\n                                              class=\\\"sorting-enabled\\\"\\r\\n                                              [class.sorting-disabled]=\\\"sorting?.name === column.name && sorting?.direction === 'DESC'\\\"\\r\\n                                              (click)=\\\"changeSorting({name: column.name, direction: 'DESC'})\\\">&darr;</span>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </th>\\r\\n                            <th>Acciones</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let order of orders\\\">\\r\\n                            <td class=\\\"text-muted\\\">{{order.id | leftzeroes}}</td>\\r\\n                            <td>{{order.creationDate | date: \\\"dd/MM/yyyy hh:mm\\\" }}</td>\\r\\n                            <td>{{order.lastModified | date: \\\"dd/MM/yyyy hh:mm\\\" }}</td>\\r\\n                            <td>{{order.code}}</td>\\r\\n                            <td>{{order.owner.firstname}} {{order.owner.lastname}}</td>\\r\\n                            <td>{{order.carrier}}</td>\\r\\n                            <td [class.text-danger]=\\\"order.status.name === 'RECHAZADA'\\\">{{order.status.name}}</td>\\r\\n                            <td>{{order.priority.name}}</td>\\r\\n                            <td>{{order.unitCount}}</td>\\r\\n                            <td>\\r\\n                                <div class=\\\"d-inline-flex justify-content-start align-items-center p-0 m-0\\\">\\r\\n                                    <a routerLink=\\\"ordenes/{{order.id}}\\\">Detalles</a>\\r\\n                                </div>\\r\\n                            </td>\\r\\n\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </div>\\r\\n\\r\\n            <app-pagination *ngIf=\\\"paging\\\"\\r\\n                            [itemCount]=\\\"orderCount\\\"\\r\\n                            [pageSizes]=\\\"pageSizes\\\"\\r\\n                            [pageSize]=\\\"paging.pageSize\\\"\\r\\n                            [page]=\\\"paging.page\\\"\\r\\n                            (pageChange)=\\\"changePage($event)\\\"\\r\\n                            (pageSizeChange)=\\\"changePageSize($event)\\\"></app-pagination>\\r\\n\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Subject, merge, of, zip, Observable, Subscription, throwError } from \"rxjs\";\r\nimport { filter, map, startWith, switchMap, tap, pairwise, concatMap, partition, catchError, finalize } from 'rxjs/operators';\r\nimport { MessageService, MessageType } from '../message.service';\r\nimport { OrderService, Order, Page, OrderStatus, OrderPriority } from '../order.service';\r\nimport { InstitutionsService, Institution } from '../institutions.service';\r\nimport { Paging, Sorting, TableColumn, Query } from '../operator/operator.component';\r\nimport { SessionService } from '../session.service';\r\n\r\n@Component({\r\n    selector: 'app-client',\r\n    templateUrl: './client.component.html',\r\n    styleUrls: ['./client.component.css']\r\n})\r\nexport class ClientComponent implements OnInit, OnDestroy {\r\n\r\n    filtering: {};\r\n\r\n    includes: {} = [\r\n        { units: { type: true } },\r\n        { status: true },\r\n        { priority: true },\r\n        { owner: true },\r\n        { institution: true }\r\n    ]\r\n\r\n    paging: Paging\r\n    sorting: Sorting\r\n\r\n    pageSizes: number[] = [20, 30, 50]\r\n\r\n    orders: Order[];\r\n    orderCount = 0;\r\n\r\n    institutions: Institution[]\r\n    orderStatuses: OrderStatus[]\r\n    orderPriorities: OrderPriority[]\r\n\r\n    currentUser\r\n\r\n    isLoading: boolean = false;\r\n\r\n    searchForm: FormGroup = new FormGroup({\r\n        id: new FormControl(),\r\n        code: new FormControl(),\r\n        statusId: new FormControl(),\r\n        priorityId: new FormControl(),\r\n        startDate: new FormControl(),\r\n        endDate: new FormControl()\r\n    })\r\n\r\n    columns: TableColumn[] = [\r\n        { name: \"id\", displayName: \"ID\", sortable: true },\r\n        { name: \"creationDate\", displayName: \"Creada\", sortable: true },\r\n        { name: \"lastModified\", displayName: \"Modificada\", sortable: true },\r\n        { name: \"code\", displayName: \"Código\", sortable: true },\r\n        { name: \"ownerId\", displayName: \"Alta\", sortable: true },\r\n        { name: \"carrier\", displayName: \"Transportista\", sortable: true },\r\n        { name: \"statusId\", displayName: \"Estado\", sortable: true },\r\n        { name: \"priorityId\", displayName: \"Prioridad\", sortable: true },\r\n        { name: \"unitCount\", displayName: \"Unidades\", sortable: true }\r\n    ]\r\n\r\n    constructor(\r\n        private institutionService: InstitutionsService,\r\n        private sessionService: SessionService,\r\n        private orderService: OrderService,\r\n        private messageService: MessageService) {\r\n\r\n        this.sessionService.events.subscribe(s => {\r\n            this.currentUser = s.user;\r\n        })\r\n    }\r\n\r\n\r\n    ngOnInit(): void {\r\n\r\n        let q = {\r\n\r\n            where: { institutionId: this.currentUser.institutionId },\r\n            skip: 0,\r\n            limit: this.pageSizes[0],\r\n            order: [`lastModified DESC`],\r\n            include: this.includes\r\n\r\n        };\r\n\r\n        this.isLoading = true;\r\n        zip(this.fetchData(), this.fetchOrders(q))\r\n            .pipe(tap(() => this.isLoading = false, (err) => this.isLoading = false))\r\n            .subscribe(\r\n                (data: any) => {\r\n\r\n                    this.institutions = data[0][0]\r\n                    this.orderStatuses = data[0][1]\r\n                    this.orderPriorities = data[0][2]\r\n\r\n                    this.handleOrders(data[1][0], data[1][1])\r\n\r\n                },\r\n                (err) => {\r\n                    this.handleErr(err)\r\n                }\r\n            )\r\n\r\n\r\n\r\n    }\r\n\r\n    private fetchData() {\r\n\r\n        return zip(\r\n            this.institutionService.find(),\r\n            this.orderService.findStatuses(),\r\n            this.orderService.findPriorities()\r\n        );\r\n\r\n    }\r\n\r\n    private fetchOrders(q: Query) {\r\n\r\n        return zip(of(q), this.orderService.find(q))\r\n\r\n    }\r\n\r\n\r\n    ngOnDestroy(): void { }\r\n\r\n    where() {\r\n\r\n        let fns = {\r\n\r\n            id: (id) => ({ id: id }),\r\n            code: (code) => ({ code: { regexp: `.*${code}.*` } }),\r\n            priorityId: (id) => ({ priorityId: id }),\r\n            statusId: (id) => ({ statusId: id }),\r\n            startDate: (date) => ({\r\n                or: [\r\n                    { creationDate: new Date(date.split(\"-\").join(\"/\")).toISOString() },\r\n                    { creationDate: { gt: new Date(date.split(\"-\").join(\"/\")).toISOString() } }\r\n                ]\r\n            }),\r\n            endDate: (date) => ({\r\n                or: [\r\n                    { creationDate: new Date(date.split(\"-\").join(\"/\")).toISOString() },\r\n                    { creationDate: { lt: new Date(date.split(\"-\").join(\"/\")).toISOString() } }\r\n                ]\r\n            })\r\n\r\n        }\r\n\r\n        let clauses = Object.entries(this.searchForm.value)\r\n            .filter(([key, value]) => value)\r\n            .map(([key, value]) => fns[key](value))\r\n            .reduce((clauses, clause) => [...clauses, clause], [])\r\n\r\n        let where = {\r\n            and: [{ institutionId: this.currentUser.institutionId }, ...clauses]\r\n        }\r\n\r\n        return where;\r\n\r\n    }\r\n\r\n\r\n    handleOrders(query: Query, page: Page<Order>) {\r\n\r\n        this.orderCount = page.count;\r\n        this.orders = page.items;\r\n\r\n        this.filtering = query.where;\r\n\r\n        this.paging = {\r\n            page: (query.skip / query.limit) + 1,\r\n            pageSize: query.limit\r\n        }\r\n\r\n        let [name, direction] = query.order[0].split(' ')\r\n\r\n        this.sorting = {\r\n            name,\r\n            direction\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    handleErr(err) {\r\n\r\n        this.messageService.sendMessage({\r\n            type: MessageType.DANGER,\r\n            persist: false,\r\n            text: err.message\r\n        })\r\n\r\n    }\r\n\r\n\r\n    search() {\r\n\r\n        let query = {\r\n            where: this.where(),\r\n            skip: 0,\r\n            limit: this.paging.pageSize,\r\n            order: [\"lastModified DESC\"],\r\n            include: this.includes\r\n        }\r\n\r\n        this.queryOrders(query);\r\n\r\n    }\r\n\r\n\r\n\r\n    private queryOrders(q: Query) {\r\n\r\n        this.isLoading = true;\r\n        this.fetchOrders(q)\r\n            .pipe(tap(() => this.isLoading = false, (err) => this.isLoading = false))\r\n            .subscribe(([q, orders]) => this.handleOrders(q, orders), (err) => this.handleErr(err));\r\n\r\n    }\r\n\r\n    changePage(page: number) {\r\n\r\n        let query = {\r\n            where: this.filtering,\r\n            skip: (page - 1) * this.paging.pageSize,\r\n            limit: this.paging.pageSize,\r\n            order: [`${this.sorting.name} ${this.sorting.direction}`],\r\n            include: this.includes\r\n        }\r\n\r\n        this.queryOrders(query);\r\n\r\n    }\r\n\r\n    changePageSize(pageSize: number) {\r\n\r\n        let query = {\r\n            where: this.filtering,\r\n            skip: Math.floor((this.paging.page - 1) * this.paging.pageSize / pageSize) * pageSize,\r\n            limit: pageSize,\r\n            order: [`${this.sorting.name} ${this.sorting.direction}`],\r\n            include: this.includes\r\n        }\r\n\r\n        this.queryOrders(query);\r\n\r\n    }\r\n\r\n    changeSorting({ name, direction }) {\r\n\r\n        let query = {\r\n            where: this.filtering,\r\n            skip: 0,\r\n            limit: this.paging.pageSize,\r\n            order: [`${name} ${direction}`],\r\n            include: this.includes\r\n        }\r\n\r\n        this.queryOrders(query);\r\n\r\n    }\r\n\r\n}\r\n\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-12 mx-auto\\\">\\r\\n\\r\\n            <h5 class=\\\"text-primary font-weight-normal mt-4\\\">Configuración del sistema</h5>\\r\\n            <span class=\\\"text-muted\\\">Parámetros principales</span>\\r\\n            <hr />\\r\\n\\r\\n            <div class=\\\"table-responsive\\\">\\r\\n\\r\\n                <table class=\\\"table table-stripped table-bordered\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Nombre</th>\\r\\n                            <th>Valor</th>\\r\\n                            <th>Descripción</th>\\r\\n                            <th>Última actualización</th>\\r\\n                            <th>Acciones</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let configelem of config\\\">\\r\\n                            <td>{{configelem.name}}</td>\\r\\n                            <td>{{configelem.value}}</td>\\r\\n                            <td>{{configelem.description}}</td>\\r\\n                            <td>{{configelem.lastUpdated | date: \\\"dd/MM/yyyy hh:mm\\\"}}</td>\\r\\n                            <td><button class=\\\"btn btn-link m-0 p-0\\\" (click)=\\\"openModal(configelem)\\\">Editar</button></td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { ConfigService } from '../config.service';\r\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { EditConfigModalComponent } from '../edit-config-modal/edit-config-modal.component';\r\nimport { from } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-config-management',\r\n    templateUrl: './config-management.component.html',\r\n    styleUrls: ['./config-management.component.css']\r\n})\r\nexport class ConfigManagementComponent implements OnInit {\r\n\r\n    config: {}[] = [];\r\n\r\n    constructor(\r\n        private configService: ConfigService,\r\n        private modalService: NgbModal) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.configService.findAll()\r\n            .subscribe(c => this.setConfig(c), err => console.error(err))\r\n\r\n    }\r\n\r\n    private setConfig(c) {\r\n\r\n        this.config = c\r\n\r\n    }\r\n\r\n    openModal(configElem) {\r\n\r\n        let d: NgbModalRef = this.modalService.open(EditConfigModalComponent, { size: \"lg\" });\r\n        d.componentInstance.setConfigElem(configElem);\r\n\r\n        from(d.result)\r\n            .subscribe(() => this.ngOnInit(), () => { });\r\n\r\n\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from \"./../environments/environment\";\r\nimport { map } from 'rxjs/operators';\r\n\r\nexport interface ConfigElement {\r\n    name: string,\r\n    value: string,\r\n    description: string\r\n}\r\n\r\n@Injectable({ providedIn: \"root\" })\r\nexport class ConfigService {\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    public findAll() {\r\n\r\n        return this.http.get<ConfigElement[]>(`${environment.api.config}`)\r\n\r\n    }\r\n\r\n    public updateByName(name: string, config: ConfigElement) {\r\n\r\n        return this.http.put<ConfigElement>(`${environment.api.config}/${name}`, config);\r\n\r\n    }\r\n\r\n    public updateAll(elems: ConfigElement[]) {\r\n\r\n        return this.http.put(`${environment.api.config}`, elems);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"modal-header\\\">\\r\\n    <h5 class=\\\"modal-title\\\">{{title}}</h5>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"dismiss()\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n    <p>{{message}}</p>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary rounded-0 px-5\\\" (click)=\\\"confirm()\\\">Sí</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-secondary rounded-0 px-5\\\" (click)=\\\"dismiss()\\\">No</button>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n    selector: 'app-confirm-action-modal',\r\n    templateUrl: './confirm-action-modal.component.html',\r\n    styleUrls: ['./confirm-action-modal.component.css']\r\n})\r\nexport class ConfirmActionModalComponent implements OnInit {\r\n\r\n    title: string\r\n    message: string\r\n\r\n    constructor(private activeModal: NgbActiveModal) { }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    confirm() {\r\n        this.activeModal.close();\r\n    }\r\n\r\n    dismiss() {\r\n        this.activeModal.dismiss();\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"bg-white p-5\\\">\\r\\n\\r\\n    <div class=\\\"card p-5 shadow-sm\\\">\\r\\n\\r\\n        <h5 class=\\\"modal-title\\\">Confirmar rechazo de orden</h5>\\r\\n        <hr />\\r\\n\\r\\n        <form [formGroup]=\\\"form\\\" (submit)=\\\"accept()\\\">\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"h6 font-weight-normal text-muted\\\">Comentario: </label>\\r\\n                <textarea class=\\\"form-control\\\" formControlName=\\\"comment\\\" [focused]=\\\"{should: true}\\\" rows=\\\"8\\\"></textarea>\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"hasError\\\" class=\\\"text-danger\\\">\\r\\n                <p *ngIf=\\\"form.controls.comment.errors?.required\\\">Debe ingresar un comentario</p>\\r\\n                <p *ngIf=\\\"form.controls.comment.errors?.minlength\\\">El comentario no puede tener menos de 20 caracteres</p>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"d-flex justify-content-end\\\">\\r\\n                <button type=\\\"submit\\\" class=\\\"btn btn-primary rounded-0 mr-2\\\">Confirmar</button>\\r\\n                <button class=\\\"btn btn-secondary rounded-0\\\" (click)=\\\"reject()\\\">Cancelar</button>\\r\\n            </div>\\r\\n\\r\\n\\r\\n        </form>\\r\\n\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","\r\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core';\r\n\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormControl, Validators, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-confirm-modal',\r\n    templateUrl: './confirm-modal.component.html',\r\n    styleUrls: ['./confirm-modal.component.css']\r\n})\r\nexport class ConfirmModalComponent implements OnInit, OnDestroy {\r\n\r\n    hasError: boolean = false;\r\n\r\n    form: FormGroup = new FormGroup({\r\n        comment: new FormControl(\"Faltan Unidades\", [Validators.required, Validators.minLength(8)])\r\n    })\r\n\r\n    constructor(private activeModal: NgbActiveModal) { }\r\n\r\n    ngOnInit() { }\r\n\r\n    ngOnDestroy() { }\r\n\r\n    accept() {\r\n\r\n        if (this.form.invalid) {\r\n            this.hasError = true;\r\n            return;\r\n        }\r\n\r\n        this.activeModal.close(this.form.value.comment);\r\n\r\n    }\r\n\r\n    reject() {\r\n\r\n        this.activeModal.dismiss();\r\n\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-10 mx-auto\\\">\\r\\n\\r\\n            <h5 class=\\\"text-primary mt-3\\\">Alta de instituciones</h5>\\r\\n            <hr />\\r\\n\\r\\n            <h6 class=\\\"mb-4 text-primary font-weight-normal\\\">Datos generales</h6>\\r\\n\\r\\n            <form [formGroup]=\\\"form\\\" (submit)=\\\"create()\\\" autocomplete=\\\"off\\\">\\r\\n\\r\\n                <div class=\\\"form-row\\\">\\r\\n\\r\\n                    <div class=\\\"form-group col-md-12\\\">\\r\\n                        <label for=\\\"inputPassword4\\\">Nombre</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputPassword4\\\" placeholder=\\\"Nombre de la institución\\\" formControlName=\\\"name\\\" [focused]=\\\"{should: true}\\\">\\r\\n                        <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && form.controls.name.errors\\\">\\r\\n                            <span class=\\\"text-danger\\\" *ngIf=\\\"form.controls.name.errors.required\\\">Ingrese el nombre completo de la institución</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-row\\\">\\r\\n                    <div class=\\\"form-group col-md-12\\\">\\r\\n                        <label for=\\\"inputCity\\\">Dirección</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Dirección\\\" formControlName=\\\"address\\\">\\r\\n                        <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && form.controls.address.errors\\\">\\r\\n                            <span class=\\\"text-danger\\\" *ngIf=\\\"form.controls.address.errors.required\\\">Ingrese la dirección completa de la institución</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-row\\\">\\r\\n\\r\\n                    <div class=\\\"form-group col-md-6\\\">\\r\\n                        <label for=\\\"inputEmail4\\\">CUIT</label>\\r\\n                        <input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"inputEmail4\\\" placeholder=\\\"Ej: 30-23323323-1\\\" formControlName=\\\"cuit\\\">\\r\\n                        <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && form.controls.cuit.errors\\\">\\r\\n                            <span class=\\\"text-danger\\\" *ngIf=\\\"form.controls.cuit.errors.required\\\">Ingrese el cuit de la institución</span>\\r\\n                            <span class=\\\"text-danger\\\" *ngIf=\\\"form.controls.cuit.errors.pattern\\\">El formato de CUIT no es válido</span>\\r\\n                            <span class=\\\"text-danger\\\" *ngIf=\\\"form.controls.cuit.errors.cuit\\\">Digito verificador no válido</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group col-md-6\\\">\\r\\n                        <label for=\\\"inputAddress\\\">Email</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputAddress\\\" placeholder=\\\"Ej: hospital@salud.com\\\" formControlName=\\\"email\\\">\\r\\n                        <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && form.controls.email.errors\\\">\\r\\n                            <span class=\\\"text-danger\\\" *ngIf=\\\"form.controls.email.errors.required\\\">Ingrese un mail de contacto</span>\\r\\n                            <span class=\\\"text-danger\\\" *ngIf=\\\"form.controls.email.errors.email\\\">Email no válido</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group col-12\\\">\\r\\n\\r\\n                        <label for=\\\"inputState\\\">Tipo de Institución</label>\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"type\\\">\\r\\n                            <option [ngValue]=\\\"null\\\">Seleccionar ...</option>\\r\\n                            <option *ngFor=\\\"let type of types\\\" [ngValue]=\\\"type\\\">{{type.name}} - {{type.description}}</option>\\r\\n                        </select>\\r\\n                        <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && form.controls.type.errors\\\">\\r\\n                            <span class=\\\"text-danger\\\" *ngIf=\\\"form.controls.type.errors.required\\\">Ingrese el tipo de institución</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"d-flex justify-content-end\\\">\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary rounded-0 px-5\\\">Aceptar</button>\\r\\n                    <button (click)=\\\"cancel()\\\" class=\\\"btn btn-secondary ml-2 rounded-0 px-5\\\">Cancelar</button>\\r\\n                </div>\\r\\n            </form>\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators, ValidatorFn, AbstractControl } from '@angular/forms';\r\nimport { InstitutionsService, InstitutionType } from '../institutions.service';\r\nimport { MessageService, MessageType } from '../message.service';\r\nimport { Location } from '@angular/common';\r\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { from } from 'rxjs';\r\nimport { ConfirmActionModalComponent } from '../confirm-action-modal/confirm-action-modal.component';\r\n\r\n@Component({\r\n    selector: 'app-create-institution',\r\n    templateUrl: './create-institution.component.html',\r\n    styleUrls: ['./create-institution.component.css']\r\n})\r\nexport class CreateInstitutionComponent implements OnInit {\r\n\r\n    types: InstitutionType[] = []\r\n\r\n    form: FormGroup = new FormGroup({\r\n        name: new FormControl(\"\", Validators.required),\r\n        address: new FormControl(\"\", Validators.required),\r\n        cuit: new FormControl(\"\", [\r\n            Validators.required,\r\n            Validators.pattern(/^(30|33|34)(\\-)[0-9]{8}(\\-)[0-9]{1}$/),\r\n            cuitValidator()\r\n        ]),\r\n        email: new FormControl(\"\", [Validators.required, Validators.email]),\r\n        type: new FormControl(null, Validators.required)\r\n    })\r\n\r\n    submitted: boolean = false;\r\n\r\n    constructor(\r\n        private institutionService: InstitutionsService,\r\n        private messageService: MessageService,\r\n        private modalService: NgbModal,\r\n        private locationService: Location) { }\r\n\r\n    ngOnInit() {\r\n\r\n\r\n        this.institutionService.findTypes()\r\n            .subscribe(\r\n                types => this.types = types,\r\n                err => this.handleError(err)\r\n            )\r\n\r\n\r\n    }\r\n\r\n    create() {\r\n\r\n        if (this.form.invalid) {\r\n            this.submitted = true;\r\n            return;\r\n        }\r\n\r\n        this.showConfirmActionModal()\r\n            .subscribe(() => {\r\n\r\n                this.institutionService.create({\r\n                    ...this.form.value,\r\n                    cuit: this.form.controls.cuit.value.split(\"-\").join(\"\"),\r\n                    typeId: (this.form.controls.type as any).name\r\n                }).subscribe((i) => this.onSuccess(i), (err) => this.handleError(err))\r\n\r\n            }, () => { })\r\n\r\n\r\n    }\r\n\r\n    private showConfirmActionModal() {\r\n\r\n        let modal: NgbModalRef = this.modalService.open(ConfirmActionModalComponent, { size: \"lg\" });\r\n        modal.componentInstance.title = `Confirmar alta de institución`\r\n        modal.componentInstance.message = `Está seguro que desea realizar el alta de la institución ${this.form.controls.name.value}?`\r\n\r\n        return from(modal.result);\r\n\r\n\r\n    }\r\n\r\n    handleError(err) {\r\n\r\n        this.messageService.sendMessage({\r\n            text: err.message,\r\n            type: MessageType.DANGER,\r\n            ttlInSeconds: 8,\r\n            persist: false\r\n        })\r\n\r\n\r\n    }\r\n\r\n    onSuccess(i) {\r\n\r\n        this.messageService.sendMessage({\r\n            text: \"La operación se realizó correctamente\",\r\n            type: MessageType.SUCCESS,\r\n            persist: true,\r\n            ttlInSeconds: 8\r\n        })\r\n\r\n        this.locationService.back()\r\n\r\n    }\r\n\r\n    cancel() {\r\n\r\n        this.locationService.back()\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction cuitValidator(): ValidatorFn {\r\n\r\n    return (cuitControl: AbstractControl): { [key: string]: any } | null => {\r\n\r\n        let cuit = cuitControl.value.split(\"-\").join(\"\")\r\n\r\n        if (cuit.length !== 11) {\r\n            return null;\r\n        }\r\n\r\n        var digitos = cuit.split(\"\");\r\n\r\n        var digito = digitos.pop();\r\n\r\n        var acumulado = 0;\r\n        for (var i = 0; i < digitos.length; i++) {\r\n            acumulado += digitos[9 - i] * (2 + (i % 6));\r\n        }\r\n\r\n        var verif = 11 - (acumulado % 11);\r\n        if (verif == 11) {\r\n            verif = 0;\r\n        }\r\n\r\n        var valid = digito == verif\r\n\r\n        return valid ? null : {\r\n            \"cuit\": { value: cuit }\r\n        }\r\n\r\n    };\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-12\\\">\\r\\n\\r\\n            <h5 class=\\\"text-primary mt-3 font-weight-normal\\\">Datos generales: </h5>\\r\\n            <hr />\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n\\r\\n                <div class=\\\"col-md-3 mb-2\\\">\\r\\n                    <h6>Fecha: </h6>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" value=\\\"{{currentDate | date: 'dd/MM/yyyy'}}\\\" readonly />\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"col-md-3 mb-2\\\">\\r\\n                    <h6>Orden: </h6>\\r\\n                    <input type=\\\"text\\\" [focused]=\\\"started\\\" class=\\\"form-control d-inline-block\\\" placeholder=\\\"Ingresar numero de orden\\\" [formControl]=\\\"selectedOrderCode\\\" />\\r\\n                    <p class=\\\"text-danger\\\" *ngIf=\\\"orderSubmitted && selectedOrderCode.errors?.required\\\">Ingrese número de orden</p>\\r\\n                </div>\\r\\n\\r\\n\\r\\n                <div class=\\\"col-md-3 mb-2\\\">\\r\\n                    <h6>Prioridad: </h6>\\r\\n                    <select [formControl]=\\\"selectedPriority\\\" class=\\\"custom-select\\\" ngbTooltip=\\\"Seleccione prioridad de la órden\\\">\\r\\n                        <option [ngValue]=\\\"null\\\">--Seleccionar--</option>\\r\\n                        <option *ngFor=\\\"let priority of orderPriorities\\\" [ngValue]=\\\"priority\\\">{{priority.name}}</option>\\r\\n                    </select>\\r\\n                    <p class=\\\"text-danger\\\" *ngIf=\\\"orderSubmitted && selectedPriority.errors?.required\\\">Ingrese prioridad de orden</p>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"col-md-3 mb-2\\\">\\r\\n                    <h6>Transportista: </h6>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Ingresar transportista\\\" [formControl]=\\\"selectedCarrier\\\" />\\r\\n                    <p class=\\\"text-danger\\\" *ngIf=\\\"orderSubmitted && selectedCarrier.errors?.required\\\">Ingrese transportista de la orden</p>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <h6 class=\\\"mt-3 text-primary font-weight-normal\\\">Unidades</h6>\\r\\n            <span class=\\\"text-muted\\\">Ingreso de unidades de la orden</span>\\r\\n            <hr />\\r\\n\\r\\n            <div class=\\\"custom-control custom-checkbox mb-3\\\">\\r\\n                <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"customCheck1\\\" [formControl]=\\\"usbReaderEnabled\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"customCheck1\\\">Uso de Lector USB</label>\\r\\n            </div>\\r\\n\\r\\n            <form [formGroup]=\\\"unitForm\\\" (submit)=\\\"addUnit()\\\">\\r\\n\\r\\n                <div class=\\\"form-row\\\">\\r\\n\\r\\n                    <div class=\\\"col-lg-5 align-items-center justify-content-center\\\">\\r\\n\\r\\n                        <label class=\\\"sr-only\\\" for=\\\"inlineFormInputGroupUsername2\\\">Username</label>\\r\\n                        <div class=\\\"input-group mb-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <label class=\\\"input-group-text\\\">Tipo de unidad</label>\\r\\n                            </div>\\r\\n                            <select class=\\\"custom-select\\\" formControlName=\\\"unitType\\\">\\r\\n                                <option [ngValue]=\\\"null\\\">Seleccionar</option>\\r\\n                                <option *ngFor=\\\"let unitType of unitTypes\\\" [ngValue]=\\\"unitType\\\">{{unitType.code}} - {{unitType.name}}</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"text-danger\\\" *ngIf=\\\"submited\\\">\\r\\n                            <span *ngIf=\\\"unitForm.controls.unitType.errors?.required\\\">Ingrese el tipo de unidad</span>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-lg-5 align-items-center justify-content-center\\\">\\r\\n                        <label class=\\\"sr-only\\\" for=\\\"inlineFormInputGroupUsername2\\\">Username</label>\\r\\n                        <div class=\\\"input-group mb-2 mr-sm-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <div class=\\\"input-group-text\\\">Código</div>\\r\\n                            </div>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"unitCode\\\" [focused]=\\\"isWaitingForUnit\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"text-danger\\\" *ngIf=\\\"submited\\\">\\r\\n                            <span *ngIf=\\\"unitForm.controls.unitCode.errors?.required\\\">Ingrese el código de la unidad</span>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-lg-2 align-items-center justify-content-center\\\">\\r\\n                        <button type=\\\"submit\\\" class=\\\"btn btn-block btn-primary rounded-0 mb-2\\\">Agregar</button>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n            </form>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n            <hr />\\r\\n\\r\\n            <div class=\\\"row my-4\\\">\\r\\n\\r\\n                <div class=\\\"col-sm-2\\\">\\r\\n                    <span class=\\\"h6 mr-1\\\">Total: </span> <span>{{units.length}}</span>\\r\\n                </div>\\r\\n\\r\\n                <div *ngFor=\\\"let unitTypeMapping of unitTypeMappings\\\" class=\\\"col-sm-2\\\">\\r\\n                    <span class=\\\"h6 mr-1\\\">{{unitTypeMapping.code}}: </span> <span>{{unitTypeMapping.count}}</span>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"table-responsive mt-4\\\">\\r\\n                <table class=\\\"table table-bordered table-stripped table-hover\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Tipo</th>\\r\\n                            <th>Código</th>\\r\\n                            <th>Acciones</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let unit of units\\\">\\r\\n                            <td>{{unit.type.code}} - {{unit.type.name}}</td>\\r\\n                            <td>{{unit.code}}</td>\\r\\n                            <td>\\r\\n                                <div class=\\\"action-list\\\">\\r\\n                                    <button class=\\\"btn btn-link p-0 m-0\\\" (click)=\\\"removeUnit(unit)\\\">Eliminar</button>\\r\\n                                    <!--<button class=\\\"btn btn-link p-0 m-0\\\" (click)=\\\"edit(unit)\\\">Editar</button>-->\\r\\n                                </div>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </div>\\r\\n\\r\\n            <p *ngIf=\\\"orderSubmitted && !units.length\\\" class=\\\"text-danger\\\">\\r\\n                Debe ingresar al menos una unidad en la orden\\r\\n            </p>\\r\\n\\r\\n            <div class=\\\"d-flex justify-content-end mb-5 mt-3\\\">\\r\\n                <button class=\\\"btn btn-primary rounded-0 mr-2\\\" (click)=\\\"createOrder()\\\">Guardar orden</button>\\r\\n                <button class=\\\"btn btn-secondary rounded-0\\\" (click)=\\\"cancel()\\\">Cancelar</button>\\r\\n            </div>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Unit, UnitType, OrderService } from '../order.service';\r\nimport { zip, from } from 'rxjs';\r\nimport { Location } from '@angular/common';\r\nimport { SessionService } from '../session.service';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { UnitEditModalComponent } from '../unit-edit-modal/unit-edit-modal.component';\r\nimport { MessageService, MessageType } from '../message.service';\r\n\r\n@Component({\r\n    selector: 'app-create-order',\r\n    templateUrl: './create-order.component.html',\r\n    styleUrls: ['./create-order.component.css']\r\n})\r\nexport class CreateOrderComponent implements OnInit {\r\n\r\n    isWaitingForUnit = { should: false }\r\n\r\n    submited = false;\r\n    orderSubmitted = false;\r\n\r\n    usbReaderEnabled: FormControl = new FormControl(true)\r\n\r\n    started = { should: true }\r\n\r\n    currentUser\r\n\r\n    currentDate\r\n\r\n    private units: any[] = []\r\n\r\n    private unitTypeMappings: any[] = [];\r\n\r\n    unitTypes: any[]\r\n    orderPriorities: any[]\r\n\r\n    isEditing: boolean = false;\r\n    editing: any;\r\n\r\n    selectedPriority: FormControl = new FormControl(null, Validators.required);\r\n    selectedCarrier: FormControl = new FormControl(null, Validators.required);\r\n    selectedOrderCode: FormControl = new FormControl(null, Validators.required);\r\n\r\n    unitForm: FormGroup = new FormGroup({\r\n        unitCode: new FormControl(\"\", Validators.required),\r\n        unitType: new FormControl(null, Validators.required)\r\n    })\r\n\r\n    constructor(\r\n        private orderService: OrderService,\r\n        private messageService: MessageService,\r\n        private modalService: NgbModal,\r\n        private sessionService: SessionService,\r\n        private locationService: Location) {\r\n\r\n        this.sessionService.events.subscribe(s => {\r\n            this.currentUser = s.user;\r\n        })\r\n\r\n        this.currentDate = new Date();\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        zip(this.orderService.findUnitTypes(), this.orderService.findPriorities())\r\n            .subscribe(([unitTypes, orderPriorities]) => {\r\n                this.unitTypes = unitTypes\r\n                this.orderPriorities = orderPriorities\r\n            })\r\n\r\n\r\n    }\r\n\r\n    private usbEnabled(): boolean {\r\n        return this.usbReaderEnabled.value as boolean\r\n    }\r\n\r\n    addUnit() {\r\n\r\n        if (this.usbEnabled())\r\n            this.unitForm.controls.unitCode.setValue(this.unitForm.controls.unitCode.value.substr(2), { emitEvent: false })\r\n\r\n        if (this.unitForm.invalid) {\r\n            this.submited = true;\r\n            return\r\n        }\r\n\r\n        if (this.unitExists()) {\r\n\r\n            this.messageService.sendMessage({\r\n                persist: false,\r\n                type: MessageType.DANGER,\r\n                text: \"Ya existe una unidad con igual tipo y código\",\r\n                ttlInSeconds: 3\r\n            })\r\n\r\n            this.unitForm.controls.unitCode.reset();\r\n\r\n            this.isWaitingForUnit = { should: true }\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        this.units.unshift({\r\n            code: this.unitForm.value.unitCode,\r\n            type: this.unitForm.value.unitType\r\n        })\r\n\r\n        this.sortUnits()\r\n\r\n        this.updateMappings()\r\n\r\n        this.unitForm.controls.unitCode.reset();\r\n\r\n        this.submited = false;\r\n\r\n        this.isWaitingForUnit = { should: true }\r\n\r\n    }\r\n\r\n    private unitExists() {\r\n\r\n        return this.units.some(unit =>\r\n            (unit.type.code === this.unitForm.value.unitType.code) && (unit.code === this.unitForm.value.unitCode)\r\n        )\r\n\r\n    }\r\n\r\n    private updateMappings() {\r\n\r\n        this.unitTypeMappings =\r\n            this.unitTypes.map(ut => ({\r\n                code: ut.code,\r\n                count: this.units.filter(u => u.type.code === ut.code).length\r\n            }));\r\n\r\n\r\n    }\r\n\r\n    removeUnit(unit) {\r\n\r\n        this.units.splice(this.units.findIndex(u => u === unit), 1)\r\n        this.updateMappings();\r\n\r\n    }\r\n\r\n    edit(unit) {\r\n\r\n        let m = this.modalService.open(UnitEditModalComponent, { centered: true, size: \"lg\", backdrop: \"static\" })\r\n        m.componentInstance.unitTypes = this.unitTypes\r\n        m.componentInstance.unit = unit\r\n\r\n        from(m.result)\r\n            .subscribe((data) => {\r\n\r\n                let canReplace = (data.previous.code === data.actual.code) ||\r\n                    (this.units.findIndex(unit => unit.code === data.actual.code) === -1)\r\n\r\n                if (canReplace) {\r\n\r\n                    let i = this.units.findIndex(u => u.code === data.previous.code)\r\n                    this.units.splice(i, 1)\r\n                    this.units.splice(i, 0, data.actual)\r\n\r\n                    this.updateMappings()\r\n\r\n                } else {\r\n\r\n                    this.messageService.sendMessage({\r\n                        persist: false,\r\n                        type: MessageType.DANGER,\r\n                        text: \"Ya existe una unidad con ese codigo\",\r\n                        ttlInSeconds: 5\r\n                    })\r\n\r\n                }\r\n\r\n                this.isWaitingForUnit = { should: true }\r\n\r\n            }, () => { })\r\n\r\n    }\r\n\r\n    cancel() {\r\n\r\n        this.locationService.back();\r\n\r\n    }\r\n\r\n    sortUnits() {\r\n\r\n        this.units =\r\n            this.units.sort((u1, u2) => u1.type.code < u2.type.code ? -1 : 1);\r\n\r\n    }\r\n\r\n    createOrder() {\r\n\r\n        let valid =\r\n            [this.selectedCarrier, this.selectedOrderCode, this.selectedPriority].every(d => d.valid) &&\r\n            (this.units.length > 0)\r\n\r\n        if (!valid) {\r\n            this.orderSubmitted = true;\r\n            return;\r\n        }\r\n\r\n\r\n        let order = {\r\n            code: this.selectedOrderCode.value,\r\n            carrier: this.selectedCarrier.value,\r\n            priorityId: this.selectedPriority.value.id,\r\n            ownerId: this.currentUser.id,\r\n            institutionId: this.currentUser.institution.id,\r\n            units: this.units.map((u) => ({\r\n                code: u.code,\r\n                unitTypeId: u.type.id\r\n            }))\r\n        }\r\n\r\n        this.orderService.createOrder(order)\r\n            .subscribe(\r\n                order => {\r\n\r\n                    this.messageService.sendMessage({\r\n                        persist: true,\r\n                        type: MessageType.SUCCESS,\r\n                        text: \"La orden se ha registrado correctamente. La misma permanecerá pendiente hasta ser revisada por los operadores del banco.\",\r\n                        ttlInSeconds: 8\r\n                    })\r\n\r\n                    this.locationService.back();\r\n\r\n                },\r\n                err => {\r\n\r\n                    this.messageService.sendMessage({\r\n                        persist: false,\r\n                        type: MessageType.DANGER,\r\n                        text: `Error al intentar registar la orden. ${err.message}`,\r\n                        ttlInSeconds: 8\r\n                    })\r\n\r\n\r\n                }\r\n            )\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<p>\\r\\n  create-user works!\\r\\n</p>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-create-user',\r\n  templateUrl: './create-user.component.html',\r\n  styleUrls: ['./create-user.component.css']\r\n})\r\nexport class CreateUserComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'cuit'\n})\nexport class CuitPipe implements PipeTransform {\n\n    transform(value: any, args?: any): any {\n\n        return `${value.substr(0, 2)}-${value.substr(2, 8)}-${value.substr(10, 10)}`;\n\n    }\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-12\\\">\\r\\n\\r\\n            <h5 class=\\\"font-weight-normal text-primary mt-4\\\">Informe diario de órdenes irradiadas</h5>\\r\\n            <hr />\\r\\n\\r\\n            <form class=\\\"form-inline\\\" [formGroup]=\\\"searchForm\\\" (submit)=\\\"generateReport()\\\">\\r\\n                <label class=\\\"mr-2 font-weight-bold\\\">Seleccione fecha: </label>\\r\\n                <input type=\\\"date\\\" class=\\\"form-control d-inline-block flex-grow-1 mr-2\\\" formControlName=\\\"selectedDate\\\" />\\r\\n                <button type=\\\"submit\\\" class=\\\"btn btn-primary rounded-0\\\" [disabled]=\\\"searchForm.invalid\\\">Generar</button>\\r\\n            </form>\\r\\n            <hr class=\\\"mt-4\\\" />\\r\\n\\r\\n            <div class=\\\"d-flex justify-content-center\\\" *ngIf=\\\"isLoading\\\">\\r\\n                <div class=\\\"loader\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"!isLoading && hasReport\\\">\\r\\n\\r\\n                <h5 class=\\\"font-weight-normal mt-3 text-primary\\\">Datos generales: </h5>\\r\\n                <hr>\\r\\n                <div class=\\\"table-responsive\\\">\\r\\n                    <table class=\\\"table table-bordered table-hover\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>Fecha</th>\\r\\n                                <th>Total órdenes irradiadas</th>\\r\\n                                <th colspan=\\\"4\\\">Totales por tipo de institución</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr>\\r\\n                                <td>{{report.date | date: \\\"dd/MM/yyyy\\\"}}</td>\\r\\n                                <td>{{report.orderCount}}</td>\\r\\n                                <td *ngFor=\\\"let orderCount of report.orderCountPerInstitutionType\\\">\\r\\n                                    <span [ngbTooltip]=\\\"orderCount.it.description\\\" class=\\\"text-capitalize\\\">{{orderCount.it.name}}: </span>\\r\\n                                    <span class=\\\"text-primary\\\">{{orderCount.count}}</span>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n\\r\\n                <h6 class=\\\"font-weight-normal text-primary\\\">Órdenes</h6>\\r\\n                <hr>\\r\\n                <div class=\\\"table-responsive\\\">\\r\\n                    <table class=\\\"table table-hover table-bordered\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>ID</th>\\r\\n                                <th>Código</th>\\r\\n                                <th>Institución</th>\\r\\n                                <th>Total unidades</th>\\r\\n                                <th colspan=\\\"5\\\">Totales por tipo de unidad</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr *ngFor=\\\"let order of report.orders\\\">\\r\\n                                <td>{{order.id}}</td>\\r\\n                                <td class=\\\"text-muted\\\">{{order.code}}</td>\\r\\n                                <td>{{order.institution.name}}</td>\\r\\n                                <td>{{order.unitCount}}</td>\\r\\n                                <td *ngFor=\\\"let mapping of order.unitTypeMappings\\\">\\r\\n                                    <span class=\\\"font-weight-bold\\\">{{mapping.unitType.code}}</span><br />\\r\\n                                    Total: {{mapping.count}} <br />\\r\\n                                    Facturables: <span class=\\\"text-success\\\">{{mapping.billing}}</span>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n\\r\\n\\r\\n\\r\\n                <div class=\\\"d-flex justify-content-end my-4\\\">\\r\\n                    <button class=\\\"btn btn-primary rounded-0 px-5\\\" (click)=\\\"printReport()\\\">Imprimir informe</button>\\r\\n                </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, HostListener } from '@angular/core';\r\nimport { OrderService } from '../order.service';\r\nimport { FormControl, Validators, FormGroup } from '@angular/forms';\r\nimport { MessageService, MessageType } from '../message.service';\r\nimport { getLocaleDateTimeFormat } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'app-daily-report',\r\n    templateUrl: './daily-report.component.html',\r\n    styleUrls: ['./daily-report.component.css']\r\n})\r\nexport class DailyReportComponent implements OnInit {\r\n\r\n    report: {}\r\n\r\n    isLoading: boolean = false;\r\n\r\n    searchForm: FormGroup = new FormGroup({\r\n        selectedDate: new FormControl(\"\", Validators.required)\r\n    })\r\n\r\n    constructor(\r\n        private orderService: OrderService,\r\n        private messageService: MessageService) { }\r\n\r\n    ngOnInit() {\r\n\r\n        const [month, date, year] = (new Date()).toLocaleString().split(\",\")[0].split(\"/\");\r\n\r\n        this.searchForm.setValue({\r\n            selectedDate: [year, month.padStart(2, '0'), date.padStart(2, '0')].join(\"-\")\r\n        })\r\n\r\n        this.generateReport();\r\n\r\n    }\r\n\r\n    generateReport() {\r\n\r\n        let date = new Date(this.searchForm.value.selectedDate.split(\"-\").join(\"/\")).toISOString()\r\n\r\n        this.isLoading = true\r\n        this.orderService.dailyReport(date)\r\n            .subscribe(\r\n                (report) => {\r\n                    this.isLoading = false\r\n                    this.report = report\r\n                },\r\n                (err) => {\r\n                    this.isLoading = false\r\n                    this.report = null\r\n                    this.messageService.sendMessage({\r\n                        persist: false,\r\n                        type: MessageType.DANGER,\r\n                        text: `Error al intentar generar el informe: ${err.message}`,\r\n                        ttlInSeconds: 5\r\n                    })\r\n                })\r\n\r\n    }\r\n\r\n    printReport() {\r\n        window.print()\r\n    }\r\n\r\n    @HostListener(\"window:beforeprint\")\r\n    hideUI() {\r\n\r\n        console.log(\"before\")\r\n\r\n    }\r\n\r\n    @HostListener(\"window:afterprint\")\r\n    restoreUI() {\r\n\r\n        console.log(\"after\")\r\n    }\r\n\r\n    get hasReport() {\r\n\r\n        return !!this.report\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n","module.exports = \"\"","module.exports = \"\\r\\n<div class=\\\"container p-5\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-10 mx-auto\\\">\\r\\n\\r\\n            <h5>Modificar configuración: </h5>\\r\\n            <hr />\\r\\n\\r\\n            <form [formGroup]=\\\"configElem\\\" (submit)=\\\"update()\\\">\\r\\n\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label>Nombre: </label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"name\\\" />\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label>Valor: </label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"value\\\" [focused]=\\\"{should: true}\\\" />\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label>Descripción: </label>\\r\\n                    <textarea type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"description\\\"></textarea>\\r\\n                </div>\\r\\n\\r\\n\\r\\n                <div class=\\\"d-flex justify-content-end\\\">\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary rounded-0 mr-3\\\" [disabled]=\\\"configElem.invalid\\\">Guardar</button>\\r\\n                    <button class=\\\"btn btn-secondary rounded-0\\\" (click)=\\\"cancel()\\\">Cancelar</button>\\r\\n                </div>\\r\\n\\r\\n            </form>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { ConfigService } from '../config.service';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { config } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-edit-config-modal',\r\n    templateUrl: './edit-config-modal.component.html',\r\n    styleUrls: ['./edit-config-modal.component.css']\r\n})\r\nexport class EditConfigModalComponent implements OnInit {\r\n\r\n    configElem: FormGroup\r\n\r\n    constructor(\r\n        private activeModal: NgbActiveModal,\r\n        private configService: ConfigService) { }\r\n\r\n    ngOnInit() { }\r\n\r\n    update() {\r\n\r\n        this.configService.updateByName(\r\n            this.configElem.controls.name.value,\r\n            this.configElem.value\r\n        ).subscribe(() => {\r\n\r\n            this.activeModal.close();\r\n\r\n        }, (err) => {\r\n\r\n            this.activeModal.dismiss()\r\n\r\n        })\r\n\r\n    }\r\n\r\n    cancel() {\r\n\r\n        this.activeModal.dismiss();\r\n\r\n    }\r\n\r\n    setConfigElem(configElem) {\r\n\r\n        this.configElem = new FormGroup({\r\n            name: new FormControl({\r\n                value: configElem.name, disabled: true\r\n            }),\r\n            value: new FormControl({ value: +configElem.value, disabled: false },\r\n                [\r\n                    Validators.required,\r\n                    configElem.isInteger ? Validators.pattern(/^[0-9]+$/) : Validators.pattern(/^[0-9](\\.[0-9]+)?$/),\r\n                    Validators.min(+configElem.min),\r\n                    Validators.max(+configElem.max),\r\n                ]\r\n            ),\r\n            description: new FormControl({ value: configElem.description, disabled: false })\r\n        })\r\n\r\n        console.log(this.configElem)\r\n\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"modal-header\\\">\\r\\n    <h5 class=\\\"modal-title\\\">{{title}}</h5>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"dismiss()\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n    <p>{{message}}</p>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary rounded-0 px-5\\\" (click)=\\\"confirm()\\\">Sí</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-secondary rounded-0 px-5\\\" (click)=\\\"dismiss()\\\">No</button>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-edit-hemocomponent-modal',\n  templateUrl: './edit-hemocomponent-modal.component.html',\n  styleUrls: ['./edit-hemocomponent-modal.component.css']\n})\nexport class EditHemocomponentModalComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row mb-5\\\">\\r\\n\\r\\n        <div class=\\\"col\\\">\\r\\n\\r\\n            <div *ngIf=\\\"isLoading\\\" class=\\\"text-center\\\">\\r\\n                <div class=\\\"loader\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"hasOrder\\\" class=\\\"mt-2\\\">\\r\\n\\r\\n                <h5 class=\\\"text-primary \\\">Órden</h5>\\r\\n                <h6 class=\\\"text-muted\\\">{{order.id | leftzeroes}}</h6>\\r\\n                <hr />\\r\\n\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3 mb-2\\\">\\r\\n                        <span class=\\\"h6\\\">Código:</span><br /> <span>{{order.code}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3 mb-2\\\">\\r\\n                        <span class=\\\"h6\\\">Fecha de alta:</span><br /> <span>{{order.creationDate | date: \\\"dd/MM/yyyy hh:mm:ss\\\"}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3 mb-2\\\">\\r\\n                        <span class=\\\"h6\\\">Última modificación:</span><br /> <span>{{order.lastModified | date: \\\"dd/MM/yyyy hh:mm:ss\\\"}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Estado:</span><br />\\r\\n                        <span ngbTooltip=\\\"{{order.status.description}}\\\"\\r\\n                              [class.text-muted]=\\\"order.status.name === 'CANCELADA'\\\"\\r\\n                              [class.text-success]=\\\"order.status.name === 'EN_PROCESO'\\\"\\r\\n                              [class.text-primary]=\\\"order.status.name === 'IRRADIADA'\\\"\\r\\n                              [class.text-warning]=\\\"order.status.name === 'PENDIENTE'\\\"\\r\\n                              [class.text-danger]=\\\"order.status.name === 'RECHAZADA'\\\">{{order.status.name}}</span>\\r\\n                    </div>\\r\\n\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Ingresada por:</span><br /> <span>{{order.owner.firstname}} {{order.owner.lastname}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Institución:</span><br /> <span>{{order.owner.institution.name}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Prioridad:</span><br /> <span ngbTooltip=\\\"{{order.priority.description}}\\\">{{order.priority.name}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Transportista:</span>\\r\\n                        <input *ngIf=\\\"order.status.name === 'RECHAZADA'\\\" type=\\\"text\\\" class=\\\"form-control\\\" [formControl]=\\\"selectedCarrier\\\" />\\r\\n                        <span *ngIf=\\\"order.status.name !== 'RECHAZADA'\\\"> <br />{{order.carrier}}</span>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <h6 class=\\\"text-primary my-4\\\">Unidades</h6>\\r\\n                <hr />\\r\\n\\r\\n                <form [formGroup]=\\\"unitForm\\\" (submit)=\\\"addUnit()\\\" *ngIf=\\\"order.status.name === 'RECHAZADA'\\\">\\r\\n\\r\\n                    <div class=\\\"form-row align-items-end\\\">\\r\\n\\r\\n                        <div class=\\\"col-5\\\">\\r\\n\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"my-1 mr-2\\\">Código: </label>\\r\\n                                <input type=\\\"text\\\" class=\\\"form-control flex-grow-1\\\" formControlName=\\\"code\\\" [focused]=\\\"isWaitingForUnit\\\" />\\r\\n                            </div>\\r\\n\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"col-5\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"my-1 mr-2\\\" for=\\\"inlineFormCustomSelectPref\\\">Tipo de unidad: </label>\\r\\n                                <select class=\\\"custom-select flex-grow-1\\\" formControlName=\\\"type\\\">\\r\\n                                    <option [ngValue]=\\\"null\\\">Seleccionar</option>\\r\\n                                    <option *ngFor=\\\"let unitType of unitTypes\\\" [ngValue]=\\\"unitType\\\">{{unitType.code}} - {{unitType.name}}</option>\\r\\n                                </select>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"col-2\\\">\\r\\n                            <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block rounded-0 mb-3\\\">Agregar</button>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-row\\\" *ngIf=\\\"submited\\\">\\r\\n                        <div class=\\\"col-5 text-danger\\\">\\r\\n                            <p *ngIf=\\\"unitForm.controls.unitCode.errors?.required\\\">Ingrese código</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-5 text-danger\\\">\\r\\n                            <p *ngIf=\\\"unitForm.controls.unitType.errors?.required\\\">Ingrese tipo de unidad</p>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n\\r\\n                </form>\\r\\n\\r\\n                <hr *ngIf=\\\"order.status.name !== 'EN_PROCESO'\\\" />\\r\\n\\r\\n                <div class=\\\"row mb-3 px-2\\\">\\r\\n\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <span class=\\\"h6 mr-1\\\">Total: </span> <span>{{order.unitCount}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngFor=\\\"let mapping of order.unitTypeMappings\\\" class=\\\"col-sm-2\\\">\\r\\n                        <span class=\\\"h6 mr-1\\\">{{mapping.unitType.code}}: </span> <span>{{mapping.count}}</span>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"table-responsive mt-4\\\">\\r\\n\\r\\n                    <table *ngIf=\\\"order\\\" class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>Tipo</th>\\r\\n                                <th>Código</th>\\r\\n                                <th>Fecha</th>\\r\\n                                <th *ngIf=\\\"canModify\\\">Acciones</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr *ngFor=\\\"let unit of order.units\\\">\\r\\n                                <td>{{unit.type.code}} - {{unit.type.name}}</td>\\r\\n                                <td>{{unit.code}}</td>\\r\\n                                <td>{{unit.creationDate | date: \\\"dd/MM/yyyy\\\"}}</td>\\r\\n                                <td *ngIf=\\\"canModify\\\">\\r\\n                                    <div class=\\\"action-list\\\">\\r\\n                                        <button class=\\\"btn btn-link p-0 m-0\\\" (click)=\\\"removeUnit(unit)\\\">Eliminar</button>\\r\\n                                        <button class=\\\"btn btn-link p-0 m-0\\\" (click)=\\\"edit(unit)\\\">Editar</button>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"!order.units?.length\\\">\\r\\n                    <p class=\\\"text-danger\\\">La orden debe tener por lo menos una unidad a irradiar</p>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"d-flex flex-wrap justify-content-end\\\" *ngIf=\\\"canModify\\\">\\r\\n                    <button class=\\\"btn btn-primary rounded-0 px-5 ml-2\\\" (click)=\\\"confirmChanges()\\\" [disabled]=\\\"!order.units.length\\\">Confirmar cambios</button>\\r\\n                    <button class=\\\"btn btn-danger rounded-0 px-5 ml-2\\\" (click)=\\\"cancelOrder()\\\">Cancelar orden</button>\\r\\n                </div>\\r\\n\\r\\n                <h6 class=\\\"text-primary  mt-3\\\">Historial de revisiones</h6>\\r\\n                <hr />\\r\\n\\r\\n                <table *ngIf=\\\"order\\\" class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Fecha</th>\\r\\n                            <th>Comentario</th>\\r\\n                            <th>Operador</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let comment of order.conciliationComments\\\">\\r\\n                            <td>{{comment.date | date: \\\"dd/MM/yyyy hh:mm\\\"}}</td>\\r\\n                            <td>{{comment.comment}}</td>\\r\\n                            <td>{{comment.operator.firstname}} {{comment.operator.lastname}}</td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { OrderStatus, Order, OrderService } from '../order.service';\r\nimport { User, SessionService } from '../session.service';\r\nimport { MessageService, MessageType } from '../message.service';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { map, tap, flatMap, catchError } from 'rxjs/operators';\r\nimport { from as fromPromise, throwError, zip, from } from \"rxjs\"\r\nimport { ConfirmModalComponent } from '../confirm-modal/confirm-modal.component';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { UnitEditModalComponent } from '../unit-edit-modal/unit-edit-modal.component';\r\n\r\n@Component({\r\n    selector: 'app-edit-order',\r\n    templateUrl: './edit-order.component.html',\r\n    styleUrls: ['./edit-order.component.css']\r\n})\r\nexport class EditOrderComponent implements OnInit {\r\n\r\n    user: User\r\n\r\n    removedUnitIds: number[] = []\r\n\r\n    order: Order\r\n    nextStatus: OrderStatus;\r\n\r\n    selectedCarrier: FormControl = new FormControl(\"\", Validators.required);\r\n\r\n    submited: boolean = false;\r\n\r\n    addedUnits: any[] = []\r\n    removedUnits: any[] = []\r\n\r\n    isWaitingForUnit = { should: true }\r\n\r\n    unitTypes: any[]\r\n    statuses: any[];\r\n\r\n    unitForm: FormGroup = new FormGroup({\r\n        code: new FormControl(\"\", Validators.required),\r\n        type: new FormControl(null, Validators.required)\r\n    })\r\n\r\n    isLoading: boolean = false;\r\n\r\n    private orderIncludes = [\r\n        { units: { type: true } },\r\n        { priority: true },\r\n        { status: true },\r\n        { owner: { institution: true } },\r\n        { conciliationComments: { operator: true } },\r\n        { unitTypeMappings: { unitType: true } }\r\n    ];\r\n\r\n    constructor(\r\n        private orderService: OrderService,\r\n        private messageService: MessageService,\r\n        private sessionService: SessionService,\r\n        private modalService: NgbModal,\r\n        private route: ActivatedRoute) {\r\n\r\n        this.sessionService.events.subscribe(sessionEvent => {\r\n            this.user = sessionEvent.user\r\n        })\r\n\r\n        this.unitForm.valueChanges.subscribe(d => console.log(d))\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n\r\n        zip(this.orderService.findUnitTypes(), this.orderService.findStatuses())\r\n            .subscribe((data) => {\r\n                this.unitTypes = data[0]\r\n                this.statuses = data[1]\r\n            });\r\n\r\n\r\n        this.route.params\r\n            .pipe(\r\n                map((params) => params.id),\r\n                tap(() => this.startLoading()),\r\n                flatMap((orderId) => this.orderService.findById(orderId, {\r\n                    include: this.orderIncludes\r\n                }))\r\n            )\r\n            .subscribe(\r\n                (order) => this.setOrder(order),\r\n                (err) => this.handleErr(err)\r\n            );\r\n\r\n    }\r\n\r\n    ngOnDestroy(): void { }\r\n\r\n\r\n    startLoading() {\r\n        this.isLoading = true;\r\n    }\r\n\r\n\r\n    stopLoading() {\r\n        this.isLoading = false;\r\n    }\r\n\r\n    setOrder(order: Order) {\r\n\r\n        this.isLoading = false;\r\n        this.order = order;\r\n\r\n        this.selectedCarrier.setValue(order.carrier);\r\n\r\n    }\r\n\r\n    handleErr(err) {\r\n\r\n        this.isLoading = false;\r\n        this.messageService.sendMessage({\r\n            type: MessageType.DANGER,\r\n            persist: false,\r\n            text: err.message\r\n        })\r\n\r\n    }\r\n\r\n    addUnit() {\r\n\r\n        if (this.unitForm.invalid) {\r\n            this.submited = true;\r\n            return\r\n        }\r\n\r\n        if (this.order.units.findIndex(unit => unit.code === this.unitForm.value.code) !== -1) {\r\n\r\n            this.messageService.sendMessage({\r\n                persist: false,\r\n                type: MessageType.DANGER,\r\n                text: \"Ya existe una unidad con ese codigo\",\r\n                ttlInSeconds: 5\r\n            })\r\n\r\n            this.isWaitingForUnit = { should: true }\r\n\r\n            return;\r\n        }\r\n\r\n\r\n        let u = {\r\n            code: this.unitForm.value.code,\r\n            type: this.unitForm.value.type,\r\n            creationDate: new Date().toISOString(),\r\n            unitTypeId: this.unitForm.value.type.id\r\n        }\r\n\r\n        console.log(u)\r\n\r\n        this.order.units.unshift(u)\r\n\r\n        console.log(this.order.units)\r\n\r\n        this.unitForm.reset();\r\n        this.submited = false;\r\n\r\n        this.isWaitingForUnit = { should: true }\r\n\r\n    }\r\n\r\n    removeUnit(unit) {\r\n\r\n        let removedUnit = this.order.units.splice(this.order.units.findIndex(u => u === unit), 1)[0]\r\n\r\n        if (removedUnit.id)\r\n            this.removedUnitIds.push(removedUnit.id)\r\n\r\n    }\r\n\r\n    edit(unit) {\r\n\r\n        let m = this.modalService.open(UnitEditModalComponent, { centered: true, size: \"lg\", backdrop: \"static\" })\r\n        m.componentInstance.unitTypes = this.unitTypes\r\n        m.componentInstance.unit = unit\r\n\r\n        from(m.result).subscribe((data) => {\r\n\r\n            let canReplace = (data.previous.code === data.actual.code) ||\r\n                (this.order.units.findIndex(unit => unit.code === data.actual.code) === -1)\r\n\r\n            if (canReplace) {\r\n\r\n                let i = this.order.units.findIndex(u => u.code === data.previous.code)\r\n                this.order.units.splice(i, 1)\r\n                this.order.units.splice(i, 0, { ...data.actual, creationDate: data.previous.creationDate })\r\n\r\n            } else {\r\n\r\n                this.messageService.sendMessage({\r\n                    persist: false,\r\n                    type: MessageType.DANGER,\r\n                    text: \"Ya existe una unidad con ese codigo\",\r\n                    ttlInSeconds: 5\r\n                })\r\n\r\n            }\r\n\r\n            this.isWaitingForUnit = { should: true }\r\n\r\n        }, () => { })\r\n\r\n    }\r\n\r\n    confirmChanges() {\r\n\r\n        if (this.selectedCarrier.invalid) {\r\n\r\n            this.messageService.sendMessage({\r\n                type: MessageType.DANGER,\r\n                persist: false,\r\n                text: \"Debe ingresar un transportista para la orden\",\r\n                ttlInSeconds: 5\r\n            })\r\n            return;\r\n\r\n        }\r\n\r\n        this.nextStatus =\r\n            this.statuses.filter((status) => status.name === \"PENDIENTE\")[0];\r\n\r\n        console.log(this.nextStatus);\r\n\r\n        let unitsWithId = this.order.units.filter(u => u.id).map((u) => ({\r\n            id: u.id,\r\n            code: u.code,\r\n            creationDate: u.creationDate,\r\n            unitTypeId: u.unitTypeId\r\n        }));\r\n\r\n        let unitsWithoutId = this.order.units.filter(u => !u.id).map((u) => ({\r\n            code: u.code,\r\n            creationDate: u.creationDate,\r\n            unitTypeId: u.unitTypeId\r\n        }));\r\n\r\n        let units = [...unitsWithId, ...unitsWithoutId];\r\n\r\n        let order = {\r\n            id: this.order.id,\r\n            code: this.order.code,\r\n            carrier: this.selectedCarrier.value,\r\n            statusId: this.nextStatus.name,\r\n            priorityId: this.order.priorityId,\r\n            creationDate: this.order.creationDate,\r\n            institutionId: this.order.institutionId,\r\n            ownerId: this.order.ownerId,\r\n            units: units,\r\n            removedUnitIds: this.removedUnitIds\r\n        }\r\n\r\n        this.orderService.updateWithUnits(this.order.id, order)\r\n            .pipe(\r\n                flatMap(order => this.orderService.findById(order.id, { include: this.orderIncludes }))\r\n            )\r\n            .subscribe(\r\n                (order) => {\r\n\r\n                    this.setOrder(order);\r\n                    this.messageService.sendMessage({\r\n                        type: MessageType.SUCCESS,\r\n                        persist: false,\r\n                        text: \"La operación se realizó correctamente. La orden permanecerá pendiente hasta ser revisada por un operador.\"\r\n                    })\r\n                },\r\n                err => {\r\n                    this.messageService.sendMessage({\r\n                        type: MessageType.DANGER,\r\n                        persist: false,\r\n                        text: `Error. ${err.message}`\r\n                    })\r\n                }\r\n            );\r\n\r\n    }\r\n\r\n    cancelOrder() {\r\n\r\n        this.nextStatus =\r\n            this.statuses.filter((status) => status.name === \"CANCELADA\")[0];\r\n\r\n        this.orderService.markOrderAs(this.order.id, this.nextStatus)\r\n            .pipe(\r\n                tap(order => console.log(order)),\r\n                flatMap(order => this.orderService.findById(order.id, { include: this.orderIncludes }))\r\n            )\r\n            .subscribe(\r\n                (order) => {\r\n                    this.order = order\r\n                    this.messageService.sendMessage({\r\n                        type: MessageType.SUCCESS,\r\n                        persist: false,\r\n                        text: \"La operación se realizó correctamente. La orden ya no será tenida en cuenta por el Banco.\"\r\n                    })\r\n                },\r\n                err => {\r\n                    this.messageService.sendMessage({\r\n                        type: MessageType.DANGER,\r\n                        persist: false,\r\n                        text: `Error al intentar cancelar la orden. ${err.message}`\r\n                    })\r\n                }\r\n            );\r\n\r\n\r\n    }\r\n\r\n\r\n    get hasOrder() {\r\n\r\n        return !!this.order;\r\n\r\n\r\n    }\r\n\r\n\r\n    get canModify() {\r\n\r\n        return this.order.status.name === \"RECHAZADA\"  // isRejected ??\r\n\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Observable, throwError } from \"rxjs\"\r\n\r\nimport { HttpInterceptor, HttpHandler, HttpEvent, HttpRequest, HttpErrorResponse } from \"@angular/common/http\"\r\n\r\nimport { SessionService, SessionStatus } from \"./session.service\"\r\nimport { tap, map, catchError } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n\r\n        return next.handle(request)\r\n            .pipe(\r\n                tap(\r\n                    () => { },\r\n                    (err) => console.log(err)\r\n                ),\r\n                catchError(\r\n                    (err) => throwError({\r\n                        message: err.error.message ? err.error.message : err.error.error.message,\r\n                        details: err\r\n                    })\r\n                )\r\n            )\r\n\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"sticky-top\\\" *ngIf=\\\"isShowing\\\">\\r\\n    <div class=\\\"alert alert-danger m-0 py-1 rounded-0 border-bottom\\\">\\r\\n        <p class=\\\"text-center m-0 p-0\\\">\\r\\n            La sesión finaliza en <strong *ngIf=\\\"diff?.minutes\\\">{{diff.minutes}}:</strong>\\r\\n            <strong>{{diff.seconds | number:'2.0-0'}} </strong>\\r\\n            <span *ngIf=\\\"diff?.minutes\\\">minutos</span>\\r\\n            <span *ngIf=\\\"!diff?.minutes\\\">segundos</span> |\\r\\n            <span class=\\\"btn-link\\\" (click)=\\\"renovar()\\\">Renovar</span>\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\n\r\nimport { from as fromPromise, timer, interval, Subscription } from \"rxjs\"\r\n\r\nimport { filter, map } from \"rxjs/operators\"\r\n\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { ModalLoginComponent } from \"./../modal-login/modal-login.component\"\r\n\r\nimport { SessionService, SessionStatus } from \"./../session.service\"\r\n\r\nimport * as moment from \"moment\"\r\n\r\n\r\n@Component({\r\n    selector: 'app-expiring-alert',\r\n    templateUrl: './expiring-alert.component.html',\r\n    styleUrls: ['./expiring-alert.component.css']\r\n})\r\nexport class ExpiringAlertComponent implements OnInit, OnDestroy {\r\n\r\n    timerSubscription: Subscription;\r\n\r\n    diff = undefined; \r\n\r\n    constructor(\r\n        private sessionService: SessionService,\r\n        private modalService: NgbModal) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.sessionService.events\r\n            .pipe(filter(d => d.status === SessionStatus.EXPIRING))\r\n            .subscribe((s) => this.startTimer(s))\r\n\r\n        this.sessionService.events\r\n            .pipe(filter(d => d.status !== SessionStatus.EXPIRING))\r\n            .subscribe(() => this.stopTimer())\r\n\r\n\r\n    }\r\n\r\n    get isShowing() {\r\n        return !!this.diff\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n\r\n        this.stopTimer();\r\n\r\n    }\r\n\r\n    stopTimer(): void {\r\n\r\n        if (this.isShowing) {\r\n\r\n            this.timerSubscription.unsubscribe();\r\n            this.diff = undefined; \r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    private startTimer(sessionEvent): void {\r\n\r\n        this.timerSubscription = interval(1000)\r\n            .pipe(map(() => {\r\n                let seconds = Math.floor((sessionEvent.date.getTime() - Date.now()) / 1000);\r\n                return {\r\n                    minutes: Math.trunc(seconds/60),\r\n                    seconds: seconds % 60\r\n                }\r\n            }))\r\n            .subscribe(d => this.diff = d);\r\n\r\n    }\r\n\r\n    public renovar() {\r\n\r\n        fromPromise(this.modalService.open(ModalLoginComponent).result)\r\n            .subscribe(\r\n                (r) => console.log(r),\r\n                (err) => console.error(err)\r\n            )\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nclass DiffTimer {\r\n\r\n    constructor(private start: Date, private end: Date) { }\r\n\r\n    get diffInMinutes() {\r\n\r\n        return moment(this.end.getTime()).diff(moment(this.end), 'minutes')\r\n\r\n    }\r\n\r\n    get diffInSeconds() {\r\n\r\n        return moment(this.end.getTime()).diff(moment(this.end), 'seconds')\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-12 mx-auto\\\">\\r\\n\\r\\n            <h5 class=\\\"text-primary font-weight-normal\\\">Hemocomponentes</h5>\\r\\n            <span class=\\\"text-muted\\\">Listado de tipos de unidades (hemocomponentes)</span>\\r\\n            <hr />\\r\\n\\r\\n            <div class=\\\"table-responsive\\\">\\r\\n\\r\\n                <table class=\\\"table table-stripped table-bordered\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>ID</th>\\r\\n                            <th>Código</th>\\r\\n                            <th>Description</th>\\r\\n                            <th>Creado</th>\\r\\n                            <th>Estado</th>\\r\\n                            <th>Acciones</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let unitType of unitTypes\\\">\\r\\n                            <td>{{unitType.id}}</td>\\r\\n                            <td>{{unitType.code}}</td>\\r\\n                            <td>{{unitType.name}}</td>\\r\\n                            <td>{{unitType.creation_date | date: \\\"dd/MM/yyyy\\\"}}</td>\\r\\n                            <td>\\r\\n                                <div *ngIf=\\\"unitType.enabled\\\" class=\\\"d-flex flex-row justify-content-start\\\">\\r\\n                                    <span class=\\\"mr-2\\\">Habilitado</span> <span>/</span>\\r\\n                                    <button class=\\\"btn btn-link m-0 p-0 ml-2\\\" (click)=\\\"toggle()\\\">Deshabilitar</button>\\r\\n                                </div>\\r\\n                                <div *ngIf=\\\"!unitType.enabled\\\" class=\\\"d-flex flex-row justify-content-start\\\">\\r\\n                                    <span>Deshabilitado</span> <span>/</span>\\r\\n                                    <button class=\\\"btn btn-link m-0 p-0\\\" (click)=\\\"toggle()\\\">Habilitar</button>\\r\\n                                </div>\\r\\n\\r\\n                            </td>\\r\\n                            <td><button class=\\\"btn btn-link m-0 p-0\\\" (click)=\\\"openModal(unitType)\\\">Editar</button></td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { OrderService, UnitType } from '../order.service';\r\nimport { MessageService } from '../message.service';\r\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { EditHemocomponentModalComponent } from '../edit-hemocomponent-modal/edit-hemocomponent-modal.component';\r\nimport { from } from 'rxjs';\r\nimport { UnittypeEditModalComponent } from '../unittype-edit-modal/unittype-edit-modal.component';\r\n\r\n@Component({\r\n    selector: 'app-hemocomponents',\r\n    templateUrl: './hemocomponents.component.html',\r\n    styleUrls: ['./hemocomponents.component.css']\r\n})\r\nexport class HemocomponentsComponent implements OnInit {\r\n\r\n    unitTypes: UnitType[]\r\n\r\n    constructor(\r\n        private orderService: OrderService,\r\n        private modalService: NgbModal,\r\n        private messageService: MessageService) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.orderService.findUnitTypes()\r\n            .subscribe(types => this.unitTypes = types, err => this.messageService.error(err.message))\r\n\r\n    }\r\n\r\n    enable(unitType) { }\r\n\r\n    disable(unitType) { }\r\n\r\n    openModal(unitType) {\r\n\r\n        let d: NgbModalRef = this.modalService.open(UnittypeEditModalComponent, {size: \"lg\"});\r\n        d.componentInstance.setUnitType(unitType);\r\n\r\n        from(d.result).subscribe(() => this.ngOnInit(), () => { })\r\n\r\n\r\n    }\r\n\r\n    toggle() {\r\n\r\n        this.messageService.success(\"Próximamente... \")\r\n    }\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-12 mx-auto\\\" *ngIf=\\\"hasInstitution\\\">\\r\\n\\r\\n            <h5 class=\\\"text-primary \\\">Institución</h5>\\r\\n            <h6 class=\\\"text-muted\\\">{{institution.id | leftzeroes}}</h6>\\r\\n            <hr />\\r\\n\\r\\n            <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                <div class=\\\" col-md-3 mb-2\\\">\\r\\n                    <span class=\\\"h6\\\">CUIT: </span><br /> <span>{{institution.cuit | cuit}}</span>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\" col-md-6 mb-2\\\">\\r\\n                    <span class=\\\"h6\\\">Nombre: </span><br /> <span>{{institution.name}}</span>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\" col-md-3 mb-2\\\">\\r\\n                    <span class=\\\"h6\\\">Tipo: </span><br /> <span>{{institution.type.name}}</span>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                <div class=\\\" col-md-3 mb-2\\\">\\r\\n                    <span class=\\\"h6\\\">Email: </span><br /> <span>{{institution.email}}</span>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"col-md-6 mb-2\\\">\\r\\n                    <span class=\\\"h6\\\">Dirección:</span><br /> <span>{{institution.address}}</span>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"col-md-3 mb-2\\\">\\r\\n                    <span class=\\\"h6\\\">Alta:</span><br /> <span>{{institution.creation_date | date: \\\"dd/MM/yyyy\\\"}}</span>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                <div class=\\\" col-md-3 mb-2\\\">\\r\\n                    <span class=\\\"h6\\\">Usuarios: </span><br /> <span>{{institution.userCount}}</span>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\" col-md-6 mb-2\\\">\\r\\n                    <span class=\\\"h6\\\">Órdenes: </span><br /> <span>{{institution.orderCount}}</span>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\" col-md-3 mb-2\\\">\\r\\n                    <span class=\\\"h6\\\">Tipo: </span><br /> <span>{{institution.type.name}}</span>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"newUserInProcess\\\">\\r\\n\\r\\n                <h6 class=\\\"text-primary \\\">Alta de usuario</h6>\\r\\n                <hr />\\r\\n\\r\\n                <form [formGroup]=\\\"userForm\\\" (submit)=\\\"createUser()\\\">\\r\\n\\r\\n                    <div class=\\\"form-row\\\">\\r\\n\\r\\n                        <div class=\\\"form-group col-md-4\\\">\\r\\n                            <label for=\\\"inputPassword4\\\">Apellido</label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputPassword4\\\" placeholder=\\\"Apellido\\\" formControlName=\\\"firstname\\\" [focused]=\\\"{should: true}\\\">\\r\\n                            <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && userForm.controls.firstname.errors\\\">\\r\\n                                <span class=\\\"text-danger\\\" *ngIf=\\\"userForm.controls.firstname.errors.required\\\">Ingrese el apellido del usuario</span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group col-md-4\\\">\\r\\n                            <label for=\\\"inputPassword4\\\">Nombre</label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputPassword4\\\" placeholder=\\\"Nombre\\\" formControlName=\\\"lastname\\\">\\r\\n                            <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && userForm.controls.lastname.errors\\\">\\r\\n                                <span class=\\\"text-danger\\\" *ngIf=\\\"userForm.controls.lastname.errors.required\\\">Ingrese el nombre del usuario</span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group col-md-4\\\">\\r\\n                            <label for=\\\"inputPassword4\\\">DNI</label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputPassword4\\\" placeholder=\\\"DNI\\\" formControlName=\\\"dni\\\">\\r\\n                            <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && userForm.controls.dni.errors\\\">\\r\\n                                <span class=\\\"text-danger\\\" *ngIf=\\\"userForm.controls.dni.errors.required\\\">Ingrese el dni</span>\\r\\n                                <span class=\\\"text-danger\\\" *ngIf=\\\"userForm.controls.dni.errors.pattern\\\">DNI no válido</span>\\r\\n                                <span class=\\\"text-danger\\\" *ngIf=\\\"userForm.controls.dni.errors.minLength\\\">DNI no válido</span>\\r\\n                                <span class=\\\"text-danger\\\" *ngIf=\\\"userForm.controls.dni.errors.maxLength\\\">DNI no válido</span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-row\\\">\\r\\n\\r\\n                        <div class=\\\"form-group col-md-6\\\">\\r\\n                            <label for=\\\"inputCity\\\">Nombre de usuario</label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"username\\\" placeholder=\\\"Nombre de usuario\\\">\\r\\n                            <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && userForm.controls.username.errors\\\">\\r\\n                                <span class=\\\"text-danger\\\" *ngIf=\\\"userForm.controls.username.errors.required\\\">Ingrese nombre de usuario</span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group col-md-6\\\">\\r\\n                            <label for=\\\"inputCity\\\">Email</label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"email\\\" placeholder=\\\"Email\\\">\\r\\n                            <div class=\\\"d-flex flex-column\\\" *ngIf=\\\"submitted && userForm.controls.email.errors\\\">\\r\\n                                <span class=\\\"text-danger\\\" *ngIf=\\\"userForm.controls.email.errors.required\\\">Ingrese el email del usuario</span>\\r\\n                                <span class=\\\"text-danger\\\" *ngIf=\\\"userForm.controls.email.errors.email\\\">Email no válido</span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"d-flex justify-content-end\\\">\\r\\n                        <button type=\\\"submit\\\" class=\\\"btn btn-primary rounded-0 px-3\\\">Crear</button>\\r\\n                        <button class=\\\"btn btn-secondary rounded-0 px-3 ml-2\\\" (click)=\\\"cancelUser()\\\">Cancelar</button>\\r\\n                    </div>\\r\\n\\r\\n                </form>\\r\\n\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <div *ngIf=\\\"!newUserInProcess\\\">\\r\\n                <h6 class=\\\"text-primary \\\" *ngIf=\\\"!newUserInProcess\\\">Usuarios</h6>\\r\\n                <hr />\\r\\n\\r\\n                <div class=\\\"table-responsive\\\">\\r\\n\\r\\n                    <table class=\\\"table table-bordered table-hover\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>ID</th>\\r\\n                                <th>Usuario</th>\\r\\n                                <th>Nombre</th>\\r\\n                                <th>DNI</th>\\r\\n                                <th>Email</th>\\r\\n                                <th>Estado</th>\\r\\n                                <th>Alta</th>\\r\\n                                <th>Acciones</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr *ngFor=\\\"let user of institution.users\\\">\\r\\n                                <td>{{user.id}}</td>\\r\\n                                <td>{{user.username}}</td>\\r\\n                                <td>{{user.firstname}} {{user.lastname}}</td>\\r\\n                                <td>{{user.dni}}</td>\\r\\n                                <td>{{user.email}}</td>\\r\\n                                <td>{{user.accountConfirmed ? (user.active ? 'ACTIVO' : 'INACTIVO') : 'PENDIENTE'}}</td>\\r\\n                                <td>{{user.creationDate | date: \\\"dd/MM/yyyy\\\"}}</td>\\r\\n                                <td>\\r\\n                                    <ul class=\\\"list-inline m-0\\\">\\r\\n                                        <li class=\\\"list-item m-0\\\" *ngIf=\\\"!user.active\\\"><button class=\\\"btn btn-primary rounded-0\\\" (click)=\\\"enableUser(user.id)\\\">Habilitar</button></li>\\r\\n                                        <li class=\\\"list-item m-0\\\" *ngIf=\\\"user.active\\\"><button class=\\\"btn btn-danger rounded-0\\\" (click)=\\\"disableUser(user.id)\\\">Deshabilitar</button></li>\\r\\n                                    </ul>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"d-flex justify-content-end\\\">\\r\\n                    <button class=\\\"btn btn-primary rounded-0 px-3 shadow-sm\\\" (click)=\\\"newUser()\\\">Nuevo usuario</button>\\r\\n                </div>\\r\\n\\r\\n\\r\\n                <h6 class=\\\"text-primary\\\">Últimas 5 órdenes</h6>\\r\\n                <hr />\\r\\n\\r\\n                <div class=\\\"table-responsive\\\">\\r\\n\\r\\n                    <table class=\\\"table table-bordered table-hover\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>ID</th>\\r\\n                                <th>Codigo</th>\\r\\n                                <th>Alta</th>\\r\\n                                <th>Unidades</th>\\r\\n                                <th>Estado</th>\\r\\n                                <th>Acciones</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr *ngFor=\\\"let order of orders\\\">\\r\\n                                <td>{{order.id}}</td>\\r\\n                                <td>{{order.code}}</td>\\r\\n                                <td>{{order.creationDate | date: \\\"dd/MM/yyyy hh:mm\\\"}}</td>\\r\\n                                <td>{{order.unitCount}}</td>\\r\\n                                <td>{{order.statusId}}</td>\\r\\n                                <td>\\r\\n                                    <a routerLink=\\\"/operadores/ordenes/{{order.id}}/revisión\\\">Detalles</a>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { InstitutionsService, Institution } from '../institutions.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { MessageService } from '../message.service';\r\nimport { OrderService, Order } from '../order.service';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { UserService } from '../user.service';\r\n\r\n@Component({\r\n    selector: 'app-institution-details',\r\n    templateUrl: './institution-details.component.html',\r\n    styleUrls: ['./institution-details.component.css']\r\n})\r\nexport class InstitutionDetailsComponent implements OnInit {\r\n\r\n    institution: Institution\r\n    orders: Order[] = []\r\n\r\n    newUserInProcess: boolean = false;\r\n\r\n    userForm: FormGroup = new FormGroup({\r\n        firstname: new FormControl(\"\", Validators.required),\r\n        lastname: new FormControl(\"\", Validators.required),\r\n        dni: new FormControl(\"\", [Validators.required, Validators.pattern(/^[0-9]{7,8}$/)]),\r\n        username: new FormControl(\"\", Validators.required),\r\n        email: new FormControl(\"\", [, Validators.required, Validators.email])\r\n    })\r\n\r\n    submitted = false;\r\n\r\n    constructor(\r\n        private messageService: MessageService,\r\n        private activatedRoute: ActivatedRoute,\r\n        private userService: UserService,\r\n        private orderService: OrderService,\r\n        private institutionService: InstitutionsService) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.institutionService.findById(this.activatedRoute.snapshot.params.id, { include: [\"users\", \"type\"] })\r\n            .subscribe(\r\n                i => this.setInstitution(i),\r\n                err => this.handleError(err)\r\n            )\r\n\r\n        this.orderService.find({\r\n            where: { institutionId: this.activatedRoute.snapshot.params.id },\r\n            limit: 5,\r\n            order: [\"creationDate DESC\"]\r\n        }).subscribe(o => this.orders = o.items, err => this.handleError(err))\r\n\r\n        this.newUserInProcess = false;\r\n\r\n    }\r\n\r\n    private setInstitution(i) {\r\n\r\n        this.institution = i;\r\n\r\n    }\r\n\r\n    private handleError(err) {\r\n\r\n        this.messageService.error(err.message)\r\n        this.userForm.enable();\r\n\r\n    }\r\n\r\n    get hasInstitution() {\r\n        return !!this.institution\r\n    }\r\n\r\n    newUser() {\r\n\r\n        this.userForm.reset();\r\n        this.userForm.enable();\r\n        this.newUserInProcess = true;\r\n\r\n    }\r\n\r\n    disableUser(userId) {\r\n\r\n        this.userService.disable(userId)\r\n            .subscribe(() => this.ngOnInit(), err => this.handleError(err))\r\n\r\n    }\r\n\r\n    enableUser(userId) {\r\n\r\n        this.userService.enable(userId)\r\n            .subscribe(() => this.ngOnInit(), err => this.handleError(err))\r\n\r\n    }\r\n\r\n    createUser() {\r\n\r\n        if (this.userForm.invalid) {\r\n\r\n            this.submitted = true;\r\n            return\r\n\r\n        }\r\n\r\n        this.userForm.disable()\r\n        this.userService.createClient({\r\n            institutionId: this.activatedRoute.snapshot.params.id,\r\n            ...this.userForm.value\r\n        }).subscribe(u => this.ngOnInit(), err => this.handleError(err))\r\n\r\n    }\r\n\r\n    cancelUser() {\r\n\r\n        this.newUserInProcess = false;\r\n\r\n    }\r\n\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from '@angular/core';\r\nimport { of, Observable } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { environment } from \"./../environments/environment\";\r\nimport { Query } from \"./operator/operator.component\";\r\n\r\nexport interface Institution {\r\n\r\n    id?: number\r\n    name: string\r\n    email: string\r\n    address: string\r\n    cuit: string\r\n    [key: string]: any\r\n\r\n}\r\n\r\nexport interface InstitutionType {\r\n\r\n    id?: number\r\n    name: string\r\n    description: string\r\n\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class InstitutionsService {\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n\r\n    create(institution: Institution): Observable<Institution> {\r\n\r\n        return this.http.post<Institution>(`${environment.api.institutions}`, institution)\r\n\r\n    }\r\n\r\n    findById(id, q = {}): Observable<Institution> {\r\n\r\n        return this.http.get<Institution>(`${environment.api.institutions}/${id}?filter=${JSON.stringify(q)}`)\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    find(q: Query = {}) {\r\n\r\n        return this.http.get<Institution[]>(`${environment.api.institutions}?filter=${JSON.stringify(q)}`)\r\n\r\n    }\r\n\r\n    findTypes(q: Query = {}) {\r\n\r\n        return this.http.get<InstitutionType[]>(`${environment.api.institutionTypes}?filter=${JSON.stringify(q)}`)\r\n\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-12 mx-auto\\\">\\r\\n\\r\\n            <h5 class=\\\"text-primary font-weight-normal\\\">Instituciones</h5>\\r\\n            <hr />\\r\\n\\r\\n            <div class=\\\"table-responsive\\\">\\r\\n\\r\\n                <table class=\\\"table table-bordered table-hover\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>ID</th>\\r\\n                            <th>Nombre</th>\\r\\n                            <th>CUIT</th>\\r\\n                            <th>Email</th>\\r\\n                            <th>Alta</th>\\r\\n                            <th>Tipo</th>\\r\\n                            <th>Usuarios</th>\\r\\n                            <th>Ordenes</th>\\r\\n                            <th>Acciones</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let institution of institutions\\\">\\r\\n                            <td>{{institution.id}}</td>\\r\\n                            <td>{{institution.name}}</td>\\r\\n                            <td>{{institution.cuit | cuit}}</td>\\r\\n                            <td>{{institution.email}}</td>\\r\\n                            <td>{{institution.creation_date | date: \\\"dd/MM/yyyy\\\"}}</td>\\r\\n                            <td>{{institution.type.name}}</td>\\r\\n                            <td>{{institution.userCount}}</td>\\r\\n                            <td>{{institution.orderCount}}</td>\\r\\n                            <td class=\\\"align-middle\\\">\\r\\n                                <ul class=\\\"list-inline my-0\\\">\\r\\n                                    <li><a routerLink=\\\"/administradores/instituciones/{{institution.id}}\\\">Detalles</a></li>\\r\\n                                </ul>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n<button (click)=\\\"createInstitution()\\\" class=\\\"position-fixed btn-primary rounded-circle shadow\\\" style=\\\"bottom: 20px; right: 20px; height: 56px; width: 56px; border: 0px; cursor: pointer\\\">\\r\\n    +\\r\\n</button>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { InstitutionsService, Institution, InstitutionType } from '../institutions.service';\r\nimport { zip } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'app-institutions',\r\n    templateUrl: './institutions.component.html',\r\n    styleUrls: ['./institutions.component.css']\r\n})\r\nexport class InstitutionsComponent implements OnInit {\r\n\r\n    institutions: Institution[] = []\r\n    institutionTypes: InstitutionType[] = []\r\n\r\n    constructor(private institutionService: InstitutionsService, private router: Router) { }\r\n\r\n    ngOnInit() {\r\n\r\n        zip(this.institutionService.find({ include: { type: true }, order: [\"creation_date DESC\"] }), this.institutionService.findTypes())\r\n            .subscribe(\r\n                (d) => [this.institutions, this.institutionTypes] = d,\r\n                (err) => window.alert(err.message)\r\n            )\r\n\r\n\r\n    }\r\n\r\n    createInstitution() {\r\n\r\n\r\n        this.router.navigateByUrl(\"/administradores/instituciones/alta\");\r\n\r\n\r\n    }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'leftzeroes'\r\n})\r\nexport class LeftzeroesPipe implements PipeTransform {\r\n\r\n    transform(value: any, args?: any): any {\r\n\r\n        return value.toString().padStart(6, 0);\r\n\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-md-6  mx-auto\\\">\\r\\n\\r\\n            <div class=\\\"card p-5 shadow-sm mt-3\\\">\\r\\n\\r\\n                <div class=\\\"d-block mx-auto w-50\\\">\\r\\n                    <img src=\\\"assets/logo.png\\\" class=\\\"img-fluid\\\">\\r\\n                </div>\\r\\n\\r\\n                <hr class=\\\"d-block w-100 mx-auto mt-5\\\">\\r\\n\\r\\n                <form [formGroup]=\\\"loginForm\\\" class=\\\"mt-3\\\" (submit)=\\\"login()\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label>Usuario</label>\\r\\n                        <input focused=\\\"true\\\" type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"username\\\">\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                        <p *ngIf=\\\"loginForm.controls.username.errors?.required\\\">Ingrese nombre de usuario</p>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label>Contraseña</label>\\r\\n                        <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"password\\\">\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                        <p *ngIf=\\\"loginForm.controls.password.errors?.required\\\">Ingrese contraseña</p>\\r\\n                    </div>\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block mb-2 rounded-0\\\">Ingresar</button>\\r\\n                    <div *ngIf=\\\"isLoading\\\" class=\\\"text-center mt-3\\\">\\r\\n                        <div class=\\\"d-inline-block loader\\\"></div>\\r\\n                    </div>\\r\\n                </form>\\r\\n\\r\\n                <div class=\\\"d-flex justify-content-end mt-2\\\">\\r\\n                    <a routerLink=\\\"/password-reset\\\">No recuerdo mis datos de acceso</a>\\r\\n                </div>\\r\\n\\r\\n\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { HttpClient } from \"@angular/common/http\";\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { MessageService, MessageType } from \"./../message.service\";\r\nimport { NavigationService } from \"./../navigation.service\";\r\nimport { SessionService } from \"./../session.service\";\r\n\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n\r\n    loginForm: FormGroup = LoginForm.newInstance();\r\n\r\n    isLoading: boolean = false;\r\n    canSubmit: boolean = false;\r\n\r\n    submitted: boolean = false;\r\n\r\n    constructor(\r\n        private http: HttpClient,\r\n        private sessionService: SessionService,\r\n        private messagesService: MessageService,\r\n        private navigationService: NavigationService,\r\n        private router: Router) { }\r\n\r\n\r\n    ngOnInit() {}\r\n\r\n    ngOnDestroy() {}\r\n\r\n    login() {\r\n\r\n        if (this.loginForm.invalid) {\r\n            this.submitted = true;\r\n            return;\r\n        }\r\n\r\n        this.loginForm.disable();\r\n        this.isLoading = true;\r\n        this.sessionService.login(this.loginForm.value)\r\n            .subscribe(() => {\r\n                this.isLoading = false;\r\n                this.navigationService.navigateToHome();\r\n            }, (err) => {\r\n                this.isLoading = false;\r\n                this.loginForm.enable();\r\n                this.messagesService.sendMessage({\r\n                    type: MessageType.DANGER,\r\n                    persist: false,\r\n                    text: err.message\r\n                });\r\n            });\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nclass LoginForm extends FormGroup {\r\n\r\n    static newInstance() {\r\n\r\n        return new FormGroup({\r\n            username: new FormControl(\"\", Validators.required),\r\n            password: new FormControl(\"\", Validators.required)\r\n        })\r\n    }\r\n\r\n    static fromModel(m: any): FormGroup {\r\n\r\n        let d: FormGroup = LoginForm.newInstance();\r\n        d.setValue(m);\r\n\r\n        return d;\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from \"rxjs\";\r\n\r\n\r\nexport enum MessageType {\r\n\r\n    WARNING = \"warning\",\r\n    DANGER = \"danger\",\r\n    SUCCESS = \"success\"\r\n\r\n\r\n}\r\n\r\n\r\nexport interface Message {\r\n    type: MessageType\r\n    persist: boolean\r\n    text: string\r\n    ttlInSeconds?: number\r\n}\r\n\r\n@Injectable()\r\nexport class MessageService {\r\n\r\n    private _messages: Subject<Message> = new Subject();\r\n\r\n    constructor() { }\r\n\r\n    public sendMessage(d: Message) {\r\n\r\n        this._messages.next(d);\r\n\r\n    }\r\n\r\n    get messages(): Observable<Message> {\r\n\r\n        return this._messages.asObservable();\r\n\r\n    }\r\n\r\n    public error(message) {\r\n\r\n        this.sendMessage({ text: message, type: MessageType.DANGER, persist: false, ttlInSeconds: 8 })\r\n    }\r\n\r\n    public success(message) {\r\n\r\n        this.sendMessage({ text: message, type: MessageType.SUCCESS, persist: false, ttlInSeconds: 8 })\r\n    }\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"\\r\\n<div class=\\\"d-flex flex-column\\\">\\r\\n\\r\\n    <div class=\\\"message\\\">\\r\\n        <div class=\\\"flex-grow-1 m-0 p-0\\\">\\r\\n            {{message.text}}\\r\\n        </div>\\r\\n        <div class=\\\"m-0 p-0 ml-3\\\">\\r\\n            <button class=\\\"btn btn-link p-0 m-0 text-white\\\" (click)=\\\"onClose()\\\">&times;</button>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"progress bg-dark rounded-0\\\" style=\\\"height: 2px;\\\">\\r\\n        <div class=\\\"progress-bar rounded-0\\\"\\r\\n             [class.message-danger]=\\\"message.type === 'danger'\\\"\\r\\n             [class.message-warning]=\\\"message.type === 'warning'\\\"\\r\\n             [class.message-success]=\\\"message.type === 'success'\\\"\\r\\n             [style.width.%]=\\\"percent\\\" ></div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input, OnChanges, OnDestroy, SimpleChanges, Output, EventEmitter } from '@angular/core';\r\nimport { interval, Subscription } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport { Message } from '../message.service';\r\n\r\n@Component({\r\n    selector: 'app-message',\r\n    templateUrl: './message.component.html',\r\n    styleUrls: ['./message.component.css']\r\n})\r\nexport class MessageComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n    static DEFAULT_TTL: number = 8;\r\n    static STEP: number = 100;\r\n\r\n    @Input()\r\n    message: Message\r\n\r\n    @Output()\r\n    close: EventEmitter<any> = new EventEmitter();\r\n\r\n    s: Subscription;\r\n\r\n    percent: number = 100;\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n\r\n        let ttl = this.message.ttlInSeconds * 1000 || MessageComponent.DEFAULT_TTL * 1000;\r\n\r\n        this.s =\r\n            interval(MessageComponent.STEP)\r\n                .pipe(take(Math.floor(ttl / MessageComponent.STEP)))\r\n                .subscribe(\r\n                    () => this.percent -= Math.floor(MessageComponent.STEP / ttl * MessageComponent.STEP),\r\n                    (err) => console.error(err),\r\n                    () => this.close.emit()\r\n                )\r\n\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n\r\n        this.s.unsubscribe();\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {}\r\n\r\n    onClose() {\r\n\r\n        this.close.emit()\r\n\r\n    }\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"p-5\\\">\\r\\n    <div class=\\\"card p-5 shadow-sm mt-3 rounded-0\\\">\\r\\n        <img src=\\\"assets/logo.png\\\" class=\\\"d-block mx-auto img-fluid\\\" style=\\\"max-height: 60px\\\">\\r\\n        <hr class=\\\"d-block w-100 mx-auto mt-5\\\">\\r\\n        <form [formGroup]=\\\"loginForm\\\" class=\\\"mt-3 rounded-0\\\" (submit)=\\\"accept()\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label>Usuario</label>\\r\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"username\\\" readonly>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                <p *ngIf=\\\"loginForm.controls.username.errors?.required\\\">Ingrese nombre de usuario</p>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label>Contraseña</label>\\r\\n                <input type=\\\"password\\\" class=\\\"form-control\\\" [focused]=\\\"{should: true}\\\" formControlName=\\\"password\\\">\\r\\n            </div>\\r\\n            <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                <p *ngIf=\\\"loginForm.controls.password.errors?.required\\\">Ingrese contraseña</p>\\r\\n            </div>\\r\\n            <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block mb-2\\\">Ingresar</button>\\r\\n            <div *ngIf=\\\"isLoading\\\" class=\\\"text-center mt-3\\\">\\r\\n                <div class=\\\"d-inline-block loader\\\"></div>\\r\\n            </div>\\r\\n            <p *ngIf=\\\"hasError\\\" class=\\\"text-center text-danger mt-4\\\">\\r\\n                {{errorMsg}}\\r\\n            </p>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\n\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { SessionService, SessionStatus } from \"./../session.service\";\r\n\r\n\r\n@Component({\r\n    selector: 'app-modal-login',\r\n    templateUrl: './modal-login.component.html',\r\n    styleUrls: ['./modal-login.component.css']\r\n})\r\nexport class ModalLoginComponent implements OnInit {\r\n\r\n    isLoading: boolean = false;\r\n    errorMsg: string;\r\n\r\n    loginForm: FormGroup = new FormGroup({\r\n        username: new FormControl(\"\"),\r\n        password: new FormControl(\"\")\r\n    })\r\n\r\n    constructor(\r\n        private sessionService: SessionService,\r\n        private activeModal: NgbActiveModal) {\r\n\r\n        this.sessionService.events\r\n            .subscribe(e => this.handleSessionEvent(e))\r\n\r\n    }\r\n\r\n    handleSessionEvent(se) {\r\n\r\n        if ((se.status === SessionStatus.LOGGED_IN) ||\r\n            (se.status === SessionStatus.EXPIRING)) {\r\n\r\n            this.loginForm.setValue({\r\n                username: se.user.username,\r\n                password: \"\"\r\n            })\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        if (se.status === SessionStatus.EXPIRED) {\r\n            this.activeModal.close();\r\n            return;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    ngOnInit() { }\r\n\r\n\r\n    accept() {\r\n\r\n        this.isLoading = true;\r\n        this.errorMsg = \"\";\r\n\r\n        this.sessionService.login(this.loginForm.value)\r\n            .subscribe(\r\n                () => {\r\n                    this.isLoading = false;\r\n                    this.activeModal.close()\r\n                },\r\n                (err) => {\r\n                    this.isLoading = false;\r\n                    this.errorMsg = err.message;\r\n                }\r\n            )\r\n\r\n    }\r\n\r\n    get hasError() {\r\n        return this.errorMsg;\r\n    }\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"p-5\\\">\\r\\n    <div class=\\\"card p-5 shadow-sm mt-3 rounded-0\\\">\\r\\n        <img src=\\\"assets/logo.png\\\" class=\\\"d-block mx-auto img-fluid\\\" style=\\\"max-height: 60px\\\">\\r\\n        <hr class=\\\"d-block w-100 mx-auto mt-5\\\">\\r\\n        <form [formGroup]=\\\"loginForm\\\" class=\\\"mt-3 rounded-0\\\" (submit)=\\\"accept()\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label>Usuario</label>\\r\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"username\\\" readonly>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                <p *ngIf=\\\"loginForm.controls.username.errors?.required\\\">Ingrese nombre de usuario</p>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label>Contraseña</label>\\r\\n                <input type=\\\"password\\\" class=\\\"form-control\\\" [focused]=\\\"{should: true}\\\" formControlName=\\\"password\\\">\\r\\n            </div>\\r\\n            <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                <p *ngIf=\\\"loginForm.controls.password.errors?.required\\\">Ingrese contraseña</p>\\r\\n            </div>\\r\\n            <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block mb-2\\\">Ingresar</button>\\r\\n            <div *ngIf=\\\"isLoading\\\" class=\\\"text-center mt-3\\\">\\r\\n                <div class=\\\"d-inline-block loader\\\"></div>\\r\\n            </div>\\r\\n            <p *ngIf=\\\"hasError\\\" class=\\\"text-center text-danger mt-4\\\">\\r\\n                {{errorMsg}}\\r\\n            </p>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\n\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { SessionService, SessionStatus } from \"./../session.service\";\r\n\r\n\r\n@Component({\r\n    selector: 'app-modal-re login',\r\n    templateUrl: './modal-relogin.component.html',\r\n    styleUrls: ['./modal-relogin.component.css']\r\n})\r\nexport class ModalReloginComponent implements OnInit {\r\n\r\n    isLoading: boolean = false;\r\n    errorMsg: string;\r\n\r\n    loginForm: FormGroup = new FormGroup({\r\n        username: new FormControl(\"\"),\r\n        password: new FormControl(\"\")\r\n    })\r\n\r\n    constructor(\r\n        private sessionService: SessionService,\r\n        private activeModal: NgbActiveModal) {\r\n\r\n        this.sessionService.events\r\n            .subscribe(e => this.handleSessionEvent(e))\r\n\r\n    }\r\n\r\n    handleSessionEvent(se) {\r\n\r\n        if ((se.status === SessionStatus.LOGGED_IN) || (se.status === SessionStatus.EXPIRING)) {\r\n\r\n            this.loginForm.setValue({\r\n                username: se.user.username,\r\n                password: \"\"\r\n            })\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        if (se.status === SessionStatus.EXPIRED) {\r\n            this.activeModal.dismiss(); // session expired\r\n            return;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    ngOnInit() { }\r\n\r\n\r\n    accept() {\r\n\r\n        this.isLoading = true;\r\n        this.errorMsg = \"\";\r\n\r\n        this.sessionService.check(this.loginForm.value)\r\n            .subscribe(\r\n                () => {\r\n                    this.isLoading = false;\r\n                    this.activeModal.close() // cred ok\r\n                },\r\n                (err) => {\r\n                    this.isLoading = false;\r\n                    this.errorMsg = err.message;\r\n                }\r\n            )\r\n\r\n    }\r\n\r\n    get hasError() {\r\n        return this.errorMsg;\r\n    }\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-12\\\">\\r\\n\\r\\n            <h5 class=\\\"font-weight-normal text-primary mt-4\\\">Informe mensual de unidades irradiadas</h5>\\r\\n            <hr />\\r\\n\\r\\n            <form class=\\\"form-inline\\\" [formGroup]=\\\"searchForm\\\" (submit)=\\\"generateReport()\\\">\\r\\n                <label class=\\\"mr-2 font-weight-bold\\\">Seleccione período: </label>\\r\\n                <input type=\\\"month\\\" class=\\\"form-control d-inline-block flex-grow-1 mr-2 rounded-0\\\" formControlName=\\\"selectedDate\\\" />\\r\\n                <button type=\\\"submit\\\" class=\\\"btn btn-primary rounded-0\\\" [disabled]=\\\"searchForm.invalid\\\">Generar</button>\\r\\n            </form>\\r\\n            <hr class=\\\"mt-4\\\" />\\r\\n\\r\\n            <div class=\\\"d-flex justify-content-center\\\" *ngIf=\\\"isLoading\\\">\\r\\n                <div class=\\\"loader\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"!isLoading && hasReport\\\">\\r\\n\\r\\n                <h5 class=\\\"font-weight-normal mt-4 text-primary\\\">Datos generales</h5>\\r\\n                <hr />\\r\\n\\r\\n                <table class=\\\"table table-bordered table-hover\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Período</th>\\r\\n                            <th>Total unidades irradiadas</th>\\r\\n                            <th *ngFor=\\\"let unitType of report.unitTypes\\\">Total {{unitType.code}}</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr>\\r\\n                            <td>{{report.startOfMonth | date: \\\"MM/yyyy\\\"}}</td>\\r\\n                            <td>{{report.unitCount}}</td>\\r\\n                            <td *ngFor=\\\"let unitCountMapping of report.unitCountMappings\\\">{{unitCountMapping.unitCount}}</td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n                <h6 class=\\\"font-weight-normal text-primary mt-4\\\">Unidades irradiadas por institución <br /> <span class=\\\"text-dark\\\">Antes 19Hs / Después 19Hs</span></h6>\\r\\n                <hr />\\r\\n\\r\\n                <table class=\\\"table table-bordered table-hover\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Institución</th>\\r\\n                            <th>Total unidades irradiadas</th>\\r\\n                            <th *ngFor=\\\"let unitType of report.unitTypes\\\">Total {{unitType.code}}</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let mappingPerInstitution of report.mappingsPerInstitution\\\">\\r\\n                            <td class=\\\"text-primary\\\">\\r\\n                                {{mappingPerInstitution.institution.name}}\\r\\n                                <br />\\r\\n                                <span class=\\\"text-muted\\\">{{mappingPerInstitution.institution.type.name}}</span>\\r\\n                                <br />\\r\\n                                <span class=\\\"text-muted\\\">{{mappingPerInstitution.institution.address}}</span>\\r\\n                            </td>\\r\\n                            <td>{{mappingPerInstitution.unitCountBefore19Hs}} / {{mappingPerInstitution.unitCountAfter19Hs}}</td>\\r\\n                            <td *ngFor=\\\"let unitTypeMapping of mappingPerInstitution.unitCountPerUnitTypeMappings\\\">\\r\\n                                {{unitTypeMapping.unitCountBefore19Hs}} / {{unitTypeMapping.unitCountAfter19Hs}}\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n\\r\\n                <h6 class=\\\"font-weight-normal text-primary mt-4\\\">Unidades irradiadas por institución <br /> <span class=\\\"text-dark\\\">Antes 19Hs / Después 19Hs</span></h6>\\r\\n                <hr />\\r\\n\\r\\n                <table class=\\\"table table-bordered table-hover\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Tipo de Institución</th>\\r\\n                            <th>Total unidades irradiadas</th>\\r\\n                            <th *ngFor=\\\"let unitType of report.unitTypes\\\">Total {{unitType.code}}</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let mappingPerInstitutionType of report.mappingsPerInstitutionType\\\">\\r\\n                            <td class=\\\"text-primary\\\">\\r\\n                                {{mappingPerInstitutionType.institutionType.name}} <br />\\r\\n                                <span class=\\\"text-muted\\\">{{mappingPerInstitutionType.institutionType.description}}</span>\\r\\n                            </td>\\r\\n                            <td>{{mappingPerInstitutionType.unitCountBefore19Hs}} / {{mappingPerInstitutionType.unitCountAfter19Hs}}  </td>\\r\\n                            <td *ngFor=\\\"let unitTypeMapping of mappingPerInstitutionType.unitCountPerUnitTypeMappings\\\">\\r\\n                                {{unitTypeMapping.unitCountBefore19Hs}} / {{unitTypeMapping.unitCountAfter19Hs}}\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n\\r\\n                <div class=\\\"d-flex justify-content-end my-4\\\">\\r\\n                    <button class=\\\"btn btn-primary rounded-0 px-5\\\" (click)=\\\"printReport()\\\">Imprimir informe</button>\\r\\n                </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { OrderService } from '../order.service';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { MessageService, MessageType } from '../message.service';\r\n\r\n@Component({\r\n    selector: 'app-monthly-report',\r\n    templateUrl: './monthly-report.component.html',\r\n    styleUrls: ['./monthly-report.component.css']\r\n})\r\nexport class MonthlyReportComponent implements OnInit {\r\n\r\n    report;\r\n    isLoading = false;\r\n\r\n    searchForm: FormGroup = new FormGroup({\r\n        selectedDate: new FormControl(null, Validators.required)\r\n    })\r\n\r\n    constructor(\r\n        private orderService: OrderService,\r\n        private messageService: MessageService) { }\r\n\r\n    ngOnInit() {\r\n\r\n        var currentDate = new Date()\r\n        this.searchForm.setValue({\r\n            selectedDate: currentDate.toISOString().split(\"T\")[0].split(\"-\").filter((item, idx) => idx < 2).join(\"-\")\r\n        })\r\n\r\n        this.generateReport();\r\n\r\n    }\r\n\r\n    generateReport() {\r\n\r\n        var date = new Date(this.searchForm.value.selectedDate.split(\"-\").join(\"/\")).toISOString();\r\n\r\n        this.isLoading = true;\r\n        this.orderService.monthlyReport(date)\r\n            .subscribe(\r\n            (report) => {\r\n                console.log(report)\r\n\r\n                    this.isLoading = false\r\n                    this.report = report\r\n                },\r\n                (err) => {\r\n                    this.isLoading = false\r\n                    this.report = null\r\n                    this.messageService.sendMessage({\r\n                        persist: false,\r\n                        type: MessageType.DANGER,\r\n                        text: `Error al intentar generar el informe: ${err.message}`,\r\n                        ttlInSeconds: 5\r\n                    })\r\n                })\r\n\r\n    }\r\n\r\n    printReport() {\r\n\r\n        window.print();\r\n\r\n    }\r\n\r\n    get hasReport() {\r\n\r\n        return !!this.report\r\n\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"d-flex  flex-wrap justify-content-start  align-items-center bg-white bg-faded  py-3 px-4 border-bottom\\\">\\r\\n\\r\\n    <div class=\\\"d-none d-lg-inline-flex flex-fill\\\">\\r\\n        <a routerLink=\\\"/\\\">\\r\\n            <img src=\\\"assets/logo.png\\\" class=\\\"d-inline-block\\\" height=\\\"35\\\">\\r\\n        </a>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"showsProfile\\\"\\r\\n         class=\\\"d-inline-flex flex-fill flex-wrap align-items-center justify-content-start justify-content-lg-end\\\">\\r\\n\\r\\n        <div class=\\\"d-inline-flex flex-column ml-3 order-2 order-lg-1\\\">\\r\\n            <div class=\\\"text-lg-right\\\">\\r\\n                <span>{{currentUser?.firstname}} {{currentUser?.lastname}}</span>\\r\\n                <span *ngIf=\\\"isClient\\\" class=\\\"text-muted\\\"> | {{currentUser.institution?.name}}</span>\\r\\n                <span *ngIf=\\\"!isClient\\\" class=\\\"text-muted\\\"> | Banco de Sangre</span>\\r\\n            </div>\\r\\n            <div class=\\\"text-lg-right\\\">\\r\\n                <a *ngIf=\\\"canAdmin\\\" [routerLink]=\\\"['/administradores']\\\">Administrar Banco<span class=\\\"text-muted\\\"> | </span></a>\\r\\n                <a *ngIf=\\\"currentUser.isInternal\\\" [routerLink]=\\\"['/operadores/informes/diario']\\\">Informe diario<span class=\\\"text-muted\\\"> | </span></a>\\r\\n                <a *ngIf=\\\"currentUser.isInternal\\\" [routerLink]=\\\"['/operadores/informes/mensual']\\\">Informe mensual<span class=\\\"text-muted\\\"> | </span></a>\\r\\n                <span class=\\\"btn-link\\\" (click)=\\\"logout()\\\">Cerrar sesión</span>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"order-1 order-lg-2\\\">\\r\\n            <img [src]=\\\"currentUser.avatarUrl\\\" class=\\\"p-0 m-0 ml-lg-3 rounded-circle\\\" height=\\\"40\\\">\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\n\r\nimport { Router, NavigationCancel, NavigationError } from \"@angular/router\"\r\n\r\nimport { SessionService, SessionStatus } from './../session.service'\r\n\r\nimport { MessageService } from \"./../message.service\"\r\n\r\nimport { filter, tap } from \"rxjs/operators\"\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n    selector: 'app-nav',\r\n    templateUrl: './nav.component.html',\r\n    styleUrls: ['./nav.component.css']\r\n})\r\nexport class NavComponent implements OnInit, OnDestroy {\r\n\r\n    currentUser: any = null;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private messageService: MessageService,\r\n        private sessionService: SessionService) {\r\n\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n\r\n        this.sessionService.events.subscribe((sessionEvent) => {\r\n\r\n            if (sessionEvent.status === SessionStatus.LOGGED_OUT || sessionEvent.status === SessionStatus.EXPIRED) {\r\n                this.currentUser = null; \r\n                this.router.navigateByUrl(\"login\");\r\n                return; \r\n            }\r\n\r\n            this.currentUser = sessionEvent.user\r\n\r\n\r\n        })\r\n\r\n    }\r\n\r\n    ngOnDestroy() { }\r\n\r\n    get showsProfile() {\r\n\r\n        return !!this.currentUser\r\n\r\n    }\r\n\r\n    get canAdmin() {\r\n\r\n        return this.showsProfile && this.currentUser.roles.map(d => d.name).includes(\"admin\");\r\n\r\n    }\r\n\r\n    get isClient() {\r\n\r\n        return this.showsProfile && !this.currentUser.isInternal\r\n\r\n    }\r\n\r\n    logout() {\r\n\r\n        this.sessionService.logout();\r\n\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from \"@angular/router\";\r\nimport { SessionService } from \"./session.service\";\r\n\r\n\r\n@Injectable()\r\nexport class NavigationService {\r\n\r\n    private currentUser;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private sessionService: SessionService) {\r\n\r\n        this.sessionService.events.subscribe(d => {\r\n            this.currentUser = d.user;\r\n        })\r\n\r\n\r\n    }\r\n\r\n    public navigateToHome() {\r\n\r\n        (this.currentUser.isInternal) ?\r\n            this.router.navigateByUrl(\"operadores\") :\r\n            this.router.navigateByUrl(\"clientes\")\r\n\r\n    }\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"text-center\\\">\\r\\n\\t<span class=\\\"display-4\\\">Error. La página no existe</span>\\r\\n</div>\\r\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n\tselector: 'app-not-found',\r\n\ttemplateUrl: './not-found.component.html',\r\n\tstyleUrls: ['./not-found.component.css']\r\n})\r\nexport class NotFoundComponent {}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container mb-3\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col\\\">\\r\\n\\r\\n            <div class=\\\"d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"m-0 p-0 mr-3  text-primary font-weight-normal\\\">Órdenes</h5>\\r\\n            </div>\\r\\n            <hr />\\r\\n\\r\\n            <form [formGroup]=\\\"searchForm\\\" (submit)=\\\"search()\\\">\\r\\n\\r\\n                <div class=\\\"form-row\\\">\\r\\n\\r\\n\\r\\n                    <div class=\\\"col-lg-3\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">ID</span>\\r\\n                            </div>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"id\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n\\r\\n                    <div class=\\\"col-lg-3\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Código</span>\\r\\n                            </div>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"code\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n\\r\\n                    <div class=\\\"col-lg-3\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Estado</span>\\r\\n                            </div>\\r\\n                            <select type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"statusId\\\">\\r\\n                                <option [ngValue]=\\\"null\\\">-</option>\\r\\n                                <option *ngFor=\\\"let status of orderStatuses\\\" [ngValue]=\\\"status.name\\\">{{status.name}}</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n                    <div class=\\\"col-lg-3\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Prioridad</span>\\r\\n                            </div>\\r\\n                            <select type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"priorityId\\\">\\r\\n                                <option [ngValue]=\\\"null\\\">-</option>\\r\\n                                <option *ngFor=\\\"let priority of orderPriorities\\\" [ngValue]=\\\"priority.id\\\">{{priority.name}}</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-row\\\">\\r\\n\\r\\n                    <div class=\\\"col-lg-4\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2 flex-grow-1\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Institución</span>\\r\\n                            </div>\\r\\n                            <select type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"institutionId\\\">\\r\\n                                <option [ngValue]=\\\"null\\\">-</option>\\r\\n                                <option *ngFor=\\\"let institution of institutions\\\" [ngValue]=\\\"institution.id\\\">{{institution.name}}</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-lg-4\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Desde</span>\\r\\n                            </div>\\r\\n                            <input type=\\\"date\\\" class=\\\"form-control\\\" formControlName=\\\"startDate\\\" />\\r\\n                        </div>\\r\\n\\r\\n\\r\\n\\r\\n                    </div>\\r\\n                    <div class=\\\"col-lg-4\\\">\\r\\n                        <div class=\\\"input-group mb-2 mr-2\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\">Hasta</span>\\r\\n                            </div>\\r\\n                            <input type=\\\"date\\\" class=\\\"form-control\\\" formControlName=\\\"endDate\\\" />\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-lg-2 mx-auto mt-2\\\">\\r\\n                        <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block mb-2 rounded-0\\\">Buscar</button>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n            </form>\\r\\n            <hr />\\r\\n\\r\\n            <div class=\\\"text-center\\\" *ngIf=\\\"isLoading\\\">\\r\\n                <div class=\\\"loader\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"table-responsive\\\">\\r\\n                <table class=\\\"table table-hover table-bordered\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th *ngFor=\\\"let column of columns\\\">\\r\\n                                <div class=\\\"d-flex align-items-center\\\">\\r\\n                                    <span class=\\\"flex-grow-1\\\">{{column.displayName}}</span>\\r\\n                                    <div class=\\\"ml-3\\\" *ngIf=\\\"column.sortable\\\">\\r\\n                                        <span ngbTooltip=\\\"Ordenar ascendententemente por {{column.displayName}}\\\"\\r\\n                                              class=\\\"sorting-enabled\\\"\\r\\n                                              [class.sorting-disabled]=\\\"sorting?.name === column.name && sorting?.direction === 'ASC'\\\"\\r\\n                                              (click)=\\\"changeSorting({name: column.name, direction: 'ASC'})\\\">&uarr;</span>\\r\\n                                        <span ngbTooltip=\\\"Ordenar descendentemente por {{column.displayName}}\\\"\\r\\n                                              class=\\\"sorting-enabled\\\"\\r\\n                                              [class.sorting-disabled]=\\\"sorting?.name === column.name && sorting?.direction === 'DESC'\\\"\\r\\n                                              (click)=\\\"changeSorting({name: column.name, direction: 'DESC'})\\\">&darr;</span>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </th>\\r\\n                            <th>Acciones</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let order of orders\\\">\\r\\n                            <td class=\\\"text-muted\\\">{{order.id | leftzeroes}}</td>\\r\\n                            <td>{{order.creationDate | date: \\\"dd/MM/yyyy\\\" }}</td>\\r\\n                            <td>{{order.lastModified | date: \\\"dd/MM/yyyy\\\" }}</td>\\r\\n                            <td>{{order.code}}</td>\\r\\n                            <td [class.text-danger]=\\\"order.status.name === 'RECHAZADA'\\\">\\r\\n                                {{order.status.name}}\\r\\n                            </td>\\r\\n                            <td>{{order.owner.firstname}} {{order.owner.lastname}}</td>\\r\\n                            <td>{{order.institution.name}}</td>\\r\\n                            <td>{{order.priority.name}}</td>\\r\\n                            <td>{{order.unitCount}}</td>\\r\\n                            <td>\\r\\n                                <div class=\\\"d-inline-flex justify-content-start align-items-center p-0 m-0\\\">\\r\\n                                    <button class=\\\"btn btn-primary py-1 rounded-0 mr-1\\\" routerLink=\\\"ordenes/{{order.id}}/revisión\\\">Detalles</button>\\r\\n                                    <button class=\\\"btn btn-success py-1 rounded-0 mr-1\\\" *ngIf=\\\"order.status.name === 'EN_PROCESO'\\\" routerLink=\\\"ordenes/{{order.id}}/irradiación\\\">Irradiar</button>\\r\\n                                </div>\\r\\n                            </td>\\r\\n\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </div>\\r\\n\\r\\n            <app-pagination *ngIf=\\\"paging\\\"\\r\\n                            [itemCount]=\\\"orderCount\\\"\\r\\n                            [pageSizes]=\\\"pageSizes\\\"\\r\\n                            [pageSize]=\\\"paging.pageSize\\\"\\r\\n                            [page]=\\\"paging.page\\\"\\r\\n                            (pageChange)=\\\"changePage($event)\\\"\\r\\n                            (pageSizeChange)=\\\"changePageSize($event)\\\"></app-pagination>\\r\\n\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit, OnDestroy, Inject } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Subject, merge, of, zip, Observable, Subscription, throwError } from \"rxjs\";\r\nimport { filter, map, startWith, switchMap, tap, pairwise, concatMap, partition, catchError, finalize } from 'rxjs/operators';\r\nimport { MessageService, MessageType } from '../message.service';\r\nimport { OrderService, Order, Page, OrderStatus, OrderPriority } from '../order.service';\r\nimport { InstitutionsService, Institution } from '../institutions.service';\r\n\r\nexport interface Query {\r\n    where?: {}\r\n    skip?: number\r\n    limit?: number\r\n    order?: string[]\r\n    include?: any\r\n}\r\nexport interface TableColumn {\r\n    name: string,\r\n    displayName: string\r\n    sortable: boolean\r\n}\r\n\r\nexport interface Paging {\r\n    page: number,\r\n    pageSize: number\r\n}\r\n\r\nexport interface Sorting {\r\n    name: string\r\n    direction: string\r\n}\r\n\r\n@Component({\r\n    selector: 'app-operator',\r\n    templateUrl: './operator.component.html',\r\n    styleUrls: ['./operator.component.css']\r\n})\r\nexport class OperatorComponent implements OnInit, OnDestroy {\r\n\r\n    filtering: {};\r\n\r\n    includes: {} = [\r\n        { units: { type: true } },\r\n        { status: true },\r\n        { priority: true },\r\n        { owner: true },\r\n        { institution: true }\r\n    ]\r\n\r\n    paging: Paging\r\n    sorting: Sorting\r\n\r\n    pageSizes: number[] = [20, 30, 50]\r\n\r\n    orders: Order[];\r\n    orderCount = 0;\r\n\r\n    institutions: Institution[]\r\n    orderStatuses: OrderStatus[]\r\n    orderPriorities: OrderPriority[]\r\n\r\n    isLoading: boolean = false;\r\n\r\n    searchForm: FormGroup = new FormGroup({\r\n        id: new FormControl(),\r\n        code: new FormControl(),\r\n        institutionId: new FormControl(),\r\n        statusId: new FormControl(),\r\n        priorityId: new FormControl(),\r\n        startDate: new FormControl(),\r\n        endDate: new FormControl()\r\n    })\r\n\r\n    columns: TableColumn[] = [\r\n        { name: \"id\", displayName: \"ID\", sortable: true },\r\n        { name: \"creationDate\", displayName: \"Creada\", sortable: true },\r\n        { name: \"lastModified\", displayName: \"Modificada\", sortable: true },\r\n        { name: \"code\", displayName: \"Código\", sortable: true },\r\n        { name: \"statusId\", displayName: \"Estado\", sortable: true },\r\n        { name: \"ownerId\", displayName: \"Alta\", sortable: true },\r\n        { name: \"institutionId\", displayName: \"Institución\", sortable: true },\r\n        { name: \"priorityId\", displayName: \"Prioridad\", sortable: true },\r\n        { name: \"unitCount\", displayName: \"Unidades\", sortable: true }\r\n    ]\r\n\r\n    private readonly initialQuery = {\r\n        where: {},\r\n        skip: 0,\r\n        limit: this.pageSizes[0],\r\n        order: [`lastModified DESC`],\r\n        include: this.includes\r\n    };\r\n\r\n    constructor(\r\n        private institutionService: InstitutionsService,\r\n        private orderService: OrderService,\r\n        private messageService: MessageService) { }\r\n\r\n\r\n    ngOnInit(): void {\r\n\r\n        this.searchForm.valueChanges.subscribe(d => console.log(d))\r\n\r\n\r\n        this.isLoading = true;\r\n        zip(this.fetchData(), this.fetchOrders(this.initialQuery))\r\n            .pipe(tap(() => this.isLoading = false, (err) => this.isLoading = false))\r\n            .subscribe(\r\n                (data: any) => {\r\n\r\n                    this.institutions = data[0][0]\r\n                    this.orderStatuses = data[0][1]\r\n                    this.orderPriorities = data[0][2]\r\n\r\n                    this.handleOrders(data[1][0], data[1][1])\r\n\r\n                },\r\n                (err) => {\r\n                    this.handleErr(err)\r\n                }\r\n            )\r\n\r\n\r\n\r\n    }\r\n\r\n    private fetchData() {\r\n\r\n        return zip(\r\n            this.institutionService.find(),\r\n            this.orderService.findStatuses(),\r\n            this.orderService.findPriorities()\r\n        );\r\n\r\n    }\r\n\r\n    private fetchOrders(q: Query) {\r\n\r\n        return zip(of(q), this.orderService.find(q))\r\n\r\n    }\r\n\r\n\r\n    ngOnDestroy(): void { }\r\n\r\n    where() {\r\n\r\n        let fns = {\r\n            id: (id) => ({ id: id }),\r\n            code: (code) => ({ code: { regexp: `.*${code}.*` } }),\r\n            institutionId: (id) => ({ institutionId: id }),\r\n            priorityId: (id) => ({ priorityId: id }),\r\n            statusId: (id) => ({ statusId: id }),\r\n            startDate: (date) => ({\r\n                or: [\r\n                    { creationDate: new Date(date.split(\"-\").join(\"/\")).toISOString() },\r\n                    { creationDate: { gt: new Date(date.split(\"-\").join(\"/\")).toISOString() } }\r\n                ]\r\n            }),\r\n            endDate: (date) => ({\r\n                or: [\r\n                    { creationDate: new Date(date.split(\"-\").join(\"/\")).toISOString() },\r\n                    { creationDate: { lt: new Date(date.split(\"-\").join(\"/\")).toISOString() } }\r\n                ]\r\n            })\r\n        }\r\n\r\n        let clauses = Object.entries(this.searchForm.value)\r\n            .filter(([key, value]) => value)\r\n            .map(([key, value]) => fns[key](value))\r\n            .reduce((clauses, clause) => [...clauses, clause], [])\r\n\r\n        let where = {\r\n            and: [...clauses]\r\n        }\r\n\r\n        return where;\r\n\r\n    }\r\n\r\n\r\n    handleOrders(query: Query, page: Page<Order>) {\r\n\r\n        this.orderCount = page.count;\r\n        this.orders = page.items;\r\n\r\n        this.filtering = query.where;\r\n\r\n        this.paging = {\r\n            page: (query.skip / query.limit) + 1,\r\n            pageSize: query.limit\r\n        }\r\n\r\n        let [name, direction] = query.order[0].split(' ')\r\n\r\n        this.sorting = {\r\n            name,\r\n            direction\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    handleErr(err) {\r\n\r\n        this.messageService.sendMessage({\r\n            type: MessageType.DANGER,\r\n            persist: false,\r\n            text: err.message\r\n        })\r\n\r\n    }\r\n\r\n\r\n    search() {\r\n\r\n        let query = {\r\n            where: this.where(),\r\n            skip: 0,\r\n            limit: this.paging.pageSize,\r\n            order: [\"lastModified DESC\"],\r\n            include: this.includes\r\n        }\r\n\r\n        this.queryOrders(query);\r\n\r\n    }\r\n\r\n\r\n\r\n    private queryOrders(q: Query) {\r\n\r\n        this.isLoading = true;\r\n        this.fetchOrders(q)\r\n            .pipe(tap(() => this.isLoading = false, (err) => this.isLoading = false))\r\n            .subscribe(([q, orders]) => this.handleOrders(q, orders), (err) => this.handleErr(err));\r\n\r\n    }\r\n\r\n    changePage(page: number) {\r\n\r\n        let query = {\r\n            where: this.filtering,\r\n            skip: (page - 1) * this.paging.pageSize,\r\n            limit: this.paging.pageSize,\r\n            order: [`${this.sorting.name} ${this.sorting.direction}`],\r\n            include: this.includes\r\n        }\r\n\r\n        this.queryOrders(query);\r\n\r\n    }\r\n\r\n    changePageSize(pageSize: number) {\r\n\r\n        let query = {\r\n            where: this.filtering,\r\n            skip: Math.floor((this.paging.page - 1) * this.paging.pageSize / pageSize) * pageSize,\r\n            limit: pageSize,\r\n            order: [`${this.sorting.name} ${this.sorting.direction}`],\r\n            include: this.includes\r\n        }\r\n\r\n        this.queryOrders(query);\r\n\r\n    }\r\n\r\n    changeSorting({ name, direction }) {\r\n\r\n        let query = {\r\n            where: this.filtering,\r\n            skip: 0,\r\n            limit: this.paging.pageSize,\r\n            order: [`${name} ${direction}`],\r\n            include: this.includes\r\n        }\r\n\r\n        this.queryOrders(query);\r\n\r\n    }\r\n\r\n}\r\n\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row mb-5\\\">\\r\\n\\r\\n        <div class=\\\"col\\\">\\r\\n\\r\\n            <div *ngIf=\\\"isLoading\\\" class=\\\"text-center\\\">\\r\\n                <div class=\\\"loader\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"hasOrder\\\" class=\\\"mt-2\\\">\\r\\n\\r\\n                <h5 class=\\\"text-primary \\\">Órden</h5>\\r\\n                <h6 class=\\\"text-muted\\\">{{order.id | leftzeroes}}</h6>\\r\\n                <hr />\\r\\n\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3 mb-2\\\">\\r\\n                        <span class=\\\"h6\\\">Código:</span><br /> <span>{{order.code}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3 mb-2\\\">\\r\\n                        <span class=\\\"h6\\\">Fecha de alta:</span><br /> <span>{{order.creationDate | date: \\\"dd/MM/yyyy hh:mm:ss\\\"}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3 mb-2\\\">\\r\\n                        <span class=\\\"h6\\\">Última modificación:</span><br /> <span>{{order.lastModified | date: \\\"dd/MM/yyyy hh:mm:ss\\\"}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3 mb-2\\\">\\r\\n                        <span class=\\\"h6\\\">Estado:</span><br />\\r\\n                        <span ngbTooltip=\\\"{{order.status.description}}\\\"\\r\\n                              [class.text-muted]=\\\"order.status.name === 'CANCELADA'\\\"\\r\\n                              [class.text-success]=\\\"order.status.name === 'EN_PROCESO'\\\"\\r\\n                              [class.text-primary]=\\\"order.status.name === 'IRRADIADA'\\\"\\r\\n                              [class.text-warning]=\\\"order.status.name === 'PENDIENTE'\\\"\\r\\n                              [class.text-danger]=\\\"order.status.name === 'RECHAZADA'\\\">{{order.status.name}}</span>\\r\\n                    </div>\\r\\n\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Ingresada por:</span>\\r\\n                        <br />\\r\\n                        <span>{{order.owner.firstname}} {{order.owner.lastname}}</span>\\r\\n                        <span> /</span>\\r\\n                        <br />\\r\\n                        <span class=\\\"text-primary\\\">{{order.owner.institution.name}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Aceptada por:</span><br />\\r\\n                        <span *ngIf=\\\"!order.orderAcceptor\\\">-</span>\\r\\n                        <span *ngIf=\\\"order.orderAcceptor\\\">{{order.orderAcceptor.firstname}} {{order.orderAcceptor.lastname}} <br /> {{order.acceptedOn | date: \\\"dd/MM/yyyy hh:mm\\\"}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Prioridad:</span><br /> <span ngbTooltip=\\\"{{order.priority.description}}\\\">{{order.priority.name}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Transportista:</span><br /> <span>{{order.carrier}}</span>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <h6 class=\\\"text-primary  mt-4\\\">Unidades</h6>\\r\\n\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <span class=\\\"h6 mr-1\\\">Total: </span> <span>{{order.unitCount}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngFor=\\\"let mapping of order.unitTypeMappings\\\" class=\\\"col-sm-2\\\">\\r\\n                        <span class=\\\"h6 mr-1\\\">{{mapping.unitType.code}}: </span> <span>{{mapping.count}}</span>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"table-responsive mt-3\\\">\\r\\n                    <table *ngIf=\\\"order\\\" class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>Tipo</th>\\r\\n                                <th>Código</th>\\r\\n                                <th>Fecha</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr *ngFor=\\\"let unit of order.units\\\">\\r\\n                                <td>{{unit.type.code}} - {{unit.type.name}}</td>\\r\\n                                <td>{{unit.code}}</td>\\r\\n                                <td>{{unit.creationDate | date: \\\"dd/MM/yyyy\\\"}}</td>\\r\\n\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"canModify\\\" class=\\\"d-flex flex-wrap justify-content-end\\\">\\r\\n                    <button class=\\\"btn btn-primary rounded-0 px-5 ml-2\\\" (click)=\\\"acceptOrder()\\\">Aceptar</button>\\r\\n                    <button class=\\\"btn btn-danger rounded-0 px-5 ml-2\\\" (click)=\\\"rejectOrder()\\\">Rechazar</button>\\r\\n                </div>\\r\\n\\r\\n                <h6 class=\\\"text-primary  mt-3\\\">Historial de revisiones</h6>\\r\\n                <hr />\\r\\n\\r\\n                <table *ngIf=\\\"order\\\" class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Fecha</th>\\r\\n                            <th>Comentario</th>\\r\\n                            <th>Operador</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let comment of order.conciliationComments\\\">\\r\\n                            <td>{{comment.date | date: \\\"dd/MM/yyyy hh:mm\\\"}}</td>\\r\\n                            <td>{{comment.comment}}</td>\\r\\n                            <td>{{comment.operator.firstname}} {{comment.operator.lastname}}</td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n\\r\\n                <h6 class=\\\"text-primary mb-1 mt-3\\\">Historial de irradiaciones: </h6>\\r\\n                <hr />\\r\\n\\r\\n                <ul class=\\\"list-unstyled\\\">\\r\\n\\r\\n                    <li class=\\\"media mb-3 border-bottom\\\" *ngFor=\\\"let irradiation of order.irradiations\\\">\\r\\n\\r\\n                        <img class=\\\"mr-3\\\" [src]=\\\"irradiation.irradiator.avatarUrl\\\" height=\\\"50\\\" width=\\\"50\\\">\\r\\n                        <div class=\\\"media-body\\\">\\r\\n\\r\\n                            <h6 class=\\\"mt-0 mb-1\\\">Fecha: </h6>\\r\\n                            <p class=\\\"text-primary\\\">{{irradiation.irradiationStart | date: \\\"dd/MM/yyyy hh:mm\\\"}}</p>\\r\\n\\r\\n                            <div class=\\\"container\\\">\\r\\n\\r\\n                                <div class=\\\"row\\\">\\r\\n\\r\\n                                    <div class=\\\"col-md-3 pl-0\\\">\\r\\n                                        <h6>Operador</h6>\\r\\n                                        <p>{{irradiation.irradiator.firstname}} {{irradiation.irradiator.lastname}}</p>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"col-md-3 pl-0\\\">\\r\\n                                        <h6>Etiqueta</h6>\\r\\n                                        <p>{{irradiation.irradiationTag}}</p>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"col-md-3 pl-0\\\">\\r\\n                                        <h6>Total unidades: </h6>\\r\\n                                        <p>{{irradiation.units.length}}</p>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"col-md-3 pl-0\\\">\\r\\n                                        <h6>Tiempo total de irradiación: </h6>\\r\\n                                        <p>{{irradiation.irradiationTime}} min</p>\\r\\n                                    </div>\\r\\n\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n\\r\\n                            <table class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n                                <thead>\\r\\n                                    <tr>\\r\\n                                        <th>Etiqueta</th>\\r\\n                                        <th>Codigo</th>\\r\\n                                        <th>Tipo</th>\\r\\n                                        <th>Inicio</th>\\r\\n                                        <th>Fin</th>\\r\\n                                        <th>Total</th>\\r\\n                                    </tr>\\r\\n                                </thead>\\r\\n                                <tbody>\\r\\n                                    <tr *ngFor=\\\"let unit of irradiation.units\\\">\\r\\n                                        <td>{{irradiation.irradiationTag}}</td>\\r\\n                                        <td>{{unit.code}}</td>\\r\\n                                        <td>{{unit.type.code}} - {{unit.type.name}}</td>\\r\\n                                        <td>{{irradiation.irradiationStart | date: \\\"hh:mm:ss\\\"}}</td>\\r\\n                                        <td>{{irradiation.irradiationEnd | date: \\\"hh:mm:ss\\\"}}</td>\\r\\n                                        <td>{{irradiation.irradiationTime}} min</td>\\r\\n                                    </tr>\\r\\n                                </tbody>\\r\\n                            </table>\\r\\n\\r\\n                            <h6 class=\\\"mt-0 mb-1 text-success\\\">Comentarios: </h6>\\r\\n                            <p class=\\\"text-muted\\\">{{irradiation.comments}}</p>\\r\\n\\r\\n                        </div>\\r\\n\\r\\n                    </li>\\r\\n\\r\\n                </ul>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, ActivatedRoute, Router } from '@angular/router';\r\nimport { OrderService, Order, OrderStatus } from '../order.service';\r\nimport { MessageService, MessageType } from '../message.service';\r\nimport { interval, from as fromPromise, zip, throwError } from 'rxjs';\r\nimport { take, switchMap, map, tap, finalize, flatMap, catchError } from 'rxjs/operators';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ConfirmModalComponent } from '../confirm-modal/confirm-modal.component';\r\nimport { User, SessionService } from '../session.service';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'app-order-conciliation',\r\n    templateUrl: './order-conciliation.component.html',\r\n    styleUrls: ['./order-conciliation.component.css']\r\n})\r\nexport class OrderConciliationComponent implements OnInit, OnDestroy {\r\n\r\n    statuses: OrderStatus[];\r\n    nextStatus: OrderStatus;\r\n\r\n    order: Order\r\n    user: User\r\n\r\n    isLoading: boolean = false;\r\n\r\n    private orderIncludes = [\r\n        { units: { type: true } },\r\n        { orderAcceptor: true },\r\n        { priority: true },\r\n        { status: true },\r\n        { owner: { institution: true } },\r\n        { conciliationComments: { operator: true } },\r\n        { unitTypeMappings: { unitType: true } },\r\n        { irradiations: [{ units: { type: true } }, { irradiator: true }] }\r\n    ];\r\n\r\n    constructor(\r\n        private orderService: OrderService,\r\n        private messageService: MessageService,\r\n        private sessionService: SessionService,\r\n        private router: Router,\r\n        private modalService: NgbModal,\r\n        private route: ActivatedRoute) {\r\n\r\n        this.sessionService.events.subscribe(sessionEvent => {\r\n            this.user = sessionEvent.user\r\n        })\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n\r\n        this.orderService.findStatuses()\r\n            .subscribe(\r\n                (statuses: OrderStatus[]) => this.statuses = statuses\r\n            );\r\n\r\n\r\n        this.route.params\r\n            .pipe(\r\n                map((params) => params.id),\r\n                tap(() => this.startLoading()),\r\n                flatMap((orderId) => this.orderService.findById(orderId, {\r\n                    include: this.orderIncludes\r\n                }))\r\n            )\r\n            .subscribe(\r\n                (order) => this.setOrder(order),\r\n                (err) => this.handleErr(err)\r\n            );\r\n\r\n    }\r\n\r\n    ngOnDestroy(): void { }\r\n\r\n\r\n    startLoading() {\r\n        this.isLoading = true;\r\n    }\r\n\r\n\r\n    stopLoading() {\r\n        this.isLoading = false;\r\n    }\r\n\r\n    setOrder(order: Order) {\r\n\r\n        this.isLoading = false;\r\n        this.order = order;\r\n\r\n    }\r\n\r\n    handleErr(err) {\r\n\r\n        this.isLoading = false;\r\n        this.messageService.sendMessage({\r\n            type: MessageType.DANGER,\r\n            persist: false,\r\n            text: err.message\r\n        })\r\n\r\n    }\r\n\r\n    acceptOrder() {\r\n\r\n        this.nextStatus =\r\n            this.statuses.filter((status) => status.name === \"EN_PROCESO\")[0];\r\n\r\n        this.orderService.markOrderAsAcceptedBy(this.order.id, this.nextStatus, this.user.id)\r\n            .pipe(\r\n                tap(order => console.log(order)),\r\n                flatMap(order => this.orderService.findById(order.id, { include: this.orderIncludes }))\r\n            )\r\n            .subscribe(\r\n                (order) => {\r\n\r\n                    this.order = order\r\n                    this.messageService.sendMessage({\r\n                        type: MessageType.SUCCESS,\r\n                        persist: true,\r\n                        text: \"La operación se realizó correctamente. La orden ya puede comenzar a ser irradiada\"\r\n                    })\r\n\r\n                    this.router.navigateByUrl(`/operadores/ordenes/${this.order.id}/irradiación`);\r\n\r\n                },\r\n                err => {\r\n\r\n                    this.messageService.sendMessage({\r\n                        type: MessageType.DANGER,\r\n                        persist: false,\r\n                        text: `Error al intentar modificar la orden. ${err.message}`\r\n                    })\r\n                }\r\n\r\n            );\r\n\r\n    }\r\n\r\n    rejectOrder() {\r\n\r\n        this.nextStatus =\r\n            this.statuses.filter((status) => status.name === \"RECHAZADA\")[0];\r\n\r\n        fromPromise(this.modalService.open(ConfirmModalComponent, { size: \"lg\" }).result)\r\n            .subscribe(\r\n                (comment) => zip(\r\n                    this.orderService.markOrderAs(this.order.id, this.nextStatus),\r\n                    this.orderService.addConciliationComment(this.order.id, {\r\n                        operatorId: this.user.id,\r\n                        comment: comment,\r\n                        date: new Date()\r\n                    })\r\n                )\r\n                    .pipe(flatMap(([order, comment]) => this.orderService.findById(order.id, { include: this.orderIncludes })))\r\n                    .subscribe(\r\n                        order => {\r\n                            this.order = order\r\n                            this.messageService.sendMessage({\r\n                                type: MessageType.SUCCESS,\r\n                                persist: false,\r\n                                text: \"La operación se realizó exitosamente. La orden permanecerá rechazada hasta la próxima revisión del cliente.\"\r\n                            })\r\n\r\n                        },\r\n                        err => this.messageService.sendMessage({\r\n                            type: MessageType.DANGER,\r\n                            persist: false,\r\n                            text: `Error al intentar modificar la orden. ${err.message}`\r\n                        })\r\n                    ),\r\n                (err) => { console.log(\"Operación cancelada por el usuario\") }\r\n\r\n            )\r\n\r\n    }\r\n\r\n    get hasOrder() {\r\n\r\n        return !!this.order;\r\n\r\n\r\n    }\r\n\r\n\r\n    get canModify() {\r\n\r\n        return this.order.status.name === \"PENDIENTE\" // isPending \r\n\r\n    }\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-md-12 mx-auto\\\">\\r\\n\\r\\n            <div *ngIf=\\\"isLoading\\\" class=\\\"d-flex justify-content-center\\\">\\r\\n                <div class=\\\"loader\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"!isLoading\\\">\\r\\n\\r\\n                <h5 class=\\\"text-primary mt-3\\\">Órden</h5>\\r\\n                <h6 class=\\\"text-muted\\\">{{order.id | leftzeroes}}</h6>\\r\\n                <hr />\\r\\n\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3 mb-2\\\">\\r\\n                        <span class=\\\"h6\\\">Código:</span><br /> <span>{{order.code}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3 mb-2\\\">\\r\\n                        <span class=\\\"h6\\\">Fecha de alta:</span><br /> <span>{{order.creationDate | date: \\\"dd/MM/yyyy hh:mm:ss\\\"}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Última modificación:</span><br /> <span>{{order.lastModified | date: \\\"dd/MM/yyyy hh:mm:ss\\\"}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Estado:</span><br />\\r\\n                        <span [class.text-success]=\\\"order.status.name === 'EN_PROCESO'\\\"\\r\\n                              [class.text-primary]=\\\"order.status.name === 'IRRADIADA'\\\"\\r\\n                              [class.text-warning]=\\\"order.status.name === 'PENDIENTE'\\\"\\r\\n                              [class.text-danger]=\\\"order.status.name === 'RECHAZADA'\\\">{{order.status.name}}</span>\\r\\n                    </div>\\r\\n\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Ingresada por:</span>\\r\\n                        <br />\\r\\n                        <span>{{order.owner.firstname}} {{order.owner.lastname}}</span>\\r\\n                        <span> /</span>\\r\\n                        <br />\\r\\n                        <span class=\\\"text-primary\\\">{{order.owner.institution.name}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Aceptada por:</span><br />\\r\\n                        <span *ngIf=\\\"!order.orderAcceptor\\\">-</span>\\r\\n                        <span *ngIf=\\\"order.orderAcceptor\\\">{{order.orderAcceptor.firstname}} {{order.orderAcceptor.lastname}} <br /> {{order.acceptedOn | date: \\\"dd/MM/yyyy hh:mm\\\"}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Prioridad:</span><br /> <span>{{order.priority.name}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-sm-2 col-md-3\\\">\\r\\n                        <span class=\\\"h6\\\">Transportista:</span><br /> <span>{{order.carrier}}</span>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <h6 class=\\\"text-primary  mt-4\\\">Unidades</h6>\\r\\n                <hr />\\r\\n\\r\\n\\r\\n                <div class=\\\"row mb-3 \\\">\\r\\n\\r\\n                    <div class=\\\"col-sm-2\\\">\\r\\n                        <span class=\\\"h6 mr-1\\\">Total: </span> <span>{{order.unitCount}}</span>\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngFor=\\\"let mapping of order.unitTypeMappings\\\" class=\\\"col-sm-2\\\">\\r\\n                        <span class=\\\"h6 mr-1\\\">{{mapping.unitType.code}}: </span> <span>{{mapping.count}}</span>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <hr />\\r\\n\\r\\n                <div *ngIf=\\\"canIrradiate\\\">\\r\\n\\r\\n                    <h6 class=\\\"text-primary mb-3\\\">Irradiación</h6>\\r\\n\\r\\n                    <div class=\\\"custom-control custom-checkbox mb-3\\\">\\r\\n                        <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"customCheck1\\\" [formControl]=\\\"usbReaderEnabled\\\">\\r\\n                        <label class=\\\"custom-control-label\\\" for=\\\"customCheck1\\\">Uso de Lector USB</label>\\r\\n                    </div>\\r\\n\\r\\n\\r\\n                    <div class=\\\"form-row\\\">\\r\\n\\r\\n                        <div class=\\\"col-5\\\">\\r\\n\\r\\n                            <div class=\\\"input-group\\\">\\r\\n                                <div class=\\\"input-group-prepend\\\">\\r\\n                                    <span class=\\\"input-group-text\\\">Etiqueta</span>\\r\\n                                </div>\\r\\n                                <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                       [formControl]=\\\"selectedTag\\\"\\r\\n                                       [focused]=\\\"isWaitingForTag\\\"\\r\\n                                       (keydown.enter)=\\\"onTagConfirmed(); $event.preventDefault()\\\"\\r\\n                                       (keydown.tab)=\\\"onTagConfirmed(); $event.preventDefault()\\\">\\r\\n                            </div>\\r\\n\\r\\n                            <div *ngIf=\\\"hasTagError\\\" class=\\\"mt-2 d-block text-danger\\\">\\r\\n                                <span *ngIf=\\\"selectedTag.errors?.required\\\">Ingrese etiqueta</span>\\r\\n                            </div>\\r\\n\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"col-5\\\">\\r\\n\\r\\n                            <div class=\\\"input-group\\\">\\r\\n                                <div class=\\\"input-group-prepend\\\">\\r\\n                                    <span class=\\\"input-group-text\\\">Etiqueta</span>\\r\\n                                </div>\\r\\n                                <input class=\\\"form-control\\\" type=\\\"text\\\"\\r\\n                                       [formControl]=\\\"selectedUnitCode\\\"\\r\\n                                       [focused]=\\\"isWaitingForUnit\\\"\\r\\n                                       (keydown.enter)=\\\"selectUnit(); $event.preventDefault()\\\"\\r\\n                                       (keydown.tab)=\\\"selectUnit(); $event.preventDefault()\\\">\\r\\n                            </div>\\r\\n\\r\\n                            <div *ngIf=\\\"hasUnitCodeError\\\" class=\\\"mt-2 d-block text-danger\\\">\\r\\n                                <span *ngIf=\\\"selectedUnitCode.errors?.required\\\">Ingrese código de la unidad</span>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"unitCodeDoesNotExist\\\" class=\\\"mt-2 d-block text-danger\\\">\\r\\n                                <span>No existen unidades pendientes con el código {{lastErrorCode}}</span>\\r\\n                            </div>\\r\\n\\r\\n\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"col-2\\\">\\r\\n\\r\\n                            <button class=\\\"btn btn-block btn-primary rounded-0\\\" (click)=\\\"selectUnit()\\\">Agregar</button>\\r\\n\\r\\n                        </div>\\r\\n\\r\\n\\r\\n                    </div>\\r\\n\\r\\n\\r\\n                    <h6 class=\\\"text-primary mb-1 mt-3\\\">Unidades seleccionadas: </h6>\\r\\n                    <hr *ngIf=\\\"!isIrradiationInProcess\\\" />\\r\\n                    <div class=\\\"my-3\\\">\\r\\n                        <app-progress-bar *ngIf=\\\"isIrradiationInProcess\\\"></app-progress-bar>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"table-responsive\\\">\\r\\n                        <table class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n                            <thead>\\r\\n                                <tr>\\r\\n                                    <th>Etiqueta</th>\\r\\n                                    <th>Tipo</th>\\r\\n                                    <th>Código</th>\\r\\n                                    <th *ngIf=\\\"!isIrradiationInProcess\\\">Acciones</th>\\r\\n                                </tr>\\r\\n                            </thead>\\r\\n                            <tbody>\\r\\n                                <tr *ngFor=\\\"let unit of selectedUnits\\\">\\r\\n                                    <td>{{unit.irradiationTag}}</td>\\r\\n                                    <td>{{unit.type.code}} - {{unit.type.name}}</td>\\r\\n                                    <td>{{unit.code}}</td>\\r\\n                                    <td *ngIf=\\\"!isIrradiationInProcess\\\">\\r\\n                                        <span class=\\\"btn-link\\\" style=\\\"cursor: pointer;\\\" (click)=\\\"removeUnit(unit)\\\">Eliminar</span>\\r\\n                                    </td>\\r\\n                                </tr>\\r\\n                            </tbody>\\r\\n                        </table>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"d-flex justify-content-center mb-2\\\">\\r\\n                        <button *ngIf=\\\"!isIrradiationInProcess\\\" class=\\\"btn btn-primary px-5 rounded-0\\\" [disabled]=\\\"!canStart\\\" (click)=\\\"startIrradiation()\\\">Comenzar</button>\\r\\n\\r\\n                        <div class=\\\"d-flex flex-row justify-content-center align-items-center\\\">\\r\\n                            <button *ngIf=\\\"isIrradiationInProcess\\\" class=\\\"btn btn-danger px-5 rounded-0\\\" (click)=\\\"stopIrradiation()\\\" [disabled]=\\\"!canStop\\\">Finalizar</button>\\r\\n                            <span *ngIf=\\\"isIrradiationInProcess\\\" class=\\\"ml-2 text-muted\\\">{{elapsedTime}}</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <h6 class=\\\"text-primary mb-1 mt-3 align-self-start\\\">Unidades pendientes de irradiación: </h6>\\r\\n                    <hr>\\r\\n                    <div class=\\\"table-responsive\\\" *ngIf=\\\"pendingUnits\\\">\\r\\n                        <table class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n                            <thead>\\r\\n                                <tr>\\r\\n                                    <th>Tipo</th>\\r\\n                                    <th>Código</th>\\r\\n                                    <th *ngIf=\\\"hasTag\\\">Acciones</th>\\r\\n                                </tr>\\r\\n                            </thead>\\r\\n                            <tbody>\\r\\n                                <tr *ngFor=\\\"let unit of pendingUnits\\\">\\r\\n                                    <td>{{unit.type.code}} - {{unit.type.name}}</td>\\r\\n                                    <td>{{unit.code}}</td>\\r\\n                                    <td *ngIf=\\\"hasTag\\\">\\r\\n                                        <button class=\\\"btn btn-link p-0 m-0\\\" style=\\\"font-size: .925rem\\\" (click)=\\\"selectManually(unit)\\\">Seleccionar</button>\\r\\n                                    </td>\\r\\n                                </tr>\\r\\n                            </tbody>\\r\\n                        </table>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n\\r\\n                <h6 class=\\\"text-primary mb-1 mt-3\\\">Historial de irradiaciones: </h6>\\r\\n                <hr />\\r\\n\\r\\n                <ul class=\\\"list-unstyled\\\">\\r\\n\\r\\n                    <li class=\\\"media mb-3 border-bottom\\\" *ngFor=\\\"let irradiation of irradiations\\\">\\r\\n\\r\\n                        <img class=\\\"mr-3\\\" [src]=\\\"irradiation.irradiator.avatarUrl\\\" height=\\\"50\\\" width=\\\"50\\\">\\r\\n                        <div class=\\\"media-body\\\">\\r\\n\\r\\n                            <h6 class=\\\"mt-0 mb-1\\\">Fecha: </h6>\\r\\n                            <p class=\\\"text-primary\\\">{{irradiation.irradiationStart | date: \\\"dd/MM/yyyy hh:mm\\\"}}</p>\\r\\n\\r\\n                            <div class=\\\"container\\\">\\r\\n\\r\\n                                <div class=\\\"row\\\">\\r\\n\\r\\n                                    <div class=\\\"col-md-3 pl-0\\\">\\r\\n                                        <h6>Operador</h6>\\r\\n                                        <p>{{irradiation.irradiator.firstname}} {{irradiation.irradiator.lastname}}</p>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"col-md-3 pl-0\\\">\\r\\n                                        <h6>Etiqueta</h6>\\r\\n                                        <p>{{irradiation.irradiationTag}}</p>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"col-md-3 pl-0\\\">\\r\\n                                        <h6>Total unidades: </h6>\\r\\n                                        <p>{{irradiation.units.length}}</p>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"col-md-3 pl-0\\\">\\r\\n                                        <h6>Tiempo total de irradiación: </h6>\\r\\n                                        <p>{{irradiation.irradiationTime}} min</p>\\r\\n                                    </div>\\r\\n\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n\\r\\n                            <table class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n                                <thead>\\r\\n                                    <tr>\\r\\n                                        <th>Etiqueta</th>\\r\\n                                        <th>Codigo</th>\\r\\n                                        <th>Tipo</th>\\r\\n                                        <th>Inicio</th>\\r\\n                                        <th>Fin</th>\\r\\n                                        <th>Total</th>\\r\\n                                    </tr>\\r\\n                                </thead>\\r\\n                                <tbody>\\r\\n                                    <tr *ngFor=\\\"let unit of irradiation.units\\\">\\r\\n                                        <td>{{irradiation.irradiationTag}}</td>\\r\\n                                        <td>{{unit.code}}</td>\\r\\n                                        <td>{{unit.type.code}} - {{unit.type.name}}</td>\\r\\n                                        <td>{{irradiation.irradiationStart | date: \\\"hh:mm:ss\\\"}}</td>\\r\\n                                        <td>{{irradiation.irradiationEnd | date: \\\"hh:mm:ss\\\"}}</td>\\r\\n                                        <td>{{irradiation.irradiationTime}} min</td>\\r\\n                                    </tr>\\r\\n                                </tbody>\\r\\n                            </table>\\r\\n\\r\\n                            <h6 class=\\\"mt-0 mb-1 text-success\\\">Comentarios: </h6>\\r\\n                            <p class=\\\"text-muted\\\">{{irradiation.comments}}</p>\\r\\n\\r\\n                        </div>\\r\\n\\r\\n                    </li>\\r\\n\\r\\n                </ul>\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit, OnDestroy, HostListener } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { OrderService, Order } from '../order.service';\r\nimport { FormControl, Validators } from '@angular/forms';\r\nimport { interval, GroupedObservable, Observable, from as fromPromise, timer, throwError, from } from 'rxjs';\r\nimport { map, flatMap, tap, take, catchError } from 'rxjs/operators';\r\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ConfirmModalComponent } from '../confirm-modal/confirm-modal.component';\r\nimport { SessionService } from '../session.service';\r\n\r\nimport moment from \"moment-es6\"\r\n\r\nimport { MessageService, MessageType } from '../message.service';\r\nimport { CancelConfirmationModalComponent } from '../cancel-confirmation-modal/cancel-confirmation-modal.component';\r\nimport { ModalReloginComponent } from '../modal-relogin/modal-relogin.component';\r\nimport { SelectUnitModalComponent } from '../select-unit-modal/select-unit-modal.component';\r\nimport { ConfigService } from '../config.service';\r\nimport { isInteger } from '@ng-bootstrap/ng-bootstrap/util/util';\r\nimport { ConfirmActionModalComponent } from '../confirm-action-modal/confirm-action-modal.component';\r\n\r\n@Component({\r\n    selector: 'app-order-irradiation',\r\n    templateUrl: './order-irradiation.component.html',\r\n    styleUrls: ['./order-irradiation.component.css']\r\n})\r\nexport class OrderIrradiationComponent implements OnInit, OnDestroy {\r\n\r\n    irradiations: any[];\r\n\r\n    unitCodeDoesNotExist: boolean = false;\r\n    order: Order\r\n\r\n    intervalSubscription\r\n\r\n    usbReaderEnabled: FormControl = new FormControl(true);\r\n\r\n    lastErrorCode: string\r\n\r\n    isLoading = false;\r\n\r\n    startTime: Date\r\n    stopTime: Date\r\n\r\n    elapsedTime: string\r\n\r\n    tagCodeInvalidCharCount: number\r\n    unitCodeInvalidCharCount: number\r\n\r\n    canStop: boolean = false;\r\n\r\n    currentUser\r\n\r\n    minTimeOfIrradiation: number;\r\n\r\n    comment: FormControl = new FormControl(\"\");\r\n\r\n    isWaitingForTag: {} = { should: true }\r\n    isWaitingForUnit: {} = { should: false }\r\n\r\n    hasUnitCodeError: boolean = false;\r\n    hasTagError: boolean = false;\r\n\r\n    isIrradiationInProcess: boolean = false;\r\n\r\n    pendingUnits: any[] = []\r\n    completedUnits: any[] = []\r\n    selectedUnits: any[] = []\r\n\r\n    selectedTag: FormControl = new FormControl(\"\", Validators.required);\r\n    selectedUnitCode: FormControl = new FormControl(\"\", Validators.required);\r\n\r\n    private orderIncludes = [\r\n        { irradiations: [{ units: { type: true } }, { irradiator: true }] },\r\n        { priority: true },\r\n        { orderAcceptor: true },\r\n        { status: true },\r\n        { owner: { institution: true } },\r\n        { conciliationComments: { operator: true } },\r\n        { unitTypeMappings: { unitType: true } },\r\n        { units: { type: true } }\r\n    ];\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private messageService: MessageService,\r\n        private sessionService: SessionService,\r\n        private configService: ConfigService,\r\n        private modalService: NgbModal,\r\n        private orderService: OrderService) {\r\n\r\n        this.sessionService.events\r\n            .subscribe(s => {\r\n                this.currentUser = s.user\r\n            })\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.route.params\r\n            .pipe(\r\n                map((params) => params.id),\r\n                tap(() => this.isLoading = true),\r\n                flatMap((id) => this.orderService.findById(id, { include: this.orderIncludes })),\r\n                tap(\r\n                    () => this.isLoading = false,\r\n                    () => this.isLoading = false\r\n                )\r\n            )\r\n            .subscribe(\r\n                (order) => this.prepare(order),\r\n                (err) => this.handleErr(err)\r\n            )\r\n\r\n\r\n        this.configService.findAll()\r\n            .subscribe((config) => {\r\n\r\n                this.tagCodeInvalidCharCount = +((config.filter(d => (d as any).name === \"tagCodeInvalidCharCount\")[0] as any).value)\r\n                this.unitCodeInvalidCharCount = +((config.filter(d => (d as any).name === \"unitCodeInvalidCharCount\")[0] as any).value)\r\n                this.minTimeOfIrradiation =\r\n                    +((config.filter(d => (d as any).name === \"minTimeOfIrradiationInMinutes\")[0] as any).value) * 60 * 1000;\r\n\r\n                console.log(this.minTimeOfIrradiation, this.tagCodeInvalidCharCount, this.unitCodeInvalidCharCount)\r\n\r\n            }, (err) => {\r\n                this.handleErr(err)\r\n            })\r\n\r\n\r\n    }\r\n\r\n    ngOnDestroy() { }\r\n\r\n    prepare(order: any) {\r\n\r\n        [this.selectedTag, this.selectedUnitCode].forEach(d => d.reset())\r\n\r\n        this.order = order;\r\n\r\n        this.irradiations = order.irradiations.sort((a, b) => a.irradiationStart > b.irradiationStart ? -1 : 1)\r\n\r\n        this.selectedUnits = [];\r\n\r\n        this.pendingUnits =\r\n            order.units.filter(u => !u.irradiated);\r\n\r\n        this.completedUnits =\r\n            order.units\r\n                .filter(u => u.irradiated)\r\n                .map((u) => ({\r\n                    ...u,\r\n                    irradiationTime:\r\n                        Math.ceil((new Date(u.irradiationEnd).getTime() - new Date(u.irradiationStart).getTime()) / (1000 * 60))\r\n                }))\r\n\r\n\r\n    }\r\n\r\n    handleErr(err) {\r\n\r\n        this.messageService.sendMessage({\r\n            type: MessageType.DANGER,\r\n            persist: false,\r\n            text: err.message\r\n        })\r\n\r\n    }\r\n\r\n    get canIrradiate() {\r\n\r\n        return !!this.order && this.order.units.some(u => !u.irradiated)\r\n\r\n    }\r\n\r\n    onTagConfirmed() {\r\n\r\n        if (this.usbEnabled())\r\n            this.selectedTag.setValue(this.selectedTag.value.substr(this.tagCodeInvalidCharCount), { emitEvent: false })\r\n\r\n        if (this.selectedTag.invalid) {\r\n            this.hasTagError = true;\r\n            return;\r\n        }\r\n\r\n        this.hasTagError = false;\r\n\r\n        this.isWaitingForUnit = { should: true }\r\n\r\n    }\r\n\r\n    selectManually(unit) {\r\n\r\n        let item = this.pendingUnits.splice(this.pendingUnits.findIndex(u => u === unit), 1)[0];\r\n\r\n        item.irradiationTag = this.selectedTag.value;\r\n\r\n        this.selectedUnits.unshift(item);\r\n\r\n        this.isWaitingForUnit = { should: 1 }\r\n\r\n        this.unitCodeDoesNotExist = false;\r\n\r\n        this.hasUnitCodeError = false;\r\n\r\n        this.sortSelectedUnits()\r\n\r\n    }\r\n\r\n    private sortSelectedUnits() {\r\n\r\n        this.selectedUnits = this.selectedUnits.sort((u1, u2) => u1.type.code < u2.type.code ? -1 : 1);\r\n\r\n\r\n    }\r\n\r\n    private usbEnabled(): boolean {\r\n\r\n        return this.usbReaderEnabled.value;\r\n\r\n    }\r\n\r\n    selectUnit() {\r\n\r\n        if (!this.selectedTag.value) {\r\n            this.hasTagError = true;\r\n            return\r\n        }\r\n\r\n        if (this.usbEnabled())\r\n            this.selectedUnitCode.setValue(this.selectedUnitCode.value.substr(this.unitCodeInvalidCharCount), { emitEvent: false })\r\n\r\n        if (this.selectedUnitCode.invalid) {\r\n\r\n            this.hasUnitCodeError = true;\r\n            return;\r\n\r\n        }\r\n\r\n        this.hasUnitCodeError = false;\r\n\r\n        let i = this.pendingUnits.filter(u => u.code === this.selectedUnitCode.value)\r\n\r\n        if (i.length === 0) {\r\n\r\n            this.unitCodeDoesNotExist = true;\r\n            this.lastErrorCode = this.selectedUnitCode.value;\r\n            this.selectedUnitCode.reset()\r\n            return;\r\n\r\n        }\r\n\r\n        this.unitCodeDoesNotExist = false;\r\n\r\n        if (i.length === 1) {\r\n\r\n            let item = this.pendingUnits.splice(this.pendingUnits.findIndex(u => u === i[0]), 1)[0];\r\n\r\n            item.irradiationTag = this.selectedTag.value;\r\n\r\n            this.selectedUnits.unshift(item);\r\n\r\n            this.selectedUnitCode.reset();\r\n\r\n            this.isWaitingForUnit = { should: true }\r\n\r\n            this.sortSelectedUnits()\r\n\r\n\r\n        } else {\r\n\r\n            let d: NgbModalRef = this.modalService.open(SelectUnitModalComponent, {\r\n                size: \"lg\",\r\n                backdrop: \"static\",\r\n                centered: true,\r\n                keyboard: false\r\n            })\r\n\r\n            d.componentInstance.units = i;\r\n\r\n            from(d.result)\r\n                .subscribe(selectedUnit => {\r\n\r\n                    let item = this.pendingUnits.splice(this.pendingUnits.findIndex(u => u === selectedUnit), 1)[0];\r\n\r\n                    item.irradiationTag = this.selectedTag.value;\r\n\r\n                    this.selectedUnits.unshift(item);\r\n\r\n                    this.selectedUnitCode.reset();\r\n\r\n                    this.isWaitingForUnit = { should: true }\r\n\r\n                    this.sortSelectedUnits()\r\n\r\n                }, () => { })\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    startIrradiation() {\r\n\r\n        this.startTime = new Date();\r\n\r\n        this.canStop = false;\r\n        timer(this.minTimeOfIrradiation)\r\n            .subscribe(() => {\r\n                this.canStop = true\r\n            })\r\n\r\n        this.elapsedTime = \"00:00:00\"\r\n        this.intervalSubscription = interval(1000)\r\n            .pipe(map(d => {\r\n                let s = moment(this.startTime.toISOString())\r\n                let e = moment(new Date().toISOString())\r\n\r\n                let diff = e.diff(s);\r\n\r\n                this.elapsedTime = moment.utc(diff).format(\"HH:mm:ss\");\r\n\r\n            }))\r\n            .subscribe();\r\n\r\n\r\n        this.selectedTag.disable();\r\n        this.selectedUnitCode.disable();\r\n\r\n        this.isIrradiationInProcess = true;\r\n\r\n    }\r\n\r\n    stopIrradiation() {\r\n\r\n        this.stopTime = new Date();\r\n\r\n        this.showConfirmationModal()\r\n            .subscribe(() => {\r\n\r\n                this.intervalSubscription.unsubscribe();\r\n\r\n                this.showCommentModal().subscribe((comments) => {\r\n\r\n                    this.showReloginModal()\r\n                        .subscribe(() => {\r\n\r\n                            this.selectedTag.enable();\r\n                            this.selectedUnitCode.enable();\r\n\r\n                            this.isIrradiationInProcess = false;\r\n\r\n                            let irradiation = {\r\n                                units: this.selectedUnits.map(u => u.id),\r\n                                irradiationStart: this.startTime,\r\n                                irradiationEnd: this.stopTime,\r\n                                irradiationTag: this.selectedTag.value,\r\n                                irradiationTime: Math.ceil((this.stopTime.getTime() - this.startTime.getTime()) / 1000 / 60),\r\n                                irradiatorId: this.currentUser.id,\r\n                                comments: comments\r\n                            }\r\n\r\n                            this.orderService.addIrradiation(this.order.id, irradiation)\r\n                                .pipe(\r\n                                    catchError(err => throwError(new Error(`Error al intentar registro de irradiación. ${err.message}`))),\r\n                                    flatMap(() => this.orderService.findById(this.order.id, { include: this.orderIncludes })),\r\n                                    catchError(err => throwError(new Error(`Error. ${err.message}`))),\r\n                            )\r\n                                .subscribe(\r\n                                    (d) => this.handleEndOfIrradiation(d),\r\n                                    (err) => this.handleFailingEndOfIrradiation(err)\r\n                                );\r\n\r\n\r\n\r\n                        }, () => {\r\n\r\n                            console.log(`Login modal closed or dismissed`)\r\n\r\n                        })\r\n\r\n\r\n                }, () => { })\r\n\r\n\r\n            }, () => {\r\n\r\n                console.log(`Confirm modal closed`);\r\n\r\n            })\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private showConfirmationModal() {\r\n\r\n        let d: NgbModalRef =\r\n            this.modalService.open(ConfirmActionModalComponent, { backdrop: \"static\", keyboard: true, size: \"lg\" })\r\n\r\n        d.componentInstance.title = \"Confirmar fin de irradiación\"\r\n        d.componentInstance.message = \"Está seguro de que desea terminar el proceso de irradiación ?\"\r\n\r\n        return fromPromise(d.result);\r\n\r\n    }\r\n\r\n    private showCommentModal() {\r\n\r\n        let d: NgbModalRef =\r\n            this.modalService.open(CancelConfirmationModalComponent, { backdrop: \"static\", keyboard: false, size: \"lg\" })\r\n\r\n        return fromPromise(d.result);\r\n\r\n\r\n    }\r\n\r\n    private showReloginModal() {\r\n\r\n        return fromPromise(\r\n            this.modalService.open(ModalReloginComponent, { backdrop: \"static\", keyboard: false, size: \"lg\" }).result);\r\n\r\n    }\r\n\r\n\r\n\r\n    removeUnit(unit) {\r\n\r\n        let removed = this.selectedUnits.splice(this.selectedUnits.indexOf(unit), 1)[0];\r\n        this.pendingUnits.unshift(removed);\r\n\r\n    }\r\n\r\n    handleEndOfIrradiation(order: any) {\r\n\r\n        let message = \"La irradiación de los componentes se registró correctamente. \"\r\n        let add = order.status.name === \"IRRADIADA\" ? \"La orden se ha completado en su totalidad.\" : \"\";\r\n\r\n        let m = [message, add].join(\"\");\r\n\r\n        this.messageService.sendMessage({\r\n            persist: true,\r\n            type: MessageType.SUCCESS,\r\n            text: m\r\n        })\r\n\r\n        this.prepare(order);\r\n\r\n    }\r\n\r\n    handleFailingEndOfIrradiation(err: any) {\r\n\r\n        this.messageService.error(err.message)\r\n\r\n    }\r\n\r\n    get hasTag() {\r\n\r\n        return this.selectedTag.value && (this.isWaitingForUnit as any).should\r\n\r\n    }\r\n\r\n\r\n    get canStart() {\r\n\r\n        return this.selectedUnits.length > 0\r\n\r\n    }\r\n\r\n    @HostListener('window:beforeunload', ['$event'])\r\n    preventPageRefresh(event) {\r\n\r\n        if (this.isIrradiationInProcess)\r\n            event.returnValue = \"Está seguro que desea salir ?\"\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from \"./../environments/environment\";\r\nimport { Query } from './operator/operator.component';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\nexport interface UnitType {\r\n    id?\r\n    code?\r\n    name?\r\n    creation_date?\r\n}\r\n\r\n\r\nexport interface Unit {\r\n\r\n    id?\r\n    code\r\n    irradiated\r\n    creationDate\r\n\r\n}\r\n\r\nexport interface Order {\r\n    id?\r\n    code\r\n    statusId?\r\n    status?\r\n    carrier?\r\n    institutionId?\r\n    ownerId\r\n    creationDate?\r\n    priorityId\r\n    units?\r\n}\r\n\r\nexport interface OrderStatus {\r\n    id?\r\n    name: string\r\n    description: string\r\n}\r\n\r\nexport interface OrderPriority {\r\n\r\n    id?: number\r\n    name: string\r\n    description: string\r\n\r\n}\r\n\r\nexport interface Page<T> {\r\n\r\n    count: number\r\n    items: T[]\r\n\r\n}\r\n\r\n@Injectable()\r\nexport class OrderService {\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    find(q: Query) {\r\n\r\n        return this.http.get<Page<Order>>(`${environment.api.orders}/page?filter=${JSON.stringify(q)}`)\r\n\r\n    }\r\n\r\n    findById(orderId: number, q: Query) {\r\n\r\n        return this.http.get<Order>(`${environment.api.orders}/${orderId}?filter=${JSON.stringify(q)}`)\r\n\r\n    }\r\n\r\n    markOrderAs(orderId: number, status: OrderStatus): Observable<Order> {\r\n\r\n        return this.http.patch<Order>(`${environment.api.orders}/${orderId}`, {\r\n            statusId: status.name\r\n        })\r\n\r\n    }\r\n\r\n    markOrderAsAcceptedBy(orderId: number, status: OrderStatus, operatorId: number): Observable<Order> {\r\n\r\n        return this.http.patch<Order>(`${environment.api.orders}/${orderId}`, {\r\n            statusId: status.name,\r\n            operatorId: operatorId,\r\n            acceptedOn: new Date().toISOString()\r\n        })\r\n\r\n    }\r\n\r\n\r\n    addIrradiation(orderId: number, irradiation: any) {\r\n\r\n        return this.http.post(`${environment.api.orders}/${orderId}/irradiations`, irradiation);\r\n\r\n    }\r\n\r\n    addConciliationComment(orderId: number, { operatorId, comment, date }) {\r\n\r\n        return this.http.post(`${environment.api.orders}/${orderId}/conciliationComments`, {\r\n            operatorId: operatorId,\r\n            comment: comment\r\n        })\r\n\r\n    }\r\n\r\n\r\n    findStatuses() {\r\n\r\n        return this.http.get<OrderStatus[]>(`${environment.api.orderStatus}`)\r\n\r\n    }\r\n\r\n    findPriorities() {\r\n\r\n        return this.http.get<OrderPriority[]>(`${environment.api.orderPriorities}`);\r\n\r\n    }\r\n\r\n    findUnitTypes() {\r\n\r\n        return this.http.get<UnitType[]>(`${environment.api.unitTypes}`);\r\n\r\n    }\r\n\r\n    createOrder(order: Order) {\r\n\r\n        return this.http.post<Order>(`${environment.api.orders}`, order)\r\n\r\n    }\r\n\r\n    updateWithUnits(orderId: number, order: Order) {\r\n\r\n        return this.http.put<Order>(`${environment.api.orders}/update/${orderId}`, order)\r\n\r\n    }\r\n\r\n    dailyReport(date: string) {\r\n\r\n        let d = this.http.get(`${environment.api.dailyReport}?date=${date}`);\r\n        let c = d.pipe(map((reportData: any) => ({\r\n            date: reportData.date,\r\n            orders: reportData.orders.map(order => ({\r\n                ...order,\r\n                unitTypeMappings: order.unitTypeMappings.map(utm => ({\r\n                    ...utm,\r\n                    billing: Math.ceil(utm.count / utm.unitType.billingDivider)\r\n                }))\r\n            })),\r\n            orderCount: reportData.orders.length,\r\n            orderCountPerInstitutionType: reportData.institutionTypes.map(it => ({\r\n                it: it,\r\n                count: reportData.orders.filter(o => o.institution.type.name === it.name).length\r\n            }))\r\n        })));\r\n\r\n        return c;\r\n\r\n    }\r\n\r\n    monthlyReport(date: string) {\r\n\r\n        return this.http.get(`${environment.api.monthlyReport}?date=${date}`)\r\n            .pipe(map((reportData: any) => ({\r\n                ...reportData,\r\n                unitCount: reportData.orders.reduce((unitCount, order) => unitCount + order.unitCount, 0),\r\n                unitCountMappings: reportData.unitTypes.map((ut) => ({\r\n                    unitType: ut,\r\n                    unitCount:\r\n                        reportData.orders\r\n                            .map(o => o.unitTypeMappings)\r\n                            .map(utms => (utms.filter(utm => utm.unitType.code === ut.code))[0])\r\n                            .reduce((unitCount, item) => unitCount + item.count, 0)\r\n                })),\r\n                mappingsPerInstitution: reportData.institutions.map((i) => ({\r\n                    institution: i,\r\n                    unitCount:\r\n                        reportData.orders\r\n                            .filter(o => o.institution.id === i.id)\r\n                            .reduce((unitCount, order) => unitCount + order.unitCount, 0),\r\n                    unitCountBefore19Hs:\r\n                        reportData.orders\r\n                            .filter(o => o.institution.id === i.id)\r\n                            .map(order => order.irradiations.filter(i => new Date(i.irradiationStart).getHours() < 19)\r\n                                .reduce((count, i) => count + i.units.length, 0))\r\n                            .reduce((sum, item) => sum + item, 0),\r\n                    unitCountAfter19Hs:\r\n                        reportData.orders\r\n                            .filter(o => o.institution.id === i.id)\r\n                            .map(order => order.irradiations.filter(i => new Date(i.irradiationStart).getHours() >= 19)\r\n                                .reduce((count, i) => count + i.units.length, 0))\r\n                            .reduce((sum, item) => sum + item, 0),\r\n                    unitCountPerUnitTypeMappings:\r\n                        reportData.unitTypes.map((ut) => ({\r\n                            unitType: ut,\r\n                            unitCountBefore19Hs:\r\n                                reportData.orders\r\n                                    .filter(o => o.institution.id === i.id)\r\n                                    .map(o => o.irradiations\r\n                                        .filter(i => new Date(i.irradiationStart).getHours() < 19)\r\n                                        .reduce((units, i) => [...units, ...i.units], [])\r\n                                        .filter(u => u.type.code === ut.code)\r\n                                        .length\r\n                                    )\r\n                                    .reduce((sum, i) => sum + i, 0),\r\n                            unitCountAfter19Hs:\r\n                                reportData.orders\r\n                                    .filter(o => o.institution.id === i.id)\r\n                                    .map(o => o.irradiations\r\n                                        .filter(i => new Date(i.irradiationStart).getHours() >= 19)\r\n                                        .reduce((units, i) => [...units, ...i.units], [])\r\n                                        .filter(u => u.type.code === ut.code)\r\n                                        .length\r\n                                    )\r\n                                    .reduce((sum, i) => sum + i, 0)\r\n\r\n                        }))\r\n                })),\r\n                mappingsPerInstitutionType: reportData.institutionTypes.map((it) => ({\r\n                    institutionType: it,\r\n                    unitCount:\r\n                        reportData.orders.filter(o => o.institution.type.name === it.name)\r\n                            .reduce((unitCount, order) => unitCount + order.unitCount, 0),\r\n                    unitCountBefore19Hs:\r\n                        reportData.orders\r\n                            .filter(o => o.institution.type.name === it.name)\r\n                            .map(order => order.irradiations.filter(i => new Date(i.irradiationStart).getHours() < 19)\r\n                                .reduce((count, i) => count + i.units.length, 0))\r\n                            .reduce((sum, item) => sum + item, 0),\r\n                    unitCountAfter19Hs:\r\n                        reportData.orders\r\n                            .filter(o => o.institution.type.name === it.name)\r\n                            .map(order => order.irradiations.filter(i => new Date(i.irradiationStart).getHours() >= 19)\r\n                                .reduce((count, i) => count + i.units.length, 0))\r\n                            .reduce((sum, item) => sum + item, 0),\r\n                    unitCountPerUnitTypeMappings:\r\n                        reportData.unitTypes.map((ut) => ({\r\n                            unitType: ut,\r\n                            unitCountBefore19Hs:\r\n                                reportData.orders\r\n                                    .filter(o => o.institution.type.name === it.name)\r\n                                    .map(o => o.irradiations\r\n                                        .filter(i => new Date(i.irradiationStart).getHours() < 19)\r\n                                        .reduce((units, i) => [...units, ...i.units], [])\r\n                                        .filter(u => u.type.code === ut.code)\r\n                                        .length\r\n                                    )\r\n                                    .reduce((sum, i) => sum + i, 0),\r\n                            unitCountAfter19Hs:\r\n                                reportData.orders\r\n                                    .filter(o => o.institution.type.name === it.name)\r\n                                    .map(o => o.irradiations\r\n                                        .filter(i => new Date(i.irradiationStart).getHours() >= 19)\r\n                                        .reduce((units, i) => [...units, ...i.units], [])\r\n                                        .filter(u => u.type.code === ut.code)\r\n                                        .length\r\n                                    )\r\n                                    .reduce((sum, i) => sum + i, 0)\r\n\r\n                        }))\r\n                }))\r\n\r\n            })))\r\n\r\n\r\n    }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"d-flex align-items-center flex-wrap my-3\\\">\\r\\n    <ul class=\\\"pagination d-inline-flex justify-content-center flex-grow-1 mt-0 mb-0\\\">\\r\\n        <li class=\\\"page-item\\\" [class.disabled]=\\\"!hasPrevious\\\">\\r\\n            <a class=\\\"page-link\\\" (click)=\\\"first()\\\">\\r\\n                <span>&laquo;&laquo;</span>\\r\\n            </a>\\r\\n        </li>\\r\\n        <li class=\\\"page-item\\\" [class.disabled]=\\\"!hasPrevious\\\">\\r\\n            <a class=\\\"page-link\\\" (click)=\\\"previous()\\\">\\r\\n                <span>&laquo;</span>\\r\\n            </a>\\r\\n        </li>\\r\\n        <li *ngFor=\\\"let link of links\\\" class=\\\"page-item\\\" [class.active]=\\\"link === page\\\">\\r\\n            <a class=\\\"page-link\\\" (click)=\\\"goToPage(link)\\\">{{link}}</a>\\r\\n        </li>\\r\\n        <li class=\\\"page-item\\\" [class.disabled]=\\\"!hasNext\\\">\\r\\n            <a class=\\\"page-link\\\" (click)=\\\"next()\\\">\\r\\n                <span>&raquo;</span>\\r\\n            </a>\\r\\n        </li>\\r\\n        <li class=\\\"page-item\\\" [class.disabled]=\\\"!hasNext\\\">\\r\\n            <a class=\\\"page-link\\\" (click)=\\\"last()\\\">\\r\\n                <span>&raquo;&raquo;</span>\\r\\n            </a>\\r\\n        </li>\\r\\n\\r\\n    </ul>\\r\\n\\r\\n\\r\\n  <div class=\\\"d-inline-flex align-items-center\\\">\\r\\n    <label class=\\\"m-0 p-0 mr-2\\\">Items</label>\\r\\n    <select class=\\\"custom-select\\\" [formControl]=\\\"pageSizeControl\\\">\\r\\n      <option *ngFor=\\\"let pageSize of pageSizes\\\" [ngValue]=\\\"pageSize\\\">{{pageSize}}</option>\\r\\n    </select>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit, OnChanges, OnDestroy, Input, SimpleChanges, Output, EventEmitter } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-pagination',\r\n    templateUrl: './pagination.component.html',\r\n    styleUrls: ['./pagination.component.css']\r\n})\r\nexport class PaginationComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n    @Input()\r\n    page: number;\r\n\r\n    @Input()\r\n    pageSize: number;\r\n\r\n    @Input()\r\n    pageSizes: number[];\r\n\r\n    @Input()\r\n    itemCount: number;\r\n\r\n    @Output()\r\n    pageChange = new EventEmitter<number>();\r\n\r\n    @Output()\r\n    pageSizeChange = new EventEmitter<number>();\r\n\r\n    pageSizeControl: FormControl = new FormControl();\r\n\r\n    links: number[] = []\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.pageSizeControl.setValue(this.pageSize)\r\n        this.pageSizeControl.valueChanges\r\n            .subscribe(pageSize => this.pageSizeChange.emit(pageSize))\r\n\r\n    }\r\n\r\n    ngOnDestroy(): void { }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n\r\n        this.links = this.range(1, Math.ceil(this.itemCount / this.pageSize));\r\n\r\n    }\r\n\r\n    private range(min, max) {\r\n\r\n        let d = [];\r\n        for (var i = min; i <= max; i++)\r\n            d.push(i)\r\n\r\n        return d;\r\n\r\n    }\r\n\r\n    previous() {\r\n\r\n        this.pageChange.emit(this.page - 1)\r\n\r\n    }\r\n\r\n    next() {\r\n\r\n        this.pageChange.emit(this.page + 1)\r\n\r\n    }\r\n\r\n    goToPage(selectedPage) {\r\n\r\n        this.pageChange.emit(selectedPage);\r\n\r\n    }\r\n\r\n    first() {\r\n\r\n        this.pageChange.emit(1)\r\n\r\n    }\r\n\r\n    last() {\r\n\r\n        this.pageChange.emit(this.links.length)\r\n\r\n    }\r\n\r\n    get hasPrevious() {\r\n\r\n        return this.page > 1; \r\n\r\n    }\r\n\r\n    get hasNext() {\r\n\r\n        return this.page < this.links.length\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-md-6  mx-auto\\\">\\r\\n\\r\\n            <div class=\\\"card p-5 shadow-sm mt-3\\\">\\r\\n\\r\\n                <div class=\\\"d-block mx-auto w-50\\\">\\r\\n                    <img src=\\\"assets/logo.png\\\" class=\\\"img-fluid\\\">\\r\\n                </div>\\r\\n\\r\\n                <hr class=\\\"d-block w-100 mx-auto mt-5\\\">\\r\\n\\r\\n                <form [formGroup]=\\\"loginForm\\\" class=\\\"mt-3\\\" (submit)=\\\"confirm()\\\">\\r\\n\\r\\n                    <div class=\\\"form-group mb-4\\\">\\r\\n                        <label>Usuario</label>\\r\\n                        <h6 class=\\\"text-primary font-weight-normal\\\">{{username}}</h6>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label>Contraseña</label>\\r\\n                        <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"password\\\">\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                        <p *ngIf=\\\"loginForm.controls.password.errors?.required\\\">Ingrese contraseña</p>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label>Confirme contraseña</label>\\r\\n                        <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"passwordConfirm\\\">\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                        <p *ngIf=\\\"loginForm.controls.passwordConfirm.errors?.required\\\">Confirme contraseña</p>\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                        <p *ngIf=\\\"loginForm.errors?.passwordMatch\\\">Las contraseñas no coinciden</p>\\r\\n                    </div>\\r\\n\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block mb-2\\\">Confirmar cuenta</button>\\r\\n\\r\\n                </form>\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { MessageService, MessageType } from '../message.service';\r\nimport { UserService } from '../user.service';\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\n@Component({\r\n    selector: 'app-password-change',\r\n    templateUrl: './password-change.component.html',\r\n    styleUrls: ['./password-change.component.css']\r\n})\r\nexport class PasswordChangeComponent implements OnInit {\r\n\r\n    token: string;\r\n\r\n    loginForm: FormGroup = new FormGroup({\r\n        password: new FormControl(\"\", Validators.required),\r\n        passwordConfirm: new FormControl(\"\", Validators.required),\r\n    })\r\n\r\n    submitted = false\r\n\r\n    username: string\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private messageService: MessageService,\r\n        private userService: UserService,\r\n        private activatedRoute: ActivatedRoute) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.token = this.activatedRoute.snapshot.queryParams.token\r\n        this.username = jwt_decode(this.token).username\r\n\r\n    }\r\n\r\n    confirm() {\r\n\r\n        if (this.loginForm.invalid) {\r\n            this.submitted = true\r\n            return\r\n        }\r\n\r\n        this.userService.resetPassword({ ...this.loginForm.value, token: this.token })\r\n            .subscribe(() => this.onAccountConfirmed(), err => this.onError(err))\r\n\r\n    }\r\n\r\n    onAccountConfirmed() {\r\n\r\n        this.messageService.sendMessage({\r\n            text: \"La contraseña se modificó correctamente. Inicie sesión con sus credenciales\",\r\n            ttlInSeconds: 10,\r\n            type: MessageType.SUCCESS,\r\n            persist: true\r\n        })\r\n\r\n        this.router.navigateByUrl(\"/login\")\r\n\r\n    }\r\n\r\n    onError(err) {\r\n\r\n        this.messageService.error(err.message)\r\n\r\n    }\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-md-6  mx-auto\\\">\\r\\n\\r\\n            <div class=\\\"card p-5 shadow-sm mt-3\\\">\\r\\n\\r\\n                <div class=\\\"d-block mx-auto w-50\\\">\\r\\n                    <img src=\\\"assets/logo.png\\\" class=\\\"img-fluid\\\">\\r\\n                </div>\\r\\n\\r\\n                <hr class=\\\"d-block w-100 mx-auto mt-5\\\">\\r\\n\\r\\n                <form [formGroup]=\\\"prForm\\\" class=\\\"mt-3\\\" (submit)=\\\"resetPassword()\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label>Email</label>\\r\\n                        <input focused=\\\"true\\\" type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"email\\\">\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"submitted\\\" class=\\\"text-danger\\\">\\r\\n                        <p *ngIf=\\\"prForm.controls.email.errors?.required\\\">Ingrese email</p>\\r\\n                        <p *ngIf=\\\"prForm.controls.email.errors?.email\\\">Email no es válido</p>\\r\\n                    </div>\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block mb-2 rounded-0\\\">Resetear</button>\\r\\n                    <div *ngIf=\\\"isLoading\\\" class=\\\"text-center mt-3\\\">\\r\\n                        <div class=\\\"d-inline-block loader\\\"></div>\\r\\n                    </div>\\r\\n                </form>\\r\\n\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from '../user.service';\r\nimport { MessageService, MessageType } from '../message.service';\r\n\r\n@Component({\r\n    selector: 'app-password-reset',\r\n    templateUrl: './password-reset.component.html',\r\n    styleUrls: ['./password-reset.component.css']\r\n})\r\nexport class PasswordResetComponent implements OnInit {\r\n\r\n    prForm = new FormGroup({\r\n        email: new FormControl(\"\", [Validators.required, Validators.email])\r\n    })\r\n\r\n    submitted = false;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private messageService: MessageService,\r\n        private userService: UserService) { }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    resetPassword() {\r\n\r\n        if (this.prForm.invalid) {\r\n            this.submitted = true;\r\n            return\r\n        }\r\n\r\n        this.userService.requestPasswordReset(this.prForm.controls.email.value)\r\n            .subscribe(() => this.onSuccess(), (err) => this.onError(err))\r\n\r\n    }\r\n\r\n    onSuccess() {\r\n\r\n        this.messageService.sendMessage({\r\n            type: MessageType.SUCCESS,\r\n            text: \"La operación se realizó exitosamente. Revise su email para más instrucciones.\",\r\n            ttlInSeconds: 10,\r\n            persist: false\r\n        })\r\n\r\n\r\n    }\r\n\r\n    onError(err) {\r\n\r\n        this.messageService.error(err.message)\r\n\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanDeactivate, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { CanComponentDeactivate } from \"./can-component-deactivate\";\r\n\r\n\r\n\r\n\r\n\r\n@Injectable()\r\nexport class PendingChangesGuard implements CanDeactivate<CanComponentDeactivate> {\r\n\r\n    constructor() { }\r\n\r\n    canDeactivate(component: CanComponentDeactivate, currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\r\n\r\n        return component.canDeactivate();\r\n\r\n    }\r\n\r\n}\r\n","import { Directive, HostListener } from '@angular/core';\r\nimport { Event } from '@angular/router';\r\n\r\n@Directive({\r\n    selector: '[appPreventDefault]'\r\n\r\n})\r\nexport class PreventDefaultDirective {\r\n\r\n    constructor() { }\r\n\r\n    @HostListener(\"keydown.tab\", [\"$event\"])\r\n    preventTab($event) {\r\n\r\n        event.preventDefault();\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"slider\\\">\\r\\n    <div class=\\\"line\\\"></div>\\r\\n    <div class=\\\"subline inc\\\"></div>\\r\\n    <div class=\\\"subline dec\\\"></div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-progress-bar',\r\n  templateUrl: './progress-bar.component.html',\r\n  styleUrls: ['./progress-bar.component.css']\r\n})\r\nexport class ProgressBarComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"\\r\\n\\r\\n<div class=\\\"container p-4 rounded-0\\\">\\r\\n    <div class=\\\"modal-header\\\">\\r\\n        <h5 class=\\\"modal-title\\\">Seleccione una unidad con código: <span class=\\\"text-muted\\\">{{units[0].code}}</span></h5>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"modal-body\\\">\\r\\n        <div class=\\\"table-responsive\\\">\\r\\n            <table class=\\\"table table-stripped table-bordered\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th>Tipo</th>\\r\\n                        <th>Código</th>\\r\\n                        <th>Acciones</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let unit of units\\\">\\r\\n                        <td>{{unit.type.code}} - {{unit.type.name}}</td>\\r\\n                        <td>{{unit.code}}</td>\\r\\n                        <td><button class=\\\"btn btn-link m-0 p-0\\\" (click)=\\\"select(unit)\\\">Seleccionar</button></td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n    </div>\\r\\n\\r\\n\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\n@Component({\n    selector: 'app-select-unit-modal',\n    templateUrl: './select-unit-modal.component.html',\n    styleUrls: ['./select-unit-modal.component.css']\n})\nexport class SelectUnitModalComponent implements OnInit {\n\n    units: any[]\n\n    constructor(private activeModal: NgbActiveModal) { }\n\n    ngOnInit() { }\n\n    select(unit) {\n\r\n        this.activeModal.close(unit);\r\n\r\n    }\n\n}\n","\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from '@angular/core';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { BehaviorSubject, Subscription, timer } from \"rxjs\";\r\nimport { tap } from \"rxjs/operators\";\r\nimport { environment } from '../environments/environment';\r\nimport { Institution } from \"./institutions.service\";\r\n\r\n\r\nconst storage = environment.storage\r\nconst api = environment.api;\r\n\r\nexport enum SessionStatus {\r\n    NO_SESSION,\r\n    LOGGED_IN,\r\n    LOGGED_OUT,\r\n    EXPIRING,\r\n    EXPIRED\r\n}\r\n\r\nexport class Session {\r\n\r\n    constructor(\r\n        public token: string,\r\n        public iat: number,\r\n        public exp: number,\r\n        public offset: number,\r\n        public user) { }\r\n\r\n    get expirationDate() {\r\n\r\n        return new Date(this.exp * 1000);\r\n\r\n    }\r\n\r\n    get startDate() {\r\n\r\n        return new Date(this.iat * 1000);\r\n\r\n    }\r\n\r\n    get expirationAlert() {\r\n\r\n        return new Date((this.exp * 1000) - (this.offset * 60 * 1000));\r\n\r\n    }\r\n\r\n    status(date: Date = new Date()) {\r\n\r\n        return (date >= this.expirationDate) ?\r\n            SessionStatus.EXPIRED : ((date >= this.expirationAlert) ?\r\n                SessionStatus.EXPIRING : SessionStatus.LOGGED_IN)\r\n\r\n    }\r\n\r\n}\r\n\r\ninterface Role {\r\n\r\n    id?: number\r\n    name: string\r\n    description: string\r\n\r\n}\r\n\r\n\r\nexport interface User {\r\n\r\n    id?\r\n    avatarUrl\r\n    firstname\r\n    lastname\r\n    username\r\n    isInternal\r\n    roles?: Role[]\r\n    institution?: Institution\r\n\r\n\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class SessionService {\r\n\r\n    private session: Session;\r\n\r\n    private timerSubscription: Subscription;\r\n\r\n    private sessionEvents: BehaviorSubject<any> = new BehaviorSubject(this.checkSession());\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    public login({ username, password }) {\r\n\r\n        return this.http.post(environment.api.login, { username, password })\r\n            .pipe(tap((loginInfo) => this.setSession(loginInfo)))\r\n\r\n    }\r\n\r\n    public check(credentials) {\r\n\r\n        return this.http.post(environment.api.verifyCredentials, credentials);\r\n\r\n    }\r\n\r\n\r\n\r\n    private setSession(loginInfo) {\r\n\r\n        let decoded = jwt_decode(loginInfo.token);\r\n\r\n        this.session = new Session(\r\n            loginInfo.token,\r\n            decoded.iat,\r\n            decoded.exp,\r\n            environment.sessionAlertOffsetInMin,\r\n            loginInfo.user\r\n        )\r\n\r\n        storage.setItem(\"session\", JSON.stringify(this.session))\r\n\r\n        this.sessionEvents.next(this.onSessionStarted());\r\n\r\n    }\r\n\r\n    private onSessionExpired() {\r\n\r\n        storage.clear();\r\n\r\n        return {\r\n            status: SessionStatus.EXPIRED\r\n        }\r\n\r\n    }\r\n\r\n    private onSessionExpiring() {\r\n\r\n        this.timerSubscription = timer(this.session.expirationDate)\r\n            .subscribe(() => {\r\n                this.sessionEvents.next(this.onSessionExpired());\r\n            });\r\n\r\n        return {\r\n            status: SessionStatus.EXPIRING,\r\n            token: this.session.token,\r\n            user: this.session.user,\r\n            date: this.session.expirationDate\r\n        }\r\n\r\n    }\r\n\r\n    private onSessionStarted() {\r\n\r\n        if (this.timerSubscription)\r\n            this.timerSubscription.unsubscribe();\r\n\r\n        this.timerSubscription = timer(this.session.expirationAlert).subscribe(() => {\r\n            this.sessionEvents.next(this.onSessionExpiring());\r\n        });\r\n\r\n        return {\r\n            status: SessionStatus.LOGGED_IN,\r\n            token: this.session.token,\r\n            user: this.session.user,\r\n            date: this.session.expirationDate\r\n        }\r\n\r\n    }\r\n\r\n    private checkSession() {\r\n\r\n        let s = JSON.parse(storage.getItem(\"session\"));\r\n\r\n        if (!s) {\r\n            return {\r\n                status: SessionStatus.NO_SESSION\r\n            }\r\n        }\r\n\r\n        this.session = new Session(\r\n            s.token,\r\n            s.iat,\r\n            s.exp,\r\n            s.offset,\r\n            s.user\r\n        )\r\n\r\n\r\n        let status = this.session.status();\r\n\r\n        if (status === SessionStatus.EXPIRED)\r\n            return this.onSessionExpired()\r\n\r\n        if (status === SessionStatus.EXPIRING)\r\n            return this.onSessionExpiring()\r\n\r\n        return this.onSessionStarted();\r\n\r\n    }\r\n\r\n\r\n    public logout() {\r\n\r\n        if (this.timerSubscription)\r\n            this.timerSubscription.unsubscribe();\r\n\r\n        storage.clear();\r\n\r\n        this.sessionEvents.next({\r\n            status: SessionStatus.LOGGED_OUT,\r\n            date: new Date()\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    get events() {\r\n\r\n        return this.sessionEvents.asObservable();\r\n\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Observable } from \"rxjs\"\r\n\r\nimport {HttpInterceptor, HttpHandler, HttpEvent, HttpRequest} from \"@angular/common/http\"\r\n\r\nimport { SessionService, SessionStatus } from \"./session.service\"\r\n\r\n\r\n@Injectable()\r\nexport class TokenInterceptor implements HttpInterceptor {\r\n\r\n\tprivate token: string; \r\n\r\n\tconstructor(private sessionService: SessionService) {\r\n\r\n\t\tthis.sessionService.events.subscribe(s => {\r\n\t\t\t\tthis.token = s.token;\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tintercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n\r\n\t\tif(this.token)\r\n\t\t\treturn next.handle(req.clone({\r\n\t\t\t\theaders: req.headers.set(`Authorization`, `Bearer ${this.token}`)\r\n\t\t\t}));\r\n\t\telse \r\n\t\t\treturn next.handle(req);\r\n\r\n\t}\r\n\t\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"p-5\\\">\\r\\n\\r\\n    <div class=\\\"modal-content p-3 rounded-0\\\">\\r\\n\\r\\n        <div class=\\\"modal-header\\\">\\r\\n            <h5 class=\\\"modal-title\\\">Modificar unidad: </h5>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"modal-body\\\">\\r\\n\\r\\n            <form [formGroup]=\\\"unitForm\\\">\\r\\n\\r\\n                <div class=\\\"form-row\\\">\\r\\n\\r\\n                    <div class=\\\"col-md-4\\\">\\r\\n                        <label>Código: </label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"code\\\" />\\r\\n                        <div class=\\\"text-danger\\\" *ngIf=\\\"submitted\\\">\\r\\n                            <p *ngIf=\\\"unitForm.controls.code.errors?.required\\\">Ingrese código de la unidad</p>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"col-md-8\\\">\\r\\n                        <label>Tipo: </label>\\r\\n                        <select class=\\\"form-control flex-grow-1\\\" formControlName=\\\"type\\\">\\r\\n                            <option [ngValue]=\\\"null\\\">Seleccionar</option>\\r\\n                            <option *ngFor=\\\"let unitType of unitTypes\\\" [ngValue]=\\\"unitType\\\">{{unitType.code}} - {{unitType.name}}</option>\\r\\n                        </select>\\r\\n                        <div class=\\\"text-danger\\\" *ngIf=\\\"submitted\\\">\\r\\n                            <p *ngIf=\\\"unitForm.controls.type.errors?.required\\\">Ingrese tipo de unidad</p>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"mt-4 d-flex justify-content-end\\\">\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary rounded-0 mr-3 px-5\\\" (click)=\\\"confirm()\\\">Aceptar</button>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-info rounded-0 px-5\\\" (click)=\\\"cancel()\\\">Cancelar</button>\\r\\n                </div>\\r\\n\\r\\n            </form>\\r\\n\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n    </div>\\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-unit-edit-modal',\r\n    templateUrl: './unit-edit-modal.component.html',\r\n    styleUrls: ['./unit-edit-modal.component.css']\r\n})\r\nexport class UnitEditModalComponent implements OnInit {\r\n\r\n    unit: any\r\n    unitTypes: any\r\n\r\n    previous: any\r\n\r\n    submitted = false;\r\n\r\n    unitForm: FormGroup = new FormGroup({\r\n        code: new FormControl(null, Validators.required),\r\n        type: new FormControl(null, Validators.required)\r\n    })\r\n\r\n    constructor(private activeModal: NgbActiveModal) { }\r\n\r\n\r\n    ngOnInit() {\r\n\r\n        this.previous = { ...this.unit }\r\n        this.unitForm.setValue({\r\n            code: this.unit.code,\r\n            type: this.unitTypes.filter(t => t.code === this.unit.type.code)[0]\r\n        });\r\n\r\n    }\r\n\r\n    confirm() {\r\n\r\n        if (this.unitForm.invalid) {\r\n            this.submitted = true\r\n            return\r\n        }\r\n\r\n        this.activeModal.close({ previous: this.previous, actual: this.unitForm.value })\r\n\r\n    }\r\n\r\n    cancel() {\r\n\r\n        this.activeModal.dismiss();\r\n\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\r\n\nimport { environment } from \"./../environments/environment\";\r\n\n@Injectable()\nexport class UnitTypeService {\n\n    constructor(private http: HttpClient) { }\n\n    public update(id, unitType) {\n\n        return this.http.put(`${environment.api.unitTypes}/${id}`, unitType);\n\r\n    }\n\n}\n","module.exports = \"\"","module.exports = \"\\r\\n<div class=\\\"container p-5\\\">\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n\\r\\n        <div class=\\\"col-10 mx-auto\\\">\\r\\n\\r\\n            <h5>Modificar Tipo de unidad hemocomponente: </h5>\\r\\n            <hr />\\r\\n\\r\\n            <form [formGroup]=\\\"unitTypeForm\\\" (submit)=\\\"update()\\\">\\r\\n\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label>Código: </label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"code\\\" />\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label>Nombre: </label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"name\\\" [focused]=\\\"{should: true}\\\" />\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"d-flex justify-content-end\\\">\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-primary rounded-0 mr-3\\\" [disabled]=\\\"unitTypeForm.invalid\\\">Guardar</button>\\r\\n                    <button class=\\\"btn btn-secondary rounded-0\\\" (click)=\\\"cancel()\\\">Cancelar</button>\\r\\n                </div>\\r\\n\\r\\n            </form>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ConfigService } from '../config.service';\r\nimport { UnitTypeService } from '../unit-type.service';\r\n\r\n@Component({\r\n    selector: 'app-unittype-edit-modal',\r\n    templateUrl: './unittype-edit-modal.component.html',\r\n    styleUrls: ['./unittype-edit-modal.component.css']\r\n})\r\nexport class UnittypeEditModalComponent implements OnInit {\r\n\r\n    unitTypeForm: FormGroup = new FormGroup({\r\n        id: new FormControl({ value: \"\", disabled: true }),\r\n        code: new FormControl({ value: \"\", disabled: true }),\r\n        name: new FormControl({ value: \"\", disabled: false }, [Validators.required, Validators.minLength(5)])\r\n    });\r\n\r\n    constructor(\r\n        private activeModal: NgbActiveModal,\r\n        private unitTypeService: UnitTypeService) { }\r\n\r\n    ngOnInit() { }\r\n\r\n    update() {\r\n\r\n        this.unitTypeService.update(this.unitTypeForm.controls.id.value, this.unitTypeForm.value)\r\n            .subscribe(() => {\r\n\r\n                this.activeModal.close()\r\n\r\n            }, (err) => {\r\n\r\n                this.activeModal.dismiss()\r\n\r\n            })\r\n\r\n    }\r\n\r\n    cancel() {\r\n\r\n        this.activeModal.dismiss()\r\n\r\n    }\r\n\r\n    setUnitType(unitType) {\r\n\r\n\r\n        this.unitTypeForm.setValue({\r\n            id: unitType.id,\r\n            code: unitType.code,\r\n            name: unitType.name\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\n","import { HttpClient } from \"@angular/common/http\";\r\n\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { throwError } from \"rxjs\";\r\n\r\nimport { catchError } from \"rxjs/operators\";\r\n\r\nimport { environment } from '../environments/environment';\r\n\r\nconst api = environment.api;\r\n\r\n@Injectable()\r\nexport class UserService {\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    find(q = {}) {\r\n\r\n        return this.http.get(`${environment.api.users}?filter=${JSON.stringify(q)}`)\r\n            .pipe(catchError(err => throwError(err.error.error)))\r\n\r\n    }\r\n\r\n    createClient(user: any) {\r\n\r\n        return this.http.post(`${environment.api.users}/clients`, user);\r\n\r\n    }\r\n\r\n    activate(data: any) {\r\n\r\n        return this.http.post(`${environment.api.accountConfirm}`, data);\r\n\r\n    }\r\n\r\n    enable(userId) {\r\n\r\n        return this.http.put(`${environment.api.users}/${userId}/enable`, {});\r\n\r\n    }\r\n\r\n    disable(userId) {\r\n\r\n        return this.http.put(`${environment.api.users}/${userId}/disable`, {});\r\n\r\n    }\r\n\r\n    requestPasswordReset(email: string) {\r\n\r\n        return this.http.post(`${environment.api.passwordResetRequests}`, { email });\r\n\r\n    }\r\n\r\n    resetPassword(resetInfo) {\r\n\r\n        return this.http.post(`${environment.api.passwordReset}`, resetInfo);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"container\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-12\\\">\\r\\n\\r\\n            <h5 class=\\\"text-primary \\\">Usuarios</h5>\\r\\n            <hr />\\r\\n\\r\\n            <table class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th>ID</th>\\r\\n                        <th>Nombre</th>\\r\\n                        <th>Email</th>\\r\\n                        <th>Usuario</th>\\r\\n                        <th>Alta</th>\\r\\n                        <th>Estado</th>\\r\\n                        <th>Órdenes</th>\\r\\n                        <th>Acciones</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let user of users\\\">\\r\\n                        <td>{{user.id}}</td>\\r\\n                        <td>{{user.firstname}} {{user.lastname}}</td>\\r\\n                        <td>{{user.email}}</td>\\r\\n                        <td>{{user.username}}</td>\\r\\n                        <td>{{user.creationDate | date: \\\"dd/MM/yyyy\\\"}}</td>\\r\\n                        <td>{{user.accountConfirmed ? (user.active ? 'ACTIVO' : 'INACTIVO') : 'PENDIENTE'}}</td>\\r\\n                        <td>{{user.orderCount}}</td>\\r\\n                        <td>\\r\\n                            <ul class=\\\"list-inline m-0\\\">\\r\\n                                <li *ngIf=\\\"!user.active\\\" class=\\\"list-item m-0\\\"><span class=\\\"text-primary\\\" (click)=\\\"enableUser(user.id)\\\">Habilitar</span></li>\\r\\n                                <li *ngIf=\\\"user.active\\\" class=\\\"list-item m-0\\\"><span class=\\\"text-primary\\\" (click)=\\\"disableUser(user.id)\\\">Deshabilitar</span></li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from '../user.service';\r\nimport { MessageService } from '../message.service';\r\n\r\n@Component({\r\n    selector: 'app-users',\r\n    templateUrl: './users.component.html',\r\n    styleUrls: ['./users.component.css']\r\n})\r\nexport class UsersComponent implements OnInit {\r\n\r\n    users\r\n\r\n    constructor(\r\n        private messageService: MessageService,\r\n        private userService: UserService) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.userService.find({ order: [\"orderCount DESC\"] })\r\n            .subscribe((users) => { this.users = users }, err => this.handleError(err));\r\n\r\n    }\r\n\r\n    disableUser(userId) {\r\n\r\n        this.userService.disable(userId)\r\n            .subscribe(() => this.ngOnInit(), err => this.handleError(err))\r\n\r\n    }\r\n\r\n    enableUser(userId) {\r\n\r\n        this.userService.enable(userId)\r\n            .subscribe(() => this.ngOnInit(), err => this.handleError(err))\r\n\r\n    }\r\n\r\n    handleError(err) {\r\n\r\n        this.messageService.error(err.message)\r\n\r\n    }\r\n\r\n\r\n}\r\n","\r\nconst api = '/api'\r\n\r\nexport const environment = {\r\n\r\n    production: false,\r\n    api: {\r\n        config: `${api}/config`,\r\n        passwordReset: `${api}/password-reset`,\r\n        passwordResetRequests: `${api}/password-reset-requests`,\r\n        accountConfirm: `${api}/xusers/account-confirm`,\r\n        login: `${api}/xusers/login`,\r\n        verifyCredentials: `${api}/xusers/verifyCredentials`,\r\n        users: `${api}/xusers`,\r\n        orders: `${api}/orders`,\r\n        dailyReport: `${api}/orders/dailyReport`,\r\n        monthlyReport: `${api}/orders/monthlyReport`,\r\n        institutions: `${api}/institutions`,\r\n        institutionTypes: `${api}/institutionTypes`,\r\n        orderStatus: `${api}/orderstatus`,\r\n        orderPriorities: `${api}/order-priorities`,\r\n        unitTypes: `${api}/unit-types`\r\n    },\r\n    storage: sessionStorage,\r\n    sessionAlertOffsetInMin: 2\r\n\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}